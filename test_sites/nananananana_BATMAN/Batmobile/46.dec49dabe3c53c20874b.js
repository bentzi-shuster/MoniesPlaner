(window.webpackJsonp=window.webpackJsonp||[]).push([[46,125],{"/7BY":function(t,e,i){var n=i("p5f7");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i("SZ7m").default)("160f56a4",n,!0,{})},WRqI:function(t,e,i){"use strict";i.r(e);var n=i("O3of"),r={name:"record-tracking-event-link",props:{category:{type:String,required:!0},label:{type:String,required:!0},eventName:{type:String,required:!1,default:function(){return""}},classes:{type:String,required:!1,default:function(){return""}},customStyle:{type:String,required:!1,default:function(){return""}}},methods:{clickEvent:function(){Object(n.a)({category:this.category,action:"Click",label:this.label}),Object(n.b)({eventName:this.eventName||this.label,category:this.category,action:"Click",label:this.label})}}},o=i("KHd+"),s=Object(o.a)(r,(function(){var t=this;return(0,t._self._c)("div",{class:t.classes,style:t.customStyle,on:{click:t.clickEvent,keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.clickEvent.apply(null,arguments)}}},[t._t("default")],2)}),[],!1,null,null,null);e.default=s.exports},cjur:function(t,e,i){"use strict";var n=i("9rUL");n="default"in n?n.default:n;/^2\./.test(n.version)||n.util.warn("VueClickaway 2.2.2 only supports Vue 2.x, and does not support Vue "+n.version);var r="_vue_clickaway_handler";function o(t,e,i){s(t,e);var n=i.context,o=e.value;if("function"==typeof o){var a=!1;setTimeout((function(){a=!0}),0),t[r]=function(e){var i=e.path||(e.composedPath?e.composedPath():void 0);if(a&&(i?i.indexOf(t)<0:!t.contains(e.target)))return o.call(n,e)},e.arg?document.documentElement.addEventListener(e.arg,t[r],!1):document.documentElement.addEventListener("click",t[r],!1)}}function s(t,e){e.arg?document.documentElement.removeEventListener(e.arg,t[r],!1):document.documentElement.removeEventListener("click",t[r],!1),delete t[r]}var a={bind:o,update:function(t,e,i){e.value!==e.oldValue&&o(t,e,i)},unbind:s},c={directives:{onClickaway:a}};e.version="2.2.2",e.directive=a,e.mixin=c},p5f7:function(t,e,i){(t.exports=i("I1BE")(!1)).push([t.i,".right-26px{\n  right:12px\n}\n.absolute-center{\n  left:0;\n  right:0\n}\n.arrow{\n  box-sizing:border-box;\n  height:20px;\n  width:20px;\n  transform:rotate(45deg);\n  transition:border-width 150ms ease-in-out\n}\n@media (min-width: 576px){\n.sm\\:absolute-center{\n    left:0;\n    right:0\n}\n}\n@media (min-width: 768px){\n.md\\:absolute-center{\n    left:0;\n    right:0\n}\n}\n@media (min-width: 992px){\n.lg\\:absolute-center{\n    left:0;\n    right:0\n}\n}\n@media (min-width: 1200px){\n.xl\\:absolute-center{\n    left:0;\n    right:0\n}\n}",""])},ufmt:function(t,e,i){"use strict";i("gXIK"),i("7+zs"),i("pNMO"),i("4Brf"),i("07d7"),i("qePV"),i("tkto"),i("TeQF"),i("5DmW"),i("FZtP"),i("27RR"),i("0oug"),i("4mDm"),i("PKPk"),i("3bBZ");var n=i("cjur"),r=i("L2JU");function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function a(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?s(Object(i),!0).forEach((function(e){c(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):s(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function c(t,e,i){return(e=function(t){var e=function(t,e){if("object"!==o(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,e||"default");if("object"!==o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===o(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var u={mixins:[n.mixin],data:function(){return{isVisible:!1}},computed:a(a({},Object(r.e)(["viewports"])),{},{isAuthenticated:function(){return this.userIsAuthenticated},isFavorited:function(){return this.isInFavorites(this.objType,this.objId)}}),mounted:function(){var t=this.$refs.tooltipPopup;document.getElementsByTagName("body")[0].appendChild(t)},methods:{showPopup:function(t){var e=this.$refs.tooltipIcon.getBoundingClientRect(),i=this.$refs.tooltipPopup,n=i.getBoundingClientRect().height,r=e.y+window.scrollY-20-n;this.isVisible=!0,i.style.top="".concat(r,"px"),this.viewports.xs||(i.style.left="".concat(this.getPopupLeftOffset(),"px"))},hidePopup:function(t){this.isVisible=!1},getPopupLeftOffset:function(){var t=this.$refs.tooltipIcon.getBoundingClientRect(),e=this.$refs.tooltipPopup.getBoundingClientRect(),i=20;return this.viewports.sm||this.viewports.md?i=t.x+t.width/2-e.width:(this.viewports.lg||this.viewports.xl)&&(i=t.x+t.width/2-e.width/2),i=i<0?0:i},toggleSignInModal:function(){this.userIsAuthenticated||this.$store.commit("listingsSearch/assignProperty",{property:"showSignInModal",data:!0})}}},l=(i("zQbE"),i("KHd+")),d=Object(l.a)(u,(function(){var t=this,e=t._self._c;return e("div",{on:{click:t.toggleSignInModal}},[e("div",{ref:"tooltipIcon",staticClass:"cursor-pointer"},[e("div",{on:{mouseover:t.showPopup,mouseout:t.hidePopup}},[t._t("default")],2)]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.userIsAuthenticated,expression:"!userIsAuthenticated"}],ref:"tooltipPopup",staticClass:"absolute tooltip-popup bg-gray-100 rounded border border-blue-800 px-3 py-2 mx-1 shadow-md",class:{invisible:!t.isVisible}},[e("div",{staticClass:"text-blue-800 font-semibold text-sm text-center",staticStyle:{width:"128px",height:"46px"}},[t._v("\n            Sign in to save to your Favorites\n        ")]),t._v(" "),t._m(0)])])}),[function(){var t=this._self._c;return t("div",{staticClass:"w-full"},[t("div",{staticClass:"arrow bg-gray-100 border border-blue-800 border-t-0 border-l-0 mx-auto absolute right-26px lg:absolute-center",staticStyle:{bottom:"-11px"}})])}],!1,null,null,null);e.a=d.exports},wyBj:function(t,e,i){"use strict";i.r(e);i("qePV");var n=i("WRqI"),r={name:"add-favorite-widget",components:{RequireSignInWrapper:i("ufmt").a,TrackEventWrapper:n.default},props:{classifiedId:{type:Number,required:!0}},data:function(){return{favorited:!1}},mounted:function(){this.getIsFavorited()},computed:{isAuthenticated:function(){return this.userIsAuthenticated}},methods:{addToFavorite:function(){if(this.userIsAuthenticated){var t=this,e={obj_type:"Classified",obj_id:this.classifiedId};this.$http.post(this.route("api.favorites.create"),e,{headers:{Accept:"application/json"}}).then((function(){t.favorited=!0})).catch((function(t){console.error(t)}))}},removeFromFavorites:function(){if(this.userIsAuthenticated){var t=this,e={obj_type:"Classified",obj_id:this.classifiedId};this.$http.delete(this.route("api.favorites.delete"),{data:e},{headers:{Accept:"application/json"}}).then((function(){t.favorited=!1})).catch((function(t){console.error(t)}))}},getIsFavorited:function(){var t=this,e={obj_type:"Classified",obj_id:this.classifiedId};this.$http.get(this.route("api.favorites.is-favorite",e),{headers:{Accept:"application/json"}}).then((function(e){t.favorited=e.data.is_favorited})).catch((function(t){console.error(t)}))}}},o=i("KHd+"),s=Object(o.a)(r,(function(){var t=this,e=t._self._c;return e("div",[e("require-sign-in-wrapper",[e("div",{staticClass:"lg:mx-6 mx-4 py-2 border border-gray-400 rounded text-center text-yellow-400 cursor-pointer bg-gray-200 font-semibold",class:{hidden:!t.favorited},attrs:{"data-cy":"remove-from-favorites-list-btn","data-katalon-id":"remove-from-favorites-list-btn"},on:{click:t.removeFromFavorites,keypress:t.removeFromFavorites}},[e("i",{staticClass:"fas fa-star fa-lg mr-2"}),t._v(" "),e("span",{staticClass:"text-blue-500"},[t._v("Remove from Favorites")])]),t._v(" "),e("track-event-wrapper",{attrs:{label:"Add to favorites",category:"Classifieds"}},[e("div",{staticClass:"lg:mx-6 mx-4 py-2 border border-gray-400 rounded text-center text-gray-600 cursor-pointer bg-gray-200 font-semibold",class:{hidden:t.favorited},attrs:{"data-cy":"add-to-favorites-list-btn","data-katalon-id":"add-to-favorites-list-btn"},on:{click:t.addToFavorite,keypress:t.addToFavorite}},[e("i",{staticClass:"far fa-star mr-2 fa-lg"}),t._v(" "),e("span",{staticClass:"text-blue-500"},[t._v("Add to Favorites")])])])],1)],1)}),[],!1,null,null,null);e.default=s.exports},zQbE:function(t,e,i){"use strict";i("/7BY")}}]);
//# sourceMappingURL=46.dec49dabe3c53c20874b.js.map