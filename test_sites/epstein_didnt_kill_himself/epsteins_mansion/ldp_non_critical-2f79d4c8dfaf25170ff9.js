var _____WB$wombat$assign$function_____ = function(name) {return (self._wb_wombat && self._wb_wombat.local_init && self._wb_wombat.local_init(name)) || self[name]; };
if (!self.__WB_pmw) { self.__WB_pmw = function(obj) { this.__WB_source = obj; return this; } }
{
  let window = _____WB$wombat$assign$function_____("window");
  let self = _____WB$wombat$assign$function_____("self");
  let document = _____WB$wombat$assign$function_____("document");
  let location = _____WB$wombat$assign$function_____("location");
  let top = _____WB$wombat$assign$function_____("top");
  let parent = _____WB$wombat$assign$function_____("parent");
  let frames = _____WB$wombat$assign$function_____("frames");
  let opener = _____WB$wombat$assign$function_____("opener");

webpackJsonp([6],{1e3:function(t,e){MOVE.LDP.HomesNearStreetCards=function(t){var e=function(){var e=t.model.getData()||{},i=(e.homes_near_street||{}).properties,a={results:{property:{count:0,type:"property",total:20,items:{}}}};return _.each(i,function(e){var o={};MOVE.Common.isValidLatLng(e.lon,e.lat)&&(o={ldpUrl:e.ldp_url,id:""+e.property_id,listing_id:e.listing_id,mprId:e.property_id,saved_resource_id:e.saved_resource_id,plot:!0,position:{coordinates:[e.lon,e.lat],type:"Point"},status:e.status,type:"property",search_flags:{},open_house_display:null,sort:0,bed:e.beds,bed_display:i.beds?e.beds:null,bath_display:e.baths,bath:e.baths,photo:e.photo_url,price:e.price_display.replace("$","").replace(/\,/g,""),priceDisplay:e.price_display,propertyType:e.property_type,sqft:e.sqft,sqft_display:e.sqft_display?e.sqft_display:null,address:e.full_address_display,city:e.city,state:e.state_code,zip:e.postal_code,pinPrice:null,priceDefaultDisplay:"recently_sold"===e.status?"Sold":void 0,isAddressSuppressed:""===e.address,last_sold_price_display:e.sold_price||e.last_sold_price_display,last_sold_date_display:e.sold_date||e.last_sold_date_display,days_on_market:e.days_on_market,sold_price_difference_summary:e.sold_price_difference_summary,form_type:e.form_type,lead_type:e.lead_type,show_contact_a_lender:e.show_contact_a_lender,show_veterans_united:e.show_veterans_united,sold_price_to_listing_price_diff:e.sold_price_to_listing_price_diff,flip_the_market_enabled:!!e.lead_attributes&&e.lead_attributes.flip_the_market_enabled}),t.NearbyCardsToPins.noEstimateAvailable(o),a.results.property.items[""+o.id]=o,a.results.property.count++}),a};return t.HomesNearStreetCards={init:e},t.HomesNearStreetCards}(MOVE.LDP||{})},1001:function(t,e){MOVE.LDP.RentalsFloorplanModal=function(t){var e,i,a,o=function(t){n(),s(t)},n=function(){e=$("#modal-rental-floorplan"),i=$("#modal-rental-floorplan-carousel",".modal-rental-floorplan"),a=$(".modal-rental-floorplan-lead-form",e)},s=function(t){e.on("shown.bs.modal",function(o){var n=o.relatedTarget?$(o.relatedTarget):$(t.target),s=n.data("floorplan"),r=$(".floorplan-"+s,e).index(".floorplan");i.on("initialized.owl.carousel changed.owl.carousel",function(t){var e=t.item.index,i=$(t.target).find(".owl-item").eq(e),o=$("h1 > span",".listing-header-main").first().text(),n=i.find(".floorplan-details h3").text(),s="I would like more information regarding the "+n+" at "+o+" that I found on realtor.com";a.find(".message").val(s),a.find("#leads_form_data_floor_plan_name").val(n)}),i.owlCarousel({items:1,loop:!0,autoplay:!1,animateOut:"fadeOut",startPosition:r,nav:!0,navText:["<i class='ra ra-chevron-left'></i>","<i class='ra ra-chevron-right'></i>"]})}),e.on("hide.bs.modal",function(t){$(t.target).is(e)&&i.owlCarousel("destroy")})};return t.RentalsFloorplanModal={init:o},t.RentalsFloorplanModal}(MOVE.LDP||{})},1002:function(t,e){MOVE.LDP.StickyBar=function(t){var e=function(){i(),a()},i=function(){MOVE.Common.showStickyBar("#ldp-sticky-bar",610),MOVE.Helper.isMobile&&MOVE.Common.showStickyBar("#ldp-mobile-stickybar",75)},a=function(){$("#sticky-bar-scroll-spy .nav a, #sticky-anchor-nav-promotion a").click(function(t){if(location.pathname.replace(/^\//,"")===this.pathname.replace(/^\//,"")||location.hostname===this.hostname){var e=MOVE.Helper.getPageNavTarget($(this.hash)),i=108;if("V1"!==MOVE_DATA.full_ldp_modules&&"V2"!==MOVE_DATA.full_ldp_modules||(i=90),e.length){var a=$(e).offset().top-i;$("html,body").animate({scrollTop:a},400),t.preventDefault()}}})};return t.StickyBar={init:e},t.StickyBar}(MOVE.LDP||{})},1003:function(t,e){MOVE.LDP.NearbyCards=function(t){var e=function(e,i){var a={results:{property:{count:0,type:"property",total:20,items:{}}}};return $(e).find("#ldp-nearby-list .listing-card").each(function(){var e={},o=$(this),n=$(o.parent()),s=parseFloat(n.data("lon")),r=parseFloat(n.data("lat"));if(MOVE.Common.isValidLatLng(s,r)){var l=[];o.find(".listing-card-tags span").each(function(){l[l.length]=$(this).text()});var d=n.data("status")||i;e={agentId:n.data("agentid"),ldpUrl:n.data("url"),id:""+n.data("propertyid"),listing_id:parseInt(n.data("listingid"),10),isStatusPending:o.find('span[data-label="property-label-pending"]').length>0,isSaved:o.find(".addToSave").length>0&&"none"===o.find(".addToSave").css("display"),mprId:n.data("propertyid"),officeName:n.data("office-name"),plot:!0,position:{coordinates:[s,r],type:"Point"},status:d,type:"property",product_type:n.data("product-type"),search_flags:{},open_house_display:null,sort:0,isCoBroke:"cobroke"===n.data("product-type"),isEnhanced:n.hasClass("listing-showcase"),isForeclosure:_.indexOf(l,"Foreclosure")>-1,isPriceReduced:n.data("price-reduced"),bed:parseInt(o.find('li[data-label="property-meta-beds"] span').text().trim(),10),bed_display:o.find('li[data-label="property-meta-beds"] span').text().trim(),bath_display:o.find('li[data-label="property-meta-baths"] span').text().trim(),bath:parseInt(o.find('li[data-label="property-meta-baths"] span').text().trim(),10),lotSize:n.data("lot-size"),photo:o.find(".js-nearby-listing-photos").data("src"),photoCount:parseInt(o.find(".listing-photo").data("photo-count"),10),price:parseInt(o.find(".listing-info-price").text().replace("$","").replace(/\,/g,"").trim(),10),priceDisplay:o.find(".listing-info-price").text().trim(),propertyType:n.data("type"),sqft:parseInt(o.find('li[data-label="property-meta-sqft"] span').text().replace(/\,/g,""),10),sqft_display:o.find('li[data-label="property-meta-sqft"] span').text().trim(),address:n.data("address").trim(),city:n.data("city"),county:n.data("county"),state:n.data("state"),zip:n.data("zip"),pinPrice:null,agent_id:n.data("agentid"),priceDefaultDisplay:"recently_sold"===d?"Sold":void 0,isAddressSuppressed:""===e.address}}t.NearbyCardsToPins.noEstimateAvailable(e),a.results.property.items[""+e.id]=e,a.results.property.count++}),a};return t.NearbyCards={init:e},t.NearbyCards}(MOVE.LDP||{})},1004:function(t,e){MOVE.LDP.NearbyCardsToPins=function(t){var e=function(){return MOVE_DATA.mapData={mapDataForSale:t.NearbyCards.init("#nearby-homes-for-sale","for_sale"),mapDataRecentlySold:t.NearbyCards.init("#nearby-recently-sold","not_for_sale"),mapDataOffMarket:t.NearbyCards.init("#nearby-home-values","not_for_sale"),mapDataForRent:t.NearbyCards.init("#nearby-for-rent","for_rent"),mapDataHomesNearStreet:t.HomesNearStreetCards.init()},MOVE_DATA.mapData},i=function(t){(isNaN(t.price)||"No Estimate Available"===t.priceDisplay)&&(delete t.price,delete t.priceDisplay)};return t.NearbyCardsToPins={init:e,noEstimateAvailable:i},t.NearbyCardsToPins}(MOVE.LDP||{})},1005:function(t,e){MOVE.LDP.NearbyHomeValues=function(t){var e=function(){i()},i=function(){var t=$("#show-more-listing");0!==t.length&&t.click(function(){var t=$(this).text().toLowerCase().includes("see less");$(".load-more-nearby-home-values").toggleClass("show-all"),t&&$("html, body").animate({scrollTop:$("#ldp-nearby-home-values").offset().top-150},300),$(this).html(t?'See More <i class="ra ra-angle-down"></i>':'See Less <i class="ra ra-angle-up"></i>'),$(window).trigger("scroll",["no-bm-loading"])})};return t.NearbyHomeValues={init:e},t.NearbyHomeValues}(MOVE.LDP||{})},1006:function(t,e,i){"use strict";var a=i(120);MOVE.LDP.NoteComponent=function(t){function e(){return!!MOVE.DataStore.getData("memberId")}function o(t){b.val(_.unescape(t))}var n,s,r,l,d,h,c,p,u,f=$("#property_note_save"),m=$("#property_note_cancel"),g=$(".ldp-save"),v=$(".ldp-unsave"),y=$(".js-ldp-note-delete"),b=$(".ldp-note-input"),M=$(".ldp-unhide"),x="Please enter less than 3000 characters",w=!1,k=function(){((MOVE_DATA.propertyDetails||{}).note_text||"").length&&C(),s=$(".ldp-note-section"),d=$(".ldp-note-close"),r=$("#hero-note"),n=$(".note-section-sidebar"),h=$(".note-section-sidebar #note-edit-btn"),l=$("#note-xs-sm"),p=$(".note-xs-sm-wrap"),c=$("#hero-note-mobile"),u=$(".note-mobile-wrap"),D()},O=function(){f=$("#property_note_save_modal"),m=$("#property_note_cancel_modal"),s=$(".ldp-note-section"),b=$(".ldp-note-input"),S(),A(),T()},C=function(){if(!w){for(var t=0;t<v.length;t++)new window.MoveConfirmBox("unsave-listing-"+t,v[t],{txtModalHeader:"Unsave a home?",txtModalBody:"Seems like you have a note saved. Unsaving a home will delete your note as well. Do you want to continue?",txtBtnConfirm:"Confirm"},E).initialize();w=!0}},E=function(){this.elmActionBtn.off("click").click()},D=function(){B(),G(),S(),A(),T(),H()},T=function(){b.off("keyup").on("keyup",function(){setTimeout(function(t){var e=_.escape(t.val());e.length>=3e3?R(t,x):""===e?R(t):j(t)}($(this)),2e3)}),$("body").on("removeFromSavedButton",z)},A=function(){m.off("click").on("click",function(t){var e=MOVE_DATA.propertyDetails.note_text,i=$(this).closest(".ldp-note-desktop-cta").find(".js-property-note-save");e&&e.length?($(".note-section-sidebar").is(":visible")&&U(t),P(e),i.prop("disabled",!1)):($(".note-section-sidebar").is(":visible")&&W(t),P(""),i.prop("disabled",!0))})},P=function(t){o(t),MOVE_DATA.propertyDetails.note_text=t},S=function(){f.off("click").on("click",function(t){var e=$(this).closest("form"),i=e.find("textarea"),a=e.find(".js-property-note-save"),o=_.escape(i.val());L(o,t,e,i,a)})},L=function(t,i,a,o,n){if(t.length>3e3&&o)return void R(o,x);e()&&(b.prop("disabled",!0),n&&n.prop("disabled",!0),M.is(":visible")&&M.first().click());var s={property_id:MOVE_DATA.propertyDetails.property_id,status:MOVE_DATA.propertyDetails.status,listing_id:MOVE_DATA.propertyDetails.listing_id,note:t,save_aware:!0},r=n.data("omtag"),l=function(t){var e=t.meta||{},i=e.params||{},a=i.data||{},o=a.note||"",n=t.omtag;b.prop("disabled",!1),f.prop("disabled",!1),N(),o.length?V(o,n):z();var s=t.resources.id,r=a.sub_resource_id;g.hide().prop("disabled",!1),v.show().data("res-id",s),MOVE_DATA.propertyDetails.saved_resource_id=s,MOVE.Common.setSavedListings(r,s),window.GNAV.MYACCOUNT.getSavedResponse("my_properties")},d=function(t){var e=t.meta.errors||[];b.prop("disabled",!1),f.prop("disabled",!0);for(var i=0;i<e.length;i++)if("ValidationError"===e[i].code){b.next().html(e[i].message).removeClass("hide");break}},h=function(t){I(t.omtag),location.reload()};if(e())MOVE.Common.saveListing(i,{listing:s,callBack:l,onErrorCallBack:d,requireReload:!0,omtag:r});else{N();var c={source:"save_note",triggerLocation:"ldp:top:note_save_attempt"};MOVE.ModalHelper.raasSwap(function(){MOVE.Common.unhideListing(i,{listing:s}),MOVE.Common.saveListing(i,{listing:s,callBack:h,onErrorCallBack:d,requireReload:!0,omtag:r})},c)}},V=function(t,e){C(),$(".note-section-sidebar").length&&(F(r,"Add Note","My Notes"),n.removeClass("input-mode"),$(".note-section-sidebar").length&&d.hasClass("no-show")&&d.toggleClass("no-show")),$(".note-section-tablet").length&&p.addClass("note-exist"),$(".note-section-mobile").length&&u.addClass("note-exist"),s.find(".note-content").html("<pre>"+t+"</pre>").end().find(".note-timestamp").html("less than a minute ago").end().removeClass("no-show").show(),P(t),I(e)},I=function(t){MOVE_DATA.adobeDTM.raas=MOVE_DATA.adobeDTM.raas||{},MOVE_DATA.adobeDTM.saveItem="note",MOVE_DATA.adobeDTM.raas.placement="top",i.i(a.a)("note",t,MOVE_DATA.propertyDetails.listing_id)},H=function(){y.off("click").on("click",function(t){var e=$(this).closest("form"),i=e.find(".js-property-note-save");o(""),L("",t,e,"",i)})},N=function(){$(".modal").is(":visible")&&$(".modal").find(".close").click()},z=function(){P(""),$(".note-section-sidebar").length&&(F(r,"My Notes","Add Note"),s.hide(),n.addClass("input-mode"),d.addClass("no-show")),$(".note-section-tablet").length&&p.removeClass("note-exist"),$(".note-section-mobile").length&&u.removeClass("note-exist"),f.prop("disabled",!0),s.find(".note-content").html("").end().addClass("no-show").hide(),w=!1,$(".ldp-unsave").off("click"),$(".move-confirm-box").remove(),$("body").removeClass("modal-open")},F=function(t,e,i){var a=t.html();t.html(a.replace(e,i))},R=function(t,e){e&&(t.hasClass("error")||t.addClass("error").next().html(e).removeClass("hide")),t.closest("form").find(".js-property-note-save").prop("disabled",!0)},j=function(t){t.hasClass("error")&&t.removeClass("error").next().html("").addClass("hide"),t.closest("form").find(".js-property-note-save").prop("disabled",!1)},B=function(){r.click(W),d.click(W),c.click(W),l.click(W)},G=function(){h.click(U)},W=function(t){t.preventDefault(),s.slideToggle()},U=function(t){t.preventDefault(),n.toggleClass("input-mode"),$(".note-section-sidebar").is(":visible")&&d.toggleClass("no-show")};return t.NoteComponent={init:k,initModal:O},t.NoteComponent}(MOVE.LDP||{})},1007:function(t,e){MOVE.LDP.Optimization=function(t){var e=function(){};return t.Optimization={init:e},t.Optimization}(MOVE.LDP||{})},1008:function(t,e){MOVE.LDP.ComparableSection=function(t){var e=MOVE.LDP.model.getData()||{},i=function(){var t=$("#pdp-comparable-homes-section");if(0!==$("#pdp-comparable-homes-section").length&&(MOVE.DOMHelper.unveilLoadImages(".comparable-property-photo img.active",{scrollContainer:t},t),a(),n(),$(".horizontal-scroll-panel").on("scroll",n),$(".nav-left",".comparable-tab-content").on("click",s),$(".arrow-left:after",".comparable-tab-content").on("click",s),$(".nav-right",".comparable-tab-content").on("click",r),$(".arrow-right:after",".comparable-tab-content").on("click",r),$("a[data-disable-crabwalk='true']",".comparable-property-card").on("click",o),$(".horizontal-scroll-panel").scrollLeft()>0&&d(),"V1"===MOVE_DATA.full_ldp_modules||"V2"===MOVE_DATA.full_ldp_modules)){$("body").find(".container").find("#ldp-accordion-comparable").on("click",function(){setTimeout(n,100)})}},a=function(){if(MOVE.Helper.hasSessionStorage()){var t=JSON.parse(window.sessionStorage.getItem("comparable-homes-slider"));null!==t&&e.property_id===t.id&&($(".horizontal-scroll-panel").scrollLeft(t.pos),d(),window.sessionStorage.removeItem("comparable-homes-slider"))}},o=function(){var t=$(".horizontal-scroll-panel").scrollLeft();MOVE.Helper.hasSessionStorage()&&t>0&&window.sessionStorage.setItem("comparable-homes-slider",JSON.stringify({id:e.property_id,pos:t})),MOVE.DOMHelper.disableCrabwalk()},n=function(){var t=$(".horizontal-scroll-panel-wrap"),e=$(".horizontal-scroll-panel"),i=$(".comparable-property-photo").width()/2,a=$(".section-comparable-properties-img.active");e.scrollLeft()>0?t.addClass("arrow-left"):t.removeClass("arrow-left"),e[0].scrollWidth-e.scrollLeft()-e.width()<1?t.removeClass("arrow-right"):t.addClass("arrow-right"),(MOVE.Helper.isMobile()||"small"===MOVE.Helper.detectViewPort()||"medium"===MOVE.Helper.detectViewPort())&&(_.isEmpty(a)||$(this).scrollLeft()/a.length>=i&&d(3))},s=function(){var t=l(),e=$(".horizontal-scroll-panel");e.scrollLeft()+e.width()===e[0].scrollWidth&&(t-=30),e.animate({scrollLeft:e.scrollLeft()-t},300,"swing")},r=function(){var t=l(),e=$(".horizontal-scroll-panel");0===e.scrollLeft()&&(t-=30),d(5),e.animate({scrollLeft:e.scrollLeft()+t},300,"swing")},l=function(){return 215*Math.floor($(".horizontal-scroll-panel").width()/215)},d=function(t){var e=$(".section-comparable-properties-img").not(".active").slice(0,t),i=$("#pdp-comparable-homes-section");e.length>0&&(MOVE.DOMHelper.unveilLoadImages(e,{scrollContainer:i},i),e.addClass("active"))};return t.ComparableSection={init:i},t.ComparableSection}(MOVE.LDP||{})},1009:function(t,e){MOVE.LDP.PdpTimelineSection=function(t){var e,i,a,o=function(){e(),i(),a(),$(".timeline-image-gallery .rdc-carousel").each(function(){$(this).RdcHorizontalCarousel({loop:!1,showNav:"show",moveBy:"set",margin:10,lazyLoad:!0})})};return e=function(){0!==$(".js-timeline-gallery").length&&$(".js-timeline-gallery").on("click",function(){var t=$(this).data("index"),e=$(this).data("target"),i=$("#timeline-fullscreen-gallery-"+e);i.data("selectedIndex",t),i.modal("show")})},i=function(){$(".timeline-icon").on("click",function(t){$(this).siblings(".timeline-text").children(".pdp-view-more").toggleClass("hide show"),$(this).children(".js-expand").toggleClass("ra-circle-plus ra-circle-minus"),t.preventDefault()})},a=function(){$(".pdp-timeline-show-more").on("click",function(){$(this).addClass("hide"),$(".pdp-timeline-show-less").removeClass("hide"),$(".js-mobile-view-more").removeClass("hide")}),$(".pdp-timeline-show-less").on("click",function(){$(this).addClass("hide"),$(".pdp-timeline-show-more").removeClass("hide"),$(".js-mobile-view-more").addClass("hide"),$("html,body").animate({scrollTop:$(".section-pdp-timeline").offset().top-40},"slow")})},t.PdpTimelineSection={init:o},t.PdpTimelineSection}(MOVE.LDP||{})},1010:function(t,e){MOVE.LDP.RateTable=function(t){var e=$(".js-rate-table-items .row"),i=$(".js-rate-table-popover"),a=$(".js-rate-table-graph"),o=MOVE.DataStore.getData("propertyDetails"),n=function(){u().done(function(t){t.meta.success&&t.rate_table?r(t):s()}).fail(function(){s()})},s=function(){e.empty(),a.removeClass("hide"),m(),MOVE.MortgageGraph.init()},r=function(t){a.addClass("hide"),m(t),g(t)},l=function(){var t=localStorage.local_stored_selected_mortgage_type;return($("#mortgage_loan_type option:selected").length>0?$("#mortgage_loan_type option:selected").val():void 0)||t||"30yr_fixed"},d=function(){var t=localStorage.local_stored_downpayment_percent_value;return($("#down_payment_percent").length>0?$("#down_payment_percent").val().replace("%",""):void 0)||t||20},h=function(t){return 100-t},c=function(){return parseInt($("#ldp-payment-options").find("#home_price").val().replace(/\$|,/g,"").trim(),10)},p=function(){var t=l(),e={};switch(t){case"30yr_fixed":e={request_parameter:"30YrFixed",text_field:"30-Year Fixed"};break;case"30yr_fha":e={request_parameter:"30YrFixed_FHA",text_field:"30-Year Fixed FHA"};break;case"30yr_va":e={request_parameter:"30YrFixed_VA",text_field:"30-Year Fixed VA"};break;case"20yr_fixed":e={request_parameter:"20YrFixed",text_field:"20-Year Fixed"};break;case"15yr_fixed":e={request_parameter:"15YrFixed",text_field:"15-Year Fixed"};break;case"10yr_fixed":e={request_parameter:"10YrFixed",text_field:"10-Year Fixed"};break;case"51_arm":e={request_parameter:"5Arm",text_field:"5/1 ARM"};break;case"71_arm":e={request_parameter:"7Arm",text_field:"7/1 ARM"}}return e},u=function(){var t=$.Deferred();return $.ajax({url:"/mrtg_handler/mini_rates",method:"GET",dataType:"JSON",data:{property_price:c(),ltv:h(d()),zip:o.postal_code,loan_purpose:"purchase",state:o.state_code,loan_types:p().request_parameter,source:"ldp",limit:"3"},success:function(e){t.resolve(e)},error:function(e){t.reject(e)}}),t},f=function(){var t="/mortgage/rates/#zip="+o.postal_code;return t+="&property_price="+c(),t+="&dper="+d(),window.location.href=t,!1},m=function(t){var e="",a="https://web.archive.org/web/20200819065000/http://www.bankrate.com",o="Bankrate.com",n="bank-rate";t&&t.rate_table[0]&&t.rate_table[0].Provider&&(o=t.rate_table[0].Provider.Name,n="bankrate"!==o.toLowerCase()?t.rate_table[0].Provider.Name.toLowerCase():"bank-rate",e=t.rate_table[0].Provider.Logo,a=t.rate_table[0].Provider.Url),e?$(".js-rate-table-popover").html('<img src="'+e+'" alt="'+o+'logo" />'):$(".js-rate-table-popover").html(o),$(".js-rate-table-info span:first").text("Local rates for "+p().text_field+" loan after a "+d()+"% down payment."),$(".js-rate-table-view-more").attr("data-omtag","ldp:rr:rate-table:"+n+":view-more"),$(".js-rate-table-view-more").on("click",f),i.popover({html:"true",placement:"bottom",content:JST["templates/mortgage_rate_header_popover"]({providerName:o,providerUrl:a,providerOmnitureName:n}),trigger:"click"}).on("click",function(t){t.preventDefault()}),$("body").on("click touchstart",function(t){var e=$(t.target);!e.is(i)&&0===e.parents(".popover").length&&i.length>0&&i.popover("hide")})},g=function(t){e.empty(),$.each(t.rate_table,function(t,i){var a=i.Rate.toFixed(3),o=i.AprVal.toFixed(3),n=i.DateVal.substring(4),s=i.Provider&&"bankrate"!==i.Provider.Name.toLowerCase()?i.Provider.Name.toLowerCase():"bank-rate",r="ldp:rr:rate-table:"+s+":arm-rate:learn-more",l="";i.LoanTypeDisplayName.indexOf("ARM")<0&&(r="ldp:rr:rate-table:"+s+":fixed-rate:learn-more"),l=$(".js-rate-table-items.variant").length?"templates/mortgage_rate_item_variant":"templates/mortgage_rate_item";var d=JST[l]({advertiser:i,rate:a,apr:o,date:n,omtagLearnMore:r});e.append(d)})};return t.RateTable={init:n},t.RateTable}(MOVE.RateTable||{})},1011:function(t,e){MOVE.LDP.RecentSoldHomes=function(t){var e=function(){i()},i=function(){var t=$(".view-more-recently-sold");0!==t.length&&t.click(function(e){$(".recently-sold-group-1").removeClass("hidden"),MOVE.Common.endsWith(t.prop("href"),"#")?t.remove():(t.text("See all listings"),t.off()),$(window).trigger("scroll",["no-bm-loading"]),e.preventDefault()})};return t.RecentSoldHomes={init:e},t.RecentSoldHomes}(MOVE.LDP||{})},1012:function(t,e){MOVE.LDP.RentalLeadFreeMovingQuotesModal=function(t){var e,i,a,o,n,s,r,l,d,h=function(){l=MOVE.LDP.model.getData()||{},c(),u(),f(),MOVE.Common.openModalMovingLeadOmniture()},c=function(){if(e=$("#rental-lead-free-moving-quotes-modal"),i=e.find(".submit"),a=e.find("form"),n=a.find("#rental-free-moving-name"),o=a.find("#rental-free-moving-phone"),s=a.find("#rental-free-moving-date-picker"),r=a.find("#rental-free-moving-email"),MOVE.LocalStorage.isAvailable){var t=MOVE.Common.getCachedInputsData();t&&(void 0!==t.fullName&&""!==t.fullName?(n.val(t.fullName),t.fullName.indexOf(" ")>=0&&a.find(".rental-moving-name-parent").hide()):a.find(".rental-moving-name-parent").show(),void 0!==t.phone&&""!==t.phone?(o.val(t.phone),a.find(".rental-moving-phone-parent").show()):a.find(".rental-moving-phone-parent").show(),void 0!==t.email&&""!==t.email?(r.val(t.email),a.find(".rental-moving-email-parent").hide()):a.find(".rental-moving-email-parent").show())}},p=function(){e.modal("hide");var t=$("#thank-you-moving-quote");t.find(".close").on("click",function(){t.addClass("hide")}),t.removeClass("hide").show(),t.fadeTo(1e4,100).fadeOut("slow")},u=function(){var t=new Date;t.setDate(t.getDate()+14),s.datepicker({orientation:"auto",autoclose:!0,startDate:"+1d",endDate:"+6m"}),s.datepicker("setDate",t),s.datepicker("update")},f=function(){var t={"rental-free-moving-move-from":{required:"Please enter zip code",pattern:"Please enter a valid zip code",invalid:"Please enter a valid zip code"},"rental-free-moving-name":{required:"Please enter your full name",pattern:"Please enter a valid full name",invalid:"Please enter a valid full name"},"rental-free-moving-phone":{required:"Please enter your phone number",phoneUS:"Please enter a valid phone number",invalid:"Please enter a valid phone number"},"rental-free-moving-email":{required:"Please enter your email",email:"Please enter a valid email",invalid:"Please enter a valid email",pattern:"Please enter a valid email"},"rental-free-moving-move-in-date":{required:"Please enter a date"}};d=a.validate({rules:{"rental-free-moving-move-from":{required:!0,pattern:/^\d{5}(-\d{4})?$/},"rental-free-moving-name":{required:!0,pattern:/^[a-zA-Z.+-.']+\s+[a-zA-Z.+-. ']+$/},"rental-free-moving-phone":{required:!0,phoneUS:!0},"rental-free-moving-email":{required:!0,email:!0,pattern:/^.+@.+\..+$/},"rental-free-moving-move-in-date":{required:!0}},messages:t,errorPlacement:function(t,e){MOVE.DOMHelper.movingQuoteErrorPlacement(t,e)},submitHandler:function(){var e=MOVE.DateFormat.getFormattedDate(s.datepicker("getDate")),i=n.val().split(" "),h={from_zip:a.find("#rental-free-moving-move-from").val(),to_zip:l.postal_code,last_name:i[1],first_name:i[0],email:r.val(),phone_home:o.val(),move_date:e,move_size:a.find("#rental-free-moving-move-size").val(),lead_source:MOVE_DATA.isPhone?"rdc-mod-ldpm":"rdc-mod-ldp"};g(!1),$.ajax({url:"/moving/lead",method:"POST",data:h,dataType:"JSON",success:function(e){if(MOVE.Common.cacheInputs(n,r,o),g(!0),e.meta.success)return m(),p();_.each(e.meta.errors,function(e){var i={},n=MOVE.Helper.mapMovingAPIErrorCodeToName(e.code);if("unsupported"===n)return m(),p();n="first-name"===n||"last-name"===n?"name":n,"phone"===n?(a.find(".rental-moving-phone-parent").show(),o.one("keyup",function(){$(this).valid()})):"email"===n&&(a.find(".rental-moving-email-parent").show(),r.one("keyup",function(){$(this).valid()})),n="rental-free-moving-"+n,i[n]=t[n].invalid,d.showErrors(i)})}})}})},m=function(){MOVE.Helper.updateOmnitureLeadJson({leadType:"moving",leadPlacement:"ldp:top"}),MOVE.Common.successMovingLeadOmniture()},g=function(t){i.attr("disabled",!t)};return t.RentalLeadFreeMovingQuotesModal={init:h,showThankyou:p},t.RentalLeadFreeMovingQuotesModal}(MOVE.LDP||{})},1013:function(t,e,i){"use strict";var a=i(13),o=i(63);MOVE.LDP.rentalLeadMovingForm=function(t){var e,n,s,r,l,d,h,c,p,u,f,m,g,v,y,b,M,x,w,k,O,C,E,D,T=function(o,n){b=n,A(o),N(),P(),$("#modal-movingquote-back").off("click").on("click",function(){t.RentalLeadMovingModal.resetMovingQuotes()}),$("#modal-movingquote-submit").off("click").on("click",function(){var t=$('input[name="movinghelp"]:checked').val();t&&("none"===t?(MOVE.LDP.RentalLeadMovingModal.closeModal(),MOVE_DATA.adobeDTM.modal={selfIdentify:"no-moving-help"},MOVE.Common.openModalMovingLeadOmniture()):(C=$.extend(C,{move_type:t}),V(function(){I(!0),m.removeClass("hide").siblings().addClass("hide"),e.find(".modal-title").html("Thank You");MOVE_DATA.adobeDTM.modal={name:"movingQuote.step3",selfIdentify:"labor"===t?"moving-labor":"moving-full"},i.i(a.a)("thankyou_:movingQuote.step3",b),H()})))})},A=function(t){if(g=MOVE.LDP.model.getData()||{},y=t,e=$("#rental-lead-moving-modal"),n=e.find("#rental-lead-moving-submit-btn"),s=e.find("#modal-movingquote-submit"),f=$("#modal-movingquote-content1"),m=$("#modal-movingquote-content3"),r=e.find("form"),d=r.find("#rental-moving-name"),l=r.find("#rental-moving-phone"),u=r.find("#rental-moving-email"),h=r.find("#rental-moving-date-picker"),c=r.find("#rental-moving-move-from"),p=r.find("#rental-moving-move-size"),MOVE.LocalStorage.isAvailable){var i=MOVE.Common.getCachedInputsData();i&&(MOVE.FormatHelper.isEmpty(i.fullName)?r.find(".rental-moving-name-parent").show():(d.val(i.fullName),r.find(".rental-moving-name-parent").hide()),MOVE.FormatHelper.isEmpty(i.phone)?r.find(".rental-moving-phone-parent").show():(l.val(i.phone),$("#rental-moving-phone-prev").val(i.phone)),MOVE.FormatHelper.isEmpty(i.email)?r.find(".rental-moving-email-parent").show():(u.val(i.email),r.find(".rental-moving-email-parent").hide()))}},P=function(){E={"rental-moving-move-from":{required:"Please enter zip code",pattern:"Please enter a valid zip code",invalid:"Please enter a valid zip code"},"rental-moving-name":{required:"Please enter your full name",pattern:"Please enter a valid full name",invalid:"Please enter a valid full name"},"rental-moving-phone":{required:"Please enter your phone number",phoneUS:"Please enter a valid phone number",invalid:"Please enter a valid phone number"},"rental-moving-email":{required:"Please enter your email",email:"Please enter a valid email",invalid:"Please enter a valid email"},"rental-moving-move-in-date":{required:"Please enter a date"},"rental-moving-move-size":{required:"Please enter a valid move size",pattern:"Please enter a valid move size"}},v=r.validate({ignore:"",rules:{"rental-moving-move-from":{required:!0,pattern:/^\d{5}(-\d{4})?$/},"rental-moving-name":{required:!0,pattern:/^[a-zA-Z.+-.']+\s+[a-zA-Z.+-. ']+$/},email:{required:!0,email:!0},"rental-moving-phone":{required:!0,phoneUS:!0},"rental-moving-move-in-date":{required:!0},"rental-moving-move-size":{required:!0,pattern:/^[1-9]\d*$/}},messages:E,errorPlacement:function(t,e){e.parent(".input-group").hasClass("date")?t.insertAfter(e.parent(".input-group")):"rental-moving-move-size"===e.attr("id")?e.parent().append(t):t.insertAfter(e)},submitHandler:S})},S=function(){M=MOVE.DateFormat.getFormattedDate(h.datepicker("getDate")),x=c.val(),w=p.val(),k=g.postal_code,O=d.val().split(" "),D=MOVE_DATA.propertyDetails.flags.is_costar?"apt-rnt":"rdc-rnt",C={from_zip:x,to_zip:k,last_name:O[1],first_name:O[0],email:u.val(),phone_home:l.val(),move_date:M,move_size:w,property_type:D,product_type:MOVE_DATA.adobeDTM.productType,parent_lead_form_position:y,move_type:"company"},$.ajax({url:"/moving/area/zipcode",method:"POST",data:{zipcode:x},dataType:"JSON",success:function(t){t&&t.state&&t.state.toLowerCase()===g.state_code.toLowerCase()?L():(C=$.extend(C,{move_type:"company"}),V(function(t){if(MOVE.Common.cacheInputs(d,u,l),I(!0),t.meta.success)return H(),MOVE.LDP.RentalLeadMovingModal.showThankyou();_.each(t.meta.errors,function(t){var e={},i=MOVE.Helper.mapMovingAPIErrorCodeToName(t.code);if("unsupported"===i)return H(),MOVE.LDP.RentalLeadMovingModal.showThankyou();i="first-name"===i||"last-name"===i?"name":i,"phone"===i?(r.find(".rental-moving-phone-parent").show(),l.one("keyup",function(){$(this).valid()})):"email"===i&&(r.find(".rental-moving-email-parent").show(),u.one("keyup",function(){$(this).valid()})),i="rental-moving-"+i,e[i]=E[i].invalid,v.showErrors(e)})}))}})},L=function(){$.ajax({url:"/moving/calculate_cost",method:"POST",data:{from_zip:x,to_zip:k,move_weight_lbs:w,packing_option:"none"},dataType:"JSON",success:function(t){t.calculation&&$("#movingquote-estimate").html(t.calculation.low_estimate+" - "+t.calculation.high_estimate).closest("h3").removeClass("hide")},complete:function(){f.addClass("hide").next().removeClass("hide"),e.find(".modal-title").html("Free Moving Quotes");MOVE_DATA.adobeDTM.modal={name:"movingQuote.step2"},i.i(a.a)("movingQuote.step2",b)}})},V=function(t){I(!1),$.ajax({url:"/moving/lead",method:"POST",data:C,dataType:"JSON",success:t})},I=function(t){$(s,n).attr("disabled",!t)},H=function(){MOVE.Helper.updateOmnitureLeadJson({leadType:"moving",leadPlacement:"post-lead"}),i.i(o.e)(MOVE_DATA.adobeDTM.modal.selfIdentify,MOVE_DATA.leadAdobeDTM.leadPlacement)},N=function(){h.datepicker({orientation:"auto",autoclose:!0,startDate:"+1d",endDate:"+6m"}).on("hide",function(){r.valid()}),h.datepicker("update")};return t.RentalLeadMovingForm={init:T,submitHandler:S},t.RentalLeadMovingForm}(MOVE.LDP||{})},1014:function(t,e,i){"use strict";var a=i(13);MOVE.LDP.RentalLeadMovingModal=function(t){var e,o,n=function(t,n){o=MOVE.LDP.model.getData()||{},s(),MOVE.LDP.RentalLeadMovingForm.init(t,n),e.off("shown.bs.modal").on("shown.bs.modal",function(){var t=$("#rental-lead-moving-next-btn"),e=$(".modal-property-recommendations").find(".rdc-carousel");$(".content-next").hide(),t.parent().show(),e.RdcHorizontalCarousel(),$("img.compact-card-image").attr("src",function(){return $(this).data("src")}),p(t)}),e.off("hidden.bs.modal").on("hidden.bs.modal",function(){r(),e.remove()});MOVE_DATA.adobeDTM.modal={name:"movingQuote.step1"},i.i(a.a)("movingQuote.step1",n)},s=function(){e=$("#rental-lead-moving-modal")},r=function(){$("#modal-movingquote-content1").removeClass("hide").siblings().addClass("hide"),$("#movingquote-estimate").closest("h3").addClass("hide"),e.find(".modal-title").html("Thank You")},l=function(){e.modal("hide");var t=$("#thank-you-moving-quote");t.find(".close").on("click",function(){t.addClass("hide")}),t.removeClass("hide").show(),t.fadeTo(1e4,100).fadeOut("slow")},d=function(){e.modal("hide")},h=function(){e.modal()},c=function(t,e){$("#rental-lead-moving-modal").length?(n(t,e),h()):(window.modals=window.modals.filter(function(t){return"#rental-lead-moving-modal"!==t}),MOVE.ModalHelper.fetchModal("#rental-lead-moving-modal",o,{position:t,placement:e}))},p=function(t){var e=$(".modal-property-recommendations .compact-card-save > a.hp-save");t.on("click",function(){f(t)}),e.on("click",function(){u("click",{saveAction:"listing",saveItem:"for_rent:ldp:card:moving_modal_listing_save"})})},u=function(t,e){window.RdcTracking&&window.RdcTracking.trackEvent(t,e)},f=function(t){t.parent().hide(),$(".content-next").show();var e=$(".rental-moving-phone"),i=e.find("input").val();e.hide(),Boolean(i)&&$("#rental-moving-phone").val(i)};return t.RentalLeadMovingModal={init:n,show:c,showThankyou:l,closeModal:d,resetMovingQuotes:r},t.RentalLeadMovingModal}(MOVE.LDP||{})},1015:function(t,e){MOVE.LDP.ReportListing=function(t){"use strict";var e,i,a,o=!0,n=function(){$("#aReportListing").hover(i),$("#aReportListing").click(e)};return i=function(t){t.preventDefault();var e=/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor),i=/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor);(!0===o&&!0===e||!0===o&&!0===i)&&(a(),o=!1)},e=function(){var t=$(this);t.addClass("disabled"),a(),setTimeout(function(){t.removeClass("disabled")},3e3)},a=function(){var t,e="SI_8iDQlV0kpz2qXOd",i=document.getElementById(e);i?(i.innerHTML="",t=i):(t=document.createElement("div"),t.id=e);var a=document.createElement("script");a.type="text/javascript",a.src="//web.archive.org/web/20200819065000/https://zn_1svmh5y7lkb0axz-move.siteintercept.qualtrics.com/WRSiteInterceptEngine/?Q_SIID=SI_8iDQlV0kpz2qXOd&Q_LOC="+encodeURIComponent(window.location.href),t.appendChild(a),document.body&&document.body.appendChild(t)},t.ReportListing={init:n},t.ReportListing}(MOVE.LDP||{})},1016:function(t,e,i){"use strict";var a=i(120);MOVE.LDP.SaveDelete=function(t){var e=MOVE_DATA.isPhone?".top-save-btn-wrapper":".ldp-save-listing-wrapper",o=e+" .ldp-save",n=e+" .js-tracking .ldp-save-not-logged-in",s=function(t){MOVE.Common.showSaveAwarePopUpOnRefresh(),void 0!==$(".ldp-unsave").data("res-id")&&c(),$("body").on("click",".ldp-save",{listing:t},h).on("click",".ldp-unsave",p).on("click",".js-tracking .save-not-logged-in , .js-tracking .ldp-save-not-logged-in ",{is_listings:!0,listing:t},d),l()&&($("body").on("click",o,{listing:t},h).on("click",n,{is_listings:!0,listing:t},d),r(t))},r=function(t){_.isUndefined($.cookie("REMEMBER_ME"))?$(n).trigger("click"):_.isNull(t.saved_resource_id)&&$(o).trigger("click")},l=function(){var t=[MOVE.CONSTANTS.PROPERTY_STATUS.forSale,MOVE.CONSTANTS.PROPERTY_STATUS.forRent,MOVE.CONSTANTS.PROPERTY_STATUS.newPlan];return window.location.href.search("external-save=1")>-1&&t.indexOf(MOVE_DATA.propertyDetails.status)>=0},d=function(t){var e=t.data.listing;$(".modal").is(":visible")&&$(".modal").find(".close").click();var o=$(this),n=function(t){i.i(a.a)("listing",t.omtag,MOVE_DATA.propertyDetails.listing_id),location.reload()},s=o.find("[data-omtag]").data("omtag")||o.closest("[data-omtag]").data("omtag"),r={source:"save_home",triggerLocation:"ldp:top:listing_save"};MOVE.ModalHelper.raasSwap(function(){var i=o.closest(".js-tracking"),a={property_id:i.data("propertyid"),status:i.data("status"),listing_id:i.data("listingid")||i.data("propertyid"),save_aware:e.save_aware};MOVE.Common.saveListing(t,{listing:a,callBack:n,requireReload:!0,omtag:s})},r),MOVE.Common.loginTracking(o),t.preventDefault()},h=function(t){var e=t.data.listing,o={property_id:e.property_id,status:e.status,listing_id:e.listing_id||e.property_id,save_aware:e.save_aware||!1},n=function(t){var e=t.resources.id,o=t.meta.params.data.sub_resource_id,n=t.omtag;$(".ldp-save").hide().removeAttr("disabled"),$(".ldp-unsave").show().data("res-id",e),MOVE_DATA.propertyDetails.saved_resource_id=e,GNAV.MYACCOUNT.getSavedResponse("my_properties"),MOVE_DATA.adobeDTM.raas=MOVE_DATA.adobeDTM.raas||{},MOVE_DATA.adobeDTM.saveItem="listing",MOVE_DATA.adobeDTM.raas.placement="top",i.i(a.a)("listing",n,MOVE_DATA.propertyDetails.listing_id),c(),MOVE.Common.setSavedListings(o,e)},s=$(this).find("[data-omtag]").data("omtag");MOVE.Common.saveListing(t,{listing:o,callBack:n,requireReload:!1,omtag:s})},c=function(){$(".ldp-unhide").is(":visible")&&$(".ldp-unhide").first().click()},p=function(t){var e=$(".ldp-save"),i=$(".ldp-unsave"),a=function(){var t=MOVE.LDP.model.getData()||{};e.show(),i.hide().data("res-id",null).removeAttr("disabled"),MOVE_DATA.propertyDetails.saved_resource_id=null,GNAV.MYACCOUNT.getSavedResponse("my_properties"),$("body").trigger("removeFromSavedButton"),MOVE.Common.deleteSavedListings(t.listing_id)};MOVE.Common.deleteListing(t,{id:i.data("res-id"),callBack:a})};return t.SaveDelete={init:s},t.SaveDelete}(MOVE.LDP||{})},1017:function(t,e,i){"use strict";var a=i(29);MOVE.LDP.UnitModules=function(t){var e=$(".single-browse-module-description"),o=$("#ldp-unit-wrapper .listing-card-more"),n=function(){$("#ldp-unit-wrapper").RdcHorizontalCarousel({loop:!1,showNav:"show",moveBy:"item",margin:10,lazyLoad:!0,items:5,id:"ldp-unit-wrapper"}),$("#ldp-unit-wrapper .rdc-next-collapsed-set").click(function(){$(this).removeClass("rdc-next-collapsed-set")}),e.each(function(){$(this).text(i.i(a.g)($(this).text()))}),o.click(function(){void 0!==MOVE_DATA.propertyDetails.building_srp_url&&o.attr("href",MOVE_DATA.propertyDetails.building_srp_url)}),e.removeClass("hide")};return t.UnitModules={init:n},t.UnitModules}(MOVE.LDP||{})},1018:function(t,e,i){"use strict";var a=i(0),o=(i.n(a),i(59));MOVE.LDP.MoveInReadyHomes=function(t){var e=function(t){$.ajax({url:"/browse_modules/move_in_ready_homes?id="+t,method:"GET",success:function(t){if(!i.i(a.isEmpty)(t)){var e=t.properties;if(!i.i(a.isEmpty)(e)){var n=JST["quick_view/templates/other-plans/other-plans-carousel"]({properties:e,isSpecHome:!0,heading:"Move-in Ready Homes in this Community"}),s=$("#move-in-ready-homes");s.html(n).promise().done(function(){}),i.i(o.a)(s),$(".other-plans-card").on("click",function(t){MOVE.UserActivity.updateSrpListingClicked({dataSource:"for_sale:ldp:move_in_ready_homes"})})}}}})};return t.MoveInReadyHomes={initMoveInReadyHomes:e},t.MoveInReadyHomes}(MOVE.LDP||{})},1019:function(t,e,i){"use strict";var a=i(301),o=i(5);MOVE.LDP.PropertyDetailsView=function(t){var e,n=this||window,s=MOVE.LDP.model,r=MOVE_DATA.propertyDetails.is_mobile,l=function(){var t=s.getData()||{};n.search_criteria={city:t.city,postal:t.postal_code,state:t.state_code,address:t.address,mlslid:t.mlslid,searchType:"address"},MOVE.LDP.BrowseModules.initCarousels();var i=$(".property_details.show");if(1===i.length&&i.ready(d),MOVE.Helper.hasSessionStorage()&&("true"===window.sessionStorage.getItem("isLDPSearch")||n.search_criteria.mlslid)){var a=n.search_criteria.mlslid?{mlslid:n.search_criteria.mlslid}:n.search_criteria;MOVE.UserActivity.updateRecentSearches({searchType:MOVE.Helper.getPropertyStatusForSearch(t.search_controller),criteria:a},!0),window.sessionStorage.setItem("isLDPSearch","false")}var o=MOVE.UserActivity.getSortedRecentSearches().splice(0,1);if(MOVE.LDP.PropertyDetails.fillSearchBox($.fn.autocomplete.formatRecentSearches(o,!0)),MOVE.UserActivity.updateRecentViews(e,e.property_type),$(".horizontal-scroll-panel").find(".comparable-property-card").length>0){var r=$(".horizontal-scroll-panel").find(".data-wrap-impression-token").data("impressiontoken"),l=MOVE_DATA.propertyDetails.status_display,h="Off Market"==l||"Recently sold"==l?"off_market:ldp":"for_sale:ldp",c={pageName:h,moduleImpression:"similarHomesOnLDP:"+r.recommendations_count,impressionToken:r};window.RdcTracking.trackEvent("abTestModuleImpressionEvent",c)}MOVE.AutoComplete.init($("#searchBox"),{latitude:t.lat,longitude:t.long},!0),MOVE.LDP.BrowseModules.loadBrowseModulePhotos(),MOVE.LDP.NearbyHomeValues.init(),MOVE.LDP.LinkingModules.init(),MOVE.LDP.RecentSoldHomes.init(),MOVE.LDP.HistoricalForecastGraph.init(),$("#ldp-collapsed-property-details").one("shown.bs.collapse",function(){$(".details-load-more").height()>60&&MOVE.Common.readMore(".details-load-more",60,"Read")})},d=function(){e=MOVE.LDP.model.getData(),MOVE.LDP.LeadForm.init("primary_request_more_details",e),MOVE.LDP.LeadForm.init("secondary_request_more_details",e),MOVE.LDP.LeadForm.init("secondary_request_more_details_mobile_sticky",e),MOVE.LDP.LeadForm.init("photo_gallery_request_more_details",e),MOVE.LDP.LeadForm.init("full_bleed_secondary_request_more_details",e),MOVE.LDP.LeadForm.init("full_bleed_inline_request_more_details",e),$("#photo_gallery_map_request_more_details").length&&MOVE.LDP.LeadForm.init("photo_gallery_map_request_more_details",e),e.status!==MOVE.CONSTANTS.PROPERTY_STATUS.forSale&&e.status!==MOVE.CONSTANTS.PROPERTY_STATUS.newCommunity&&e.status!==MOVE.CONSTANTS.PROPERTY_STATUS.newPlan||MOVE.LDP.MortgagePayment.init(),MOVE.LDP.StickyBar.init(),MOVE.LDP.HideUnhide.init(e),MOVE.LDP.SaveDelete.init(e),MOVE.LDP.ReportListing.init(),MOVE.LDP.CallLeads.init(),MOVE.Common.savePropertyCards(),r?(MOVE.LDP.MobileHeroCarousel.init(),MOVE.DOMHelper.closeTooltips(),MOVE.LDP.MobileFsGallery.init(),MOVE.LDP.OptimizationMobile.init()):(MOVE.LDP.NearbyHomes.init(),MOVE.MovingEstimateWidget.init(),e.status===MOVE.CONSTANTS.PROPERTY_STATUS.forSale||e.status===MOVE.CONSTANTS.PROPERTY_STATUS.newPlan||e.status===MOVE.CONSTANTS.PROPERTY_STATUS.forRent?MOVE.LDP.RightRailBC.init():MOVE.LDP.RightRail.init(),MOVE.EditorsPicks.init(),MOVE.LDP.AdditionalCommunities.init(),MOVE.LDP.DesktopHeroCarousel.init(),MOVE.LDP.OptimizationDesktop.init()),MOVE.LDP.Optimization.init(),MOVE.LDP.MapLayers.init(),MOVE.LifeStyleGallery.init(),MOVE.Common.showStickyBar("#ldp-sticky-buyer-lead",610),m(),MOVE.LDP.LdpPageSpecific.init(),MOVE.LDP.FeaturesGallery.init(),$(".ldp-real-tip-section").length&&MOVE.LDP.RealTip.init(),MOVE.LDP.NoteComponent.init(),MOVE.LDP.ComparableSection.init(),MOVE.LDP.PdpTimelineSection.init(),1===$("#key-fact-carousel").length&&MOVE.LDP.DetailsKeyFact.init(),$('.key-fact-data[data-toggle="tooltip"]').tooltip(),MOVE.Common.readMore(".details-load-more",60,"Read"),MOVE.LDP.PrintPage.init(),MOVE.LDP.FsMapModal.init(),MOVE.LDP.UnitModules.init(),MOVE.LDP.PropertyDetails.firePixelTracking();var t=MOVE_DATA.propertyDetails.community_id,n=MOVE_DATA.propertyDetails.status;t&&("new_plan"==n||MOVE_DATA.propertyDetails.flags.is_spec_home)&&((i.i(o.h)()||MOVE_DATA.propertyDetails.flags.is_spec_home)&&i.i(a.a)(t,MOVE_DATA.propertyDetails.flags.is_spec_home),$("#ldp-collapsed-property-details").one("shown.bs.collapse",function(){i.i(a.a)(t,MOVE_DATA.propertyDetails.flags.is_spec_home)})),MOVE_DATA.propertyDetails.flags.is_spec_home&&MOVE.LDP.MoveInReadyHomes.initMoveInReadyHomes(MOVE_DATA.propertyDetails.property_id)};$(".other-plans-card").on("click",function(t){MOVE.UserActivity.updateSrpListingClicked({dataSource:"new_community:ldp:office_floor_plans"})}),$(".comparable-property-card").on("click",function(t){var e=MOVE_DATA.propertyDetails.status_display;if("Off Market"==e||"Recently sold"==e)MOVE.UserActivity.updateSrpListingClicked({dataSource:"ldp:for_sale_module"});else{var i=$(t.target).attr("sh-type");MOVE.UserActivity.updateSrpListingClicked({dataSource:"ldp:"+i})}}),$(".nearby-homevalues-properties > li").on("click",function(){var t=MOVE_DATA.propertyDetails.status_display;"Off Market"!=t&&"Recently sold"!=t||MOVE.UserActivity.updateSrpListingClicked({dataSource:"ldp:off_market_module"})});var h=MOVE_DATA.propertyDetails.status_display;if(("Off Market"==h||"Recently sold"==h)&&$(".nearby-homevalues-properties").length>0){var c=$("#ldp-home-values").next().data("impressiontoken"),p={pageName:"off_market:ldp",moduleImpression:"nearbyhomesonLDP:"+c.recommendations_count,impressionToken:c};window.RdcTracking.trackEvent("abTestModuleImpressionEvent",p)}if("new_plan"===MOVE_DATA.propertyDetails.status&&$(".js-ldp-similar_plans").length>0){var u=$(".js-ldp-similar_plans .data-wrap-impression-token").data("impressiontoken"),f={pageName:"new_plans:ldp",moduleImpression:"similarPlansonLDP:"+u.recommendations_count,impressionToken:u};window.RdcTracking.trackEvent("abTestModuleImpressionEvent",f)}var m=function(){$(".js-homes-around-collapse").length&&$(".js-homes-around-collapse").one("shown.bs.collapse",function(){MOVE.LDP.BrowseModules.lazyLoadHomesNearStreet()}),g()},g=function t(){$(window).one("scroll",function(e,i){i&&"no-bm-loading"==i?t():MOVE.LDP.BrowseModules.lazyLoadBrowseModules()})};return t.PropertyDetailsView={init:l},t.PropertyDetailsView}(MOVE.LDP||{}),MOVE.LDP.PropertyDetailsView.init()},1020:function(t,e){MOVE.LDP.DesktopHeroCarousel=function(t){var e=$("#primary_request_more_details"),i=$("#ldpHeroCarousel"),a=$(".js-hero-photo-controls"),o=$(".js-photo-cta"),n=$("#hero-carousel-sm-cta"),s=$("#firstPhotoCount"),r=$("#lastPhotoCount"),l=$("#ldpPhotoMrect"),d=$("#ldpPhotoHeroGalleryNavigation"),h=$("#photoGalleryMrect"),c=MOVE_DATA.propertyDetails.photo_count,p=function(){f(),u()},u=function(){1===c&&d.css("display","block")},f=function(){var t=c>=1,d={target:i,items:2,currentIndex:0,margin:0,navigationContainer:"#ldpPhotoHeroGalleryNavigation",touchDrag:t,mouseDrag:t,showPhotoCount:!0,responsiveClass:!0,responsive:{0:{items:1,nav:!0},996:{items:2,nav:!0}}},p=function(t,i){var r=0;r="large"===MOVE.Helper.detectViewPort()?600:485;var d=$("#ldp-herocarousel-lead").length?1:0,h=l.length?1:0;0==i?o.removeClass("hide"):o.addClass("hide"),t>i+h+d?(s.text(i+1),e.animate({right:0},"fast"),a.removeClass("hide"),l.addClass("hide")):(a.addClass("hide"),t>i+h?(s.text(i),e.animate({right:r},"fast"),$("#ldp-herocarousel-lead").parent().addClass("click-disabled"),n.click(),l.addClass("hide")):(s.text(i-d),e.animate({right:0},"fast"),MOVE.Medias.manualLoadAds(window.gptAds.gptadslotsPhotoGallery),l.removeClass("hide")))};MOVE_DATA.propertyDetails.photos&&MOVE_DATA.propertyDetails.photos.length&&MOVE.LDP.Photos.init(d,p,MOVE.LDP.PropertyDetails.dragPhotoEvent);var u=function(){var t=parseInt(s.html(),10)-1,e=parseInt(r.html(),10)-1,i=isNaN(t);$("#ldp-fullscreen-gallery").modal({show:!0});var a={selectedPhotoIndex:t,showAds:!i,galleryContainer:$("#ldpPhotoGallery"),navContainer:$("#ldpPhotoGalleryNavigation"),thumbnailContainer:$("#photoCarousel","#ldp-fullscreen-gallery"),showPhotoCount:!i,noPhotos:i};MOVE.LDP.PhotoGallery.init(a),t==e&&h.addClass("hide")};$("body").on("click","#ldpHeroCarousel .owl-item.active:first",function(){$(this).children().hasClass("ldp-herocarousel-leadwrapper")||u()})};return t.DesktopHeroCarousel={init:p},t.DesktopHeroCarousel}(MOVE.LDP||{})},1027:function(t,e){!function(t){var e,i,a;a=function(t){void 0!==t&&(MOVE.MapMiniCard.infoWindowCard={card:$(t),visible:!1,innerCard:$(t).find(".mini-card-inner-container")})},e=function(t){a(t),!1!==MOVE.MapMiniCard.infoWindowCard.visible&&(MOVE.MapMiniCard.infoWindowCard.card.addClass("hide"),MOVE.MapMiniCard.infoWindowCard.innerCard.html(""),MOVE.MapMiniCard.infoWindowCard.visible=!1,$(".map-mini-card-wrap").addClass("no-show"))},i=function(t,e,i,o,n,s,r){void 0!==s&&s.hasClass("js-ldp-recently-sold-around-mini-card")&&s.parents("#homes-near-street").length&&(t instanceof Array?(t.dataStreetHome=!0,_.each(t,function(t){t.dataStreetHome=!0})):t.dataStreetHome=!0);var l=MOVE.MapMiniCard.setInfoCardPosition({leftPosition:parseInt(e,10),topPosition:parseInt(i,10)},o,t),d=l.leftPosition.toString()+"px",h=l.topPosition.toString()+"px",c=document.createElement("div");if($(c).css({left:d,top:h}),s&&(s.hasClass("js-ldp-nearby-homevalues-mini-card")||s.hasClass("js-ldp-recently-sold-around-mini-card"))&&a(s),!0===MOVE.MapMiniCard.infoWindowCard.visible&&MOVE.MapMiniCard.infoWindowCard.card.css("left")===$(c).css("left")&&MOVE.MapMiniCard.infoWindowCard.card.css("top")===$(c).css("top"))MOVE.MapMiniCard.Helper.closeInfoWindowCard(),"direct"===n&&MOVE.SRP.MapView.map.properties.select({type:"property"}),r&&r();else{var p=MOVE.MapMiniCard.loadHtmlTemplate(t,s);MOVE.MapMiniCard.infoWindowCard.innerCard.html(p),t.dataStreetHome&&MOVE.MapMiniCard.infoWindowCard.card.addClass("pdp-recently-sold-around-mini-card"),MOVE.MapMiniCard.infoWindowCard.card.removeClass("hide"),$(".map-mini-card-wrap").removeClass("no-show"),MOVE.MapMiniCard.infoWindowCard.visible=!0,MOVE.MapMiniCard.infoWindowCard.card.css({left:d,top:h}),MOVE.MapMiniCard.infoWindowCard.innerCard.find(".mini-card-item").click(function(){"ldp"!=MOVE_DATA.pageType&&MOVE.UserActivity.updateSrpListingClicked({turboStatus:"organic",dataSource:"map-pin"});var t=$(this).data("ldpurl");window.location=t})}MOVE.MapMiniCard.Tracking.init(t)},t.Helper={closeInfoWindowCard:e,openInfoWindowCard:i}}(MOVE.MapMiniCard||{})},108:function(t,e,i){(function(e){t.exports=e.Highcharts=i(194)}).call(e,i(28))},115:function(t,e){MOVE.DateFormat=function(t){var e=function(t){var e=t.getFullYear(),i=(1+t.getMonth()).toString();i=i.length>1?i:"0"+i;var a=t.getDate().toString();return a=a.length>1?a:"0"+a,i+"/"+a+"/"+e};return t.DateFormat={getFormattedDate:e},t.DateFormat}(MOVE||{})},116:function(t,e,i){"use strict";var a=i(21),o=i(167),n=i(13),s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a])}return t};MOVE.ShareEmailModal=function(t){var e,r,l,d,h,c,p,u,f,m=MOVE_DATA.adobeDTM.propertyStatus+":share",g=MOVE_DATA.adobeDTM.propertyStatus+":"+MOVE_DATA.pageType+":card:share",v=function(t){x(),w(t),y(),b(),_(),k(d),D(),M()},y=function(){h.on("click",function(){t.Medias.kruxPixel("KAVW8ly2",{type:"facebook"})}),c.on("click",function(){t.Medias.kruxPixel("KAVW8ly2",{type:"twitter"})}),p.on("click",function(){t.Medias.kruxPixel("KAVW8ly2",{type:"google+1"})}),u.on("click",function(){t.Medias.kruxPixel("KAVW8ly2",{type:"linkedin+1"})}),f.on("click",function(){t.Medias.kruxPixel("KAVW8ly2",{type:"pinterest"})})},_=function(){if($(".js-mobile-share").click(function(e){if($("#mobileShareOptionsModal").modal("hide"),MOVE_DATA.ab_share_srp_experiment&&($("#mobileShareOptionsModal").remove(),$(".modal-backdrop.fade.in").remove(),$(".full-screen-qv").removeClass("modal-open"),$(this).is(".js-email-share"))){var a=t.DataStore.getData("shareClickedCardData")||{};t.ModalHelper.fetchModal("#shareEmailModal",a,{}),Boolean(t.Helper.isPhone())&&i.i(n.a)(m,g)}}),r.on("shown.bs.modal",function(){$("body").addClass("modal-open")}),MOVE_DATA.ab_share_srp_experiment){var e=$("#mobileShareOptionsModal");e.on("hide.bs.modal",function(){e.remove(),window.modals=window.modals.filter(function(t){return"#mobileShareOptionsModal"!==t})})}},b=function(){r.on("hide.bs.modal",function(){$(".js-email-new-inputs").val(""),$(".js-email-new-div").remove(),e.is(":visible")||e.show(),MOVE_DATA.ab_share_srp_experiment&&"srp"===MOVE_DATA.pageType&&(r.remove(),window.modals=window.modals.filter(function(t){return"#shareEmailModal"!==t}))})},M=function(){l.on("click",function(){i.i(o.a)()})},x=function(){e=$("#js-trigger-fields"),r=$("#shareEmailModal"),l=$(".share-link-email"),d=$("#share_via_email"),h=$("#js-trigger-facebook"),c=$("#js-trigger-twitter"),p=$("#js-trigger-google-plus"),u=$("#js-trigger-linkedin"),f=$("#js-trigger-pinterest")},w=function(e){if(t.LocalStorage.isAvailable){if(MOVE_DATA.ab_share_srp_experiment&&Boolean(e)){var i=e,a=i.propertyid,o="https://web.archive.org/web/20200819065000/https://www.realtor.com"+i.url;t.DataStore.clearData("shareClickedCardData"),t.DataStore.setData("shareClickedCardData",s({property_id:a,canonical:o},i))}var e=t.Common.getCachedInputsData();e&&(void 0===e.fullName&&""===e.fullName||d.find("#name").val(e.fullName),void 0===e.email&&""===e.email||d.find("#email").val(e.email))}},k=function(t){t.validate({debug:!0,rules:{send_to_email:{required:!0,multiEmails:!0,maxFourEmails:!0},name:{required:!0,pattern:/^[a-zA-Z- ']{0,25}$/},message:{required:!1,noUrl:!0},email:{email:!0,required:!0,pattern:/^.+@.+\..+$/}},messages:{send_to_email:{required:"Please enter your friend's email(s)",multiEmails:"One or more email address(es) is not valid",maxFourEmails:"Only 4 email addresses is allowed"},name:{required:"Please enter your full name",pattern:"Please enter a valid name. (Max 25 char. Special characters limited to hyphens & spaces)"},message:{noUrl:"Your message can't contain any URL."},email:{required:"Please enter your email",email:"Please enter a valid email",pattern:"Please enter a valid email"}},onfocusout:function(t){"name"==t.id&&(t.value=t.value.trim())},errorPlacement:function(t,e){t.insertAfter(e)},submitHandler:function(t){var e=function(e){var i=!0;(e&&!e.success||MOVE_DATA.recaptcha_config&&e.score<=MOVE_DATA.recaptcha_config.score)&&($("#recaptcha-error").removeClass("hide"),i=!1),i&&($("#recaptcha-error").addClass("hide"),$.ajax({data:$(t).serialize(),url:t.action,type:"POST"}))},i=function(t){$.ajax({data:{token:t},url:"/google_recaptcha_v3/validate_token",type:"POST",success:function(t){e(t)}})};MOVE_DATA.recaptcha_config&&MOVE_DATA.recaptcha_config.enabled?grecaptcha.execute(MOVE_DATA.recaptcha_config.site_key,{action:"submit"}).then(function(t){i(t)}):e()}})},O=function(e){if("ok"===e){var n=a.a.instance&&a.a.instance.getData()||{},s=void 0;d.length&&t.Common.cacheInputs(d.find("#name"),d.find("#email")),r.length&&r.modal("hide"),MOVE_DATA.ab_share_srp_experiment&&(s=d.find("#listing_id").val())&&(s=parseInt(s)),i.i(o.b)("",!0,s),n.status&&"for_rent"===n.status?E():C()}else alert("Failed to send email. Please try again.")},C=function(){if($("#shareEmailThankYou").length)t.ModalHelper.removeSaveInThankYouModal(),$("#shareEmailThankYou").modal();else{var e=a.a.instance,i=void 0;i=MOVE_DATA.ab_share_srp_experiment&&!$("body").hasClass("qv-open")?t.DataStore.getData("shareClickedCardData")||{}:e?e.getData():{},t.ModalHelper.fetchModal("#shareEmailThankYou",i,{})}};$.validator.addMethod("multiEmails",function(t){var e=t.split(/[,]+/),i=!0;for(var a in e)i=i&&/^[\w\-\.\+]+\@[a-zA-Z0-9\.\-]+\.[a-zA-z0-9]{2,4}$/.test($.trim(e[a]));return i},$.validator.messages.email),$.validator.addMethod("noUrl",function(t){return!/(\b(?:(?:https?|ftps?):\/\/|www\.)[-a-zA-Z0-9+&@#\/%?=~_|!:,.;]*[-a-zA-Z0-9+&@#\/%=~_|])|([a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+)/g.test(t.toLocaleLowerCase())},$.validator.messages.message),$.validator.addMethod("maxFourEmails",function(t){return t.split(/[;,]+/).length<=4},$.validator.messages.email);var E=function(){t.LDP.RentalLeadMovingModal.show("sf")},D=function(){if(MOVE_DATA.ab_share_srp_experiment&&!$("body").hasClass("qv-open")){var e=$("#shareEmailThankYou");e.remove(),e.on("hide.bs.modal",function(){t.DataStore.clearData("shareClickedCardData"),window.modals=window.modals.filter(function(t){return"#shareEmailThankYou"!==t})})}$(document).on("click","#save-content-wrapper .ldp-save-not-logged-in",function(){$("#shareEmailThankYou").modal("hide")})};return t.ShareEmailModal={init:v,submitForm:k,afterSubmit:O,setVariables:x},t.ShareEmailModal}(MOVE||{})},117:function(t,e,i){var a,o,n;!function(s){o=[i(44)],a=s,void 0!==(n="function"==typeof a?a.apply(e,o):a)&&(t.exports=n)}(function(t,e){function i(){return new Date(Date.UTC.apply(Date,arguments))}function a(){var t=new Date;return i(t.getFullYear(),t.getMonth(),t.getDate())}function o(t,e){return t.getUTCFullYear()===e.getUTCFullYear()&&t.getUTCMonth()===e.getUTCMonth()&&t.getUTCDate()===e.getUTCDate()}function n(t){return function(){return this[t].apply(this,arguments)}}function s(t){return t&&!isNaN(t.getTime())}function r(e,i){function a(t,e){return e.toLowerCase()}var o,n=t(e).data(),s={},r=new RegExp("^"+i.toLowerCase()+"([A-Z])");i=new RegExp("^"+i.toLowerCase());for(var l in n)i.test(l)&&(o=l.replace(r,a),s[o]=n[l]);return s}function l(e){var i={};if(g[e]||(e=e.split("-")[0],g[e])){var a=g[e];return t.each(m,function(t,e){e in a&&(i[e]=a[e])}),i}}var d=function(){var e={get:function(t){return this.slice(t)[0]},contains:function(t){for(var e=t&&t.valueOf(),i=0,a=this.length;a>i;i++)if(this[i].valueOf()===e)return i;return-1},remove:function(t){this.splice(t,1)},replace:function(e){e&&(t.isArray(e)||(e=[e]),this.clear(),this.push.apply(this,e))},clear:function(){this.length=0},copy:function(){var t=new d;return t.replace(this),t}};return function(){var i=[];return i.push.apply(i,arguments),t.extend(i,e),i}}(),h=function(e,i){this._process_options(i),this.dates=new d,this.viewDate=this.o.defaultViewDate,this.focusDate=null,this.element=t(e),this.isInline=!1,this.isInput=this.element.is("input"),this.component=!!this.element.hasClass("date")&&this.element.find(".add-on, .input-group-addon, .btn"),this.hasInput=this.component&&this.element.find("input").length,this.component&&0===this.component.length&&(this.component=!1),this.picker=t(v.template),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&this.picker.addClass("datepicker-rtl"),this.viewMode=this.o.startView,this.o.calendarWeeks&&this.picker.find("tfoot .today, tfoot .clear").attr("colspan",function(t,e){return parseInt(e)+1}),this._allow_update=!1,this.setStartDate(this._o.startDate),this.setEndDate(this._o.endDate),this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled),this.setDaysOfWeekHighlighted(this.o.daysOfWeekHighlighted),this.setDatesDisabled(this.o.datesDisabled),this.fillDow(),this.fillMonths(),this._allow_update=!0,this.update(),this.showMode(),this.isInline&&this.show()};h.prototype={constructor:h,_process_options:function(o){this._o=t.extend({},this._o,o);var n=this.o=t.extend({},this._o),s=n.language;switch(g[s]||(s=s.split("-")[0],g[s]||(s=f.language)),n.language=s,n.startView){case 2:case"decade":n.startView=2;break;case 1:case"year":n.startView=1;break;default:n.startView=0}switch(n.minViewMode){case 1:case"months":n.minViewMode=1;break;case 2:case"years":n.minViewMode=2;break;default:n.minViewMode=0}switch(n.maxViewMode){case 0:case"days":n.maxViewMode=0;break;case 1:case"months":n.maxViewMode=1;break;default:n.maxViewMode=2}n.startView=Math.min(n.startView,n.maxViewMode),n.startView=Math.max(n.startView,n.minViewMode),!0!==n.multidate&&(n.multidate=Number(n.multidate)||!1,!1!==n.multidate&&(n.multidate=Math.max(0,n.multidate))),n.multidateSeparator=String(n.multidateSeparator),n.weekStart%=7,n.weekEnd=(n.weekStart+6)%7;var r=v.parseFormat(n.format);if(n.startDate!==-1/0&&(n.startDate?n.startDate instanceof Date?n.startDate=this._local_to_utc(this._zero_time(n.startDate)):n.startDate=v.parseDate(n.startDate,r,n.language):n.startDate=-1/0),n.endDate!==1/0&&(n.endDate?n.endDate instanceof Date?n.endDate=this._local_to_utc(this._zero_time(n.endDate)):n.endDate=v.parseDate(n.endDate,r,n.language):n.endDate=1/0),n.daysOfWeekDisabled=n.daysOfWeekDisabled||[],t.isArray(n.daysOfWeekDisabled)||(n.daysOfWeekDisabled=n.daysOfWeekDisabled.split(/[,\s]*/)),n.daysOfWeekDisabled=t.map(n.daysOfWeekDisabled,function(t){return parseInt(t,10)}),n.daysOfWeekHighlighted=n.daysOfWeekHighlighted||[],t.isArray(n.daysOfWeekHighlighted)||(n.daysOfWeekHighlighted=n.daysOfWeekHighlighted.split(/[,\s]*/)),n.daysOfWeekHighlighted=t.map(n.daysOfWeekHighlighted,function(t){return parseInt(t,10)}),n.datesDisabled=n.datesDisabled||[],!t.isArray(n.datesDisabled)){var l=[];l.push(v.parseDate(n.datesDisabled,r,n.language)),n.datesDisabled=l}n.datesDisabled=t.map(n.datesDisabled,function(t){return v.parseDate(t,r,n.language)});var d=String(n.orientation).toLowerCase().split(/\s+/g),h=n.orientation.toLowerCase();if(d=t.grep(d,function(t){return/^auto|left|right|top|bottom$/.test(t)}),n.orientation={x:"auto",y:"auto"},h&&"auto"!==h)if(1===d.length)switch(d[0]){case"top":case"bottom":n.orientation.y=d[0];break;case"left":case"right":n.orientation.x=d[0]}else h=t.grep(d,function(t){return/^left|right$/.test(t)}),n.orientation.x=h[0]||"auto",h=t.grep(d,function(t){return/^top|bottom$/.test(t)}),n.orientation.y=h[0]||"auto";if(n.defaultViewDate){var c=n.defaultViewDate.year||(new Date).getFullYear(),p=n.defaultViewDate.month||0,u=n.defaultViewDate.day||1;n.defaultViewDate=i(c,p,u)}else n.defaultViewDate=a();n.showOnFocus=n.showOnFocus===e||n.showOnFocus,n.zIndexOffset=n.zIndexOffset!==e?n.zIndexOffset:10},_events:[],_secondaryEvents:[],_applyEvents:function(t){for(var i,a,o,n=0;n<t.length;n++)i=t[n][0],2===t[n].length?(a=e,o=t[n][1]):3===t[n].length&&(a=t[n][1],o=t[n][2]),i.on(o,a)},_unapplyEvents:function(t){for(var i,a,o,n=0;n<t.length;n++)i=t[n][0],2===t[n].length?(o=e,a=t[n][1]):3===t[n].length&&(o=t[n][1],a=t[n][2]),i.off(a,o)},_buildEvents:function(){var e={keyup:t.proxy(function(e){-1===t.inArray(e.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:t.proxy(this.keydown,this),paste:t.proxy(this.paste,this)};!0===this.o.showOnFocus&&(e.focus=t.proxy(this.show,this)),this.isInput?this._events=[[this.element,e]]:this.component&&this.hasInput?this._events=[[this.element.find("input"),e],[this.component,{click:t.proxy(this.show,this)}]]:this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:t.proxy(this.show,this)}]],this._events.push([this.element,"*",{blur:t.proxy(function(t){this._focused_from=t.target},this)}],[this.element,{blur:t.proxy(function(t){this._focused_from=t.target},this)}]),this.o.immediateUpdates&&this._events.push([this.element,{"changeYear changeMonth":t.proxy(function(t){this.update(t.date)},this)}]),this._secondaryEvents=[[this.picker,{click:t.proxy(this.click,this)}],[t(window),{resize:t.proxy(this.place,this)}],[t(document),{mousedown:t.proxy(function(t){this.element.is(t.target)||this.element.find(t.target).length||this.picker.is(t.target)||this.picker.find(t.target).length||this.picker.hasClass("datepicker-inline")||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(e,i){var a=i||this.dates.get(-1),o=this._utc_to_local(a);this.element.trigger({type:e,date:o,dates:t.map(this.dates,this._utc_to_local),format:t.proxy(function(t,e){0===arguments.length?(t=this.dates.length-1,e=this.o.format):"string"==typeof t&&(e=t,t=this.dates.length-1),e=e||this.o.format;var i=this.dates.get(t);return v.formatDate(i,e,this.o.language)},this)})},show:function(){return this.element.attr("readonly")&&!1===this.o.enableOnReadonly?void 0:(this.isInline||this.picker.appendTo(this.o.container),this.place(),this.picker.show(),this._attachSecondaryEvents(),this._trigger("show"),(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&this.o.disableTouchKeyboard&&t(this.element).blur(),this)},hide:function(){return this.isInline?this:this.picker.is(":visible")?(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this._trigger("hide"),this):this},remove:function(){return this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date,this},paste:function(e){var i;if(e.originalEvent.clipboardData&&e.originalEvent.clipboardData.types&&-1!==t.inArray("text/plain",e.originalEvent.clipboardData.types))i=e.originalEvent.clipboardData.getData("text/plain");else{if(!window.clipboardData)return;i=window.clipboardData.getData("Text")}this.setDate(i),this.update(),e.preventDefault()},_utc_to_local:function(t){return t&&new Date(t.getTime()+6e4*t.getTimezoneOffset())},_local_to_utc:function(t){return t&&new Date(t.getTime()-6e4*t.getTimezoneOffset())},_zero_time:function(t){return t&&new Date(t.getFullYear(),t.getMonth(),t.getDate())},_zero_utc_time:function(t){return t&&new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()))},getDates:function(){return t.map(this.dates,this._utc_to_local)},getUTCDates:function(){return t.map(this.dates,function(t){return new Date(t)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){var t=this.dates.get(-1);return void 0!==t?new Date(t):null},clearDates:function(){var t;this.isInput?t=this.element:this.component&&(t=this.element.find("input")),t&&t.val(""),this.update(),this._trigger("changeDate"),this.o.autoclose&&this.hide()},setDates:function(){var e=t.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,e),this._trigger("changeDate"),this.setValue(),this},setUTCDates:function(){var e=t.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,t.map(e,this._utc_to_local)),this._trigger("changeDate"),this.setValue(),this},setDate:n("setDates"),setUTCDate:n("setUTCDates"),setValue:function(){var t=this.getFormattedDate();return this.isInput?this.element.val(t):this.component&&this.element.find("input").val(t),this},getFormattedDate:function(i){i===e&&(i=this.o.format);var a=this.o.language;return t.map(this.dates,function(t){return v.formatDate(t,i,a)}).join(this.o.multidateSeparator)},setStartDate:function(t){return this._process_options({startDate:t}),this.update(),this.updateNavArrows(),this},setEndDate:function(t){return this._process_options({endDate:t}),this.update(),this.updateNavArrows(),this},setDaysOfWeekDisabled:function(t){return this._process_options({daysOfWeekDisabled:t}),this.update(),this.updateNavArrows(),this},setDaysOfWeekHighlighted:function(t){return this._process_options({daysOfWeekHighlighted:t}),this.update(),this},setDatesDisabled:function(t){this._process_options({datesDisabled:t}),this.update(),this.updateNavArrows()},place:function(){if(this.isInline)return this;var e=this.picker.outerWidth(),i=this.picker.outerHeight(),a=t(this.o.container),o=a.width(),n=a.scrollTop(),s=a.offset(),r=[];this.element.parents().each(function(){var e=t(this).css("z-index");"auto"!==e&&0!==e&&r.push(parseInt(e))});var l=Math.max.apply(Math,r)+this.o.zIndexOffset,d=this.component?this.component.parent().offset():this.element.offset(),h=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),c=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),p=d.left-s.left,u=d.top-s.top;this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),"auto"!==this.o.orientation.x?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&(p-=e-c)):d.left<0?(this.picker.addClass("datepicker-orient-left"),p-=d.left-10):p+e>o?(this.picker.addClass("datepicker-orient-right"),p=d.left+c-e):this.picker.addClass("datepicker-orient-left");var f,m=this.o.orientation.y;if("auto"===m&&(f=-n+u-i,m=0>f?"bottom":"top"),this.picker.addClass("datepicker-orient-"+m),"top"===m?u-=i+parseInt(this.picker.css("padding-top")):u+=h,this.o.rtl){var g=o-(p+c);this.picker.css({top:u,right:g,zIndex:l})}else this.picker.css({top:u,left:p,zIndex:l});return this},_allow_update:!0,update:function(){if(!this._allow_update)return this;var e=this.dates.copy(),i=[],a=!1;return arguments.length?(t.each(arguments,t.proxy(function(t,e){e instanceof Date&&(e=this._local_to_utc(e)),i.push(e)},this)),a=!0):(i=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val(),i=i&&this.o.multidate?i.split(this.o.multidateSeparator):[i],delete this.element.data().date),i=t.map(i,t.proxy(function(t){return v.parseDate(t,this.o.format,this.o.language)},this)),i=t.grep(i,t.proxy(function(t){return t<this.o.startDate||t>this.o.endDate||!t},this),!0),this.dates.replace(i),this.dates.length?this.viewDate=new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?this.viewDate=new Date(this.o.startDate):this.viewDate>this.o.endDate?this.viewDate=new Date(this.o.endDate):this.viewDate=this.o.defaultViewDate,a?this.setValue():i.length&&String(e)!==String(this.dates)&&this._trigger("changeDate"),!this.dates.length&&e.length&&this._trigger("clearDate"),this.fill(),this.element.change(),this},fillDow:function(){var t=this.o.weekStart,e="<tr>";for(this.o.calendarWeeks&&(this.picker.find(".datepicker-days .datepicker-switch").attr("colspan",function(t,e){return parseInt(e)+1}),e+='<th class="cw">&#160;</th>');t<this.o.weekStart+7;)e+='<th class="dow">'+g[this.o.language].daysMin[t++%7]+"</th>";e+="</tr>",this.picker.find(".datepicker-days thead").append(e)},fillMonths:function(){for(var t="",e=0;12>e;)t+='<span class="month">'+g[this.o.language].monthsShort[e++]+"</span>";this.picker.find(".datepicker-months td").html(t)},setRange:function(e){e&&e.length?this.range=t.map(e,function(t){return t.valueOf()}):delete this.range,this.fill()},getClassNames:function(e){var i=[],a=this.viewDate.getUTCFullYear(),n=this.viewDate.getUTCMonth(),s=new Date;return e.getUTCFullYear()<a||e.getUTCFullYear()===a&&e.getUTCMonth()<n?i.push("old"):(e.getUTCFullYear()>a||e.getUTCFullYear()===a&&e.getUTCMonth()>n)&&i.push("new"),this.focusDate&&e.valueOf()===this.focusDate.valueOf()&&i.push("focused"),this.o.todayHighlight&&e.getUTCFullYear()===s.getFullYear()&&e.getUTCMonth()===s.getMonth()&&e.getUTCDate()===s.getDate()&&i.push("today"),-1!==this.dates.contains(e)&&i.push("active"),(e.valueOf()<this.o.startDate||e.valueOf()>this.o.endDate||-1!==t.inArray(e.getUTCDay(),this.o.daysOfWeekDisabled))&&i.push("disabled"),-1!==t.inArray(e.getUTCDay(),this.o.daysOfWeekHighlighted)&&i.push("highlighted"),this.o.datesDisabled.length>0&&t.grep(this.o.datesDisabled,function(t){return o(e,t)}).length>0&&i.push("disabled","disabled-date"),this.range&&(e>this.range[0]&&e<this.range[this.range.length-1]&&i.push("range"),-1!==t.inArray(e.valueOf(),this.range)&&i.push("selected"),e.valueOf()===this.range[0]&&i.push("range-start"),e.valueOf()===this.range[this.range.length-1]&&i.push("range-end")),i},fill:function(){var a,o=new Date(this.viewDate),n=o.getUTCFullYear(),s=o.getUTCMonth(),r=this.o.startDate!==-1/0?this.o.startDate.getUTCFullYear():-1/0,l=this.o.startDate!==-1/0?this.o.startDate.getUTCMonth():-1/0,d=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,h=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,c=g[this.o.language].today||g.en.today||"",p=g[this.o.language].clear||g.en.clear||"",u=g[this.o.language].titleFormat||g.en.titleFormat;if(!isNaN(n)&&!isNaN(s)){this.picker.find(".datepicker-days thead .datepicker-switch").text(v.formatDate(new i(n,s),u,this.o.language)),this.picker.find("tfoot .today").text(c).toggle(!1!==this.o.todayBtn),this.picker.find("tfoot .clear").text(p).toggle(!1!==this.o.clearBtn),this.picker.find("thead .datepicker-title").text(this.o.title).toggle(""!==this.o.title),this.updateNavArrows(),this.fillMonths();var f=i(n,s-1,28),m=v.getDaysInMonth(f.getUTCFullYear(),f.getUTCMonth());f.setUTCDate(m),f.setUTCDate(m-(f.getUTCDay()-this.o.weekStart+7)%7);var y=new Date(f);f.getUTCFullYear()<100&&y.setUTCFullYear(f.getUTCFullYear()),y.setUTCDate(y.getUTCDate()+42),y=y.valueOf();for(var _,b=[];f.valueOf()<y;){if(f.getUTCDay()===this.o.weekStart&&(b.push("<tr>"),this.o.calendarWeeks)){var M=new Date(+f+(this.o.weekStart-f.getUTCDay()-7)%7*864e5),x=new Date(Number(M)+(11-M.getUTCDay())%7*864e5),w=new Date(Number(w=i(x.getUTCFullYear(),0,1))+(11-w.getUTCDay())%7*864e5),k=(x-w)/864e5/7+1;b.push('<td class="cw">'+k+"</td>")}if(_=this.getClassNames(f),_.push("day"),this.o.beforeShowDay!==t.noop){var O=this.o.beforeShowDay(this._utc_to_local(f));O===e?O={}:"boolean"==typeof O?O={enabled:O}:"string"==typeof O&&(O={classes:O}),!1===O.enabled&&_.push("disabled"),O.classes&&(_=_.concat(O.classes.split(/\s+/))),O.tooltip&&(a=O.tooltip)}_=t.unique(_),b.push('<td class="'+_.join(" ")+'"'+(a?' title="'+a+'"':"")+">"+f.getUTCDate()+"</td>"),a=null,f.getUTCDay()===this.o.weekEnd&&b.push("</tr>"),f.setUTCDate(f.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(b.join(""));var C=this.picker.find(".datepicker-months").find(".datepicker-switch").text(this.o.maxViewMode<2?"Months":n).end().find("span").removeClass("active");if(t.each(this.dates,function(t,e){e.getUTCFullYear()===n&&C.eq(e.getUTCMonth()).addClass("active")}),(r>n||n>d)&&C.addClass("disabled"),n===r&&C.slice(0,l).addClass("disabled"),n===d&&C.slice(h+1).addClass("disabled"),this.o.beforeShowMonth!==t.noop){var E=this;t.each(C,function(e,i){if(!t(i).hasClass("disabled")){var a=new Date(n,e,1);!1===E.o.beforeShowMonth(a)&&t(i).addClass("disabled")}})}b="",n=10*parseInt(n/10,10);var D=this.picker.find(".datepicker-years").find(".datepicker-switch").text(n+"-"+(n+9)).end().find("td");n-=1;for(var T,A=t.map(this.dates,function(t){return t.getUTCFullYear()}),P=-1;11>P;P++){if(T=["year"],a=null,-1===P?T.push("old"):10===P&&T.push("new"),-1!==t.inArray(n,A)&&T.push("active"),(r>n||n>d)&&T.push("disabled"),this.o.beforeShowYear!==t.noop){var S=this.o.beforeShowYear(new Date(n,0,1));S===e?S={}:"boolean"==typeof S?S={enabled:S}:"string"==typeof S&&(S={classes:S}),!1===S.enabled&&T.push("disabled"),S.classes&&(T=T.concat(S.classes.split(/\s+/))),S.tooltip&&(a=S.tooltip)}b+='<span class="'+T.join(" ")+'"'+(a?' title="'+a+'"':"")+">"+n+"</span>",n+=1}D.html(b)}},updateNavArrows:function(){if(this._allow_update){var t=new Date(this.viewDate),e=t.getUTCFullYear(),i=t.getUTCMonth();switch(this.viewMode){case 0:this.o.startDate!==-1/0&&e<=this.o.startDate.getUTCFullYear()&&i<=this.o.startDate.getUTCMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==1/0&&e>=this.o.endDate.getUTCFullYear()&&i>=this.o.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:case 2:this.o.startDate!==-1/0&&e<=this.o.startDate.getUTCFullYear()||this.o.maxViewMode<2?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==1/0&&e>=this.o.endDate.getUTCFullYear()||this.o.maxViewMode<2?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}}},click:function(e){e.preventDefault(),e.stopPropagation();var a,o,n,s=t(e.target).closest("span, td, th");if(1===s.length)switch(s[0].nodeName.toLowerCase()){case"th":switch(s[0].className){case"datepicker-switch":this.showMode(1);break;case"prev":case"next":var r=v.modes[this.viewMode].navStep*("prev"===s[0].className?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,r),this._trigger("changeMonth",this.viewDate);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,r),1===this.viewMode&&this._trigger("changeYear",this.viewDate)}this.fill();break;case"today":var l=new Date;l=i(l.getFullYear(),l.getMonth(),l.getDate(),0,0,0),this.showMode(-2);var d="linked"===this.o.todayBtn?null:"view";this._setDate(l,d);break;case"clear":this.clearDates()}break;case"span":s.hasClass("disabled")||(this.viewDate.setUTCDate(1),s.hasClass("month")?(n=1,o=s.parent().find("span").index(s),a=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(o),this._trigger("changeMonth",this.viewDate),1===this.o.minViewMode?(this._setDate(i(a,o,n)),this.showMode()):this.showMode(-1)):(n=1,o=0,a=parseInt(s.text(),10)||0,this.viewDate.setUTCFullYear(a),this._trigger("changeYear",this.viewDate),2===this.o.minViewMode&&this._setDate(i(a,o,n)),this.showMode(-1)),this.fill());break;case"td":s.hasClass("day")&&!s.hasClass("disabled")&&(n=parseInt(s.text(),10)||1,a=this.viewDate.getUTCFullYear(),o=this.viewDate.getUTCMonth(),s.hasClass("old")?0===o?(o=11,a-=1):o-=1:s.hasClass("new")&&(11===o?(o=0,a+=1):o+=1),this._setDate(i(a,o,n)))}this.picker.is(":visible")&&this._focused_from&&t(this._focused_from).focus(),delete this._focused_from},_toggle_multidate:function(t){var e=this.dates.contains(t);if(t||this.dates.clear(),-1!==e?(!0===this.o.multidate||this.o.multidate>1||this.o.toggleActive)&&this.dates.remove(e):!1===this.o.multidate?(this.dates.clear(),this.dates.push(t)):this.dates.push(t),"number"==typeof this.o.multidate)for(;this.dates.length>this.o.multidate;)this.dates.remove(0)},_setDate:function(t,e){e&&"date"!==e||this._toggle_multidate(t&&new Date(t)),e&&"view"!==e||(this.viewDate=t&&new Date(t)),this.fill(),this.setValue(),e&&"view"===e||this._trigger("changeDate");var i;this.isInput?i=this.element:this.component&&(i=this.element.find("input")),i&&i.change(),!this.o.autoclose||e&&"date"!==e||this.hide()},moveMonth:function(t,e){if(!s(t))return this.o.defaultViewDate;if(!e)return t;var i,a,o=new Date(t.valueOf()),n=o.getUTCDate(),r=o.getUTCMonth(),l=Math.abs(e);if(e=e>0?1:-1,1===l)a=-1===e?function(){return o.getUTCMonth()===r}:function(){return o.getUTCMonth()!==i},i=r+e,o.setUTCMonth(i),(0>i||i>11)&&(i=(i+12)%12);else{for(var d=0;l>d;d++)o=this.moveMonth(o,e);i=o.getUTCMonth(),o.setUTCDate(n),a=function(){return i!==o.getUTCMonth()}}for(;a();)o.setUTCDate(--n),o.setUTCMonth(i);return o},moveYear:function(t,e){return this.moveMonth(t,12*e)},dateWithinRange:function(t){return t>=this.o.startDate&&t<=this.o.endDate},keydown:function(t){if(!this.picker.is(":visible"))return void((40===t.keyCode||27===t.keyCode)&&(this.show(),t.stopPropagation()));var e,i,o,n=!1,s=this.focusDate||this.viewDate;switch(t.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide(),t.preventDefault(),t.stopPropagation();break;case 37:case 39:if(!this.o.keyboardNavigation)break;e=37===t.keyCode?-1:1,t.ctrlKey?(i=this.moveYear(this.dates.get(-1)||a(),e),o=this.moveYear(s,e),this._trigger("changeYear",this.viewDate)):t.shiftKey?(i=this.moveMonth(this.dates.get(-1)||a(),e),o=this.moveMonth(s,e),this._trigger("changeMonth",this.viewDate)):(i=new Date(this.dates.get(-1)||a()),i.setUTCDate(i.getUTCDate()+e),o=new Date(s),o.setUTCDate(s.getUTCDate()+e)),this.dateWithinRange(o)&&(this.focusDate=this.viewDate=o,this.setValue(),this.fill(),t.preventDefault());break;case 38:case 40:if(!this.o.keyboardNavigation)break;e=38===t.keyCode?-1:1,t.ctrlKey?(i=this.moveYear(this.dates.get(-1)||a(),e),o=this.moveYear(s,e),this._trigger("changeYear",this.viewDate)):t.shiftKey?(i=this.moveMonth(this.dates.get(-1)||a(),e),o=this.moveMonth(s,e),this._trigger("changeMonth",this.viewDate)):(i=new Date(this.dates.get(-1)||a()),i.setUTCDate(i.getUTCDate()+7*e),o=new Date(s),o.setUTCDate(s.getUTCDate()+7*e)),this.dateWithinRange(o)&&(this.focusDate=this.viewDate=o,this.setValue(),this.fill(),t.preventDefault());break;case 32:break;case 13:if(!this.o.forceParse)break;s=this.focusDate||this.dates.get(-1)||this.viewDate,this.o.keyboardNavigation&&(this._toggle_multidate(s),n=!0),this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.setValue(),this.fill(),this.picker.is(":visible")&&(t.preventDefault(),"function"==typeof t.stopPropagation?t.stopPropagation():t.cancelBubble=!0,this.o.autoclose&&this.hide());break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()}if(n){this.dates.length?this._trigger("changeDate"):this._trigger("clearDate");var r;this.isInput?r=this.element:this.component&&(r=this.element.find("input")),r&&r.change()}},showMode:function(t){t&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(this.o.maxViewMode,this.viewMode+t))),this.picker.children("div").hide().filter(".datepicker-"+v.modes[this.viewMode].clsName).show(),this.updateNavArrows()}};var c=function(e,i){this.element=t(e),this.inputs=t.map(i.inputs,function(t){return t.jquery?t[0]:t}),delete i.inputs,u.call(t(this.inputs),i).on("changeDate",t.proxy(this.dateUpdated,this)),this.pickers=t.map(this.inputs,function(e){return t(e).data("datepicker")}),this.updateDates()};c.prototype={updateDates:function(){this.dates=t.map(this.pickers,function(t){return t.getUTCDate()}),this.updateRanges()},updateRanges:function(){var e=t.map(this.dates,function(t){return t.valueOf()});t.each(this.pickers,function(t,i){i.setRange(e)})},dateUpdated:function(e){if(!this.updating){this.updating=!0;var i=t(e.target).data("datepicker");if(void 0!==i){var a=i.getUTCDate(),o=t.inArray(e.target,this.inputs),n=o-1,s=o+1,r=this.inputs.length;if(-1!==o){if(t.each(this.pickers,function(t,e){e.getUTCDate()||e.setUTCDate(a)}),a<this.dates[n])for(;n>=0&&a<this.dates[n];)this.pickers[n--].setUTCDate(a);else if(a>this.dates[s])for(;r>s&&a>this.dates[s];)this.pickers[s++].setUTCDate(a);this.updateDates(),delete this.updating}}}},remove:function(){t.map(this.pickers,function(t){t.remove()}),delete this.element.data().datepicker}};var p=t.fn.datepicker,u=function(i){var a=Array.apply(null,arguments);a.shift();var o;if(this.each(function(){var e=t(this),n=e.data("datepicker"),s="object"==typeof i&&i;if(!n){var d=r(this,"date"),p=t.extend({},f,d,s),u=l(p.language),m=t.extend({},f,u,d,s);if(e.hasClass("input-daterange")||m.inputs){var g={inputs:m.inputs||e.find("input").toArray()};e.data("datepicker",n=new c(this,t.extend(m,g)))}else e.data("datepicker",n=new h(this,m))}"string"==typeof i&&"function"==typeof n[i]&&(o=n[i].apply(n,a))}),o===e||o instanceof h||o instanceof c)return this;if(this.length>1)throw new Error("Using only allowed for the collection of a single element ("+i+" function)");return o};t.fn.datepicker=u;var f=t.fn.datepicker.defaults={autoclose:!1,beforeShowDay:t.noop,beforeShowMonth:t.noop,beforeShowYear:t.noop,calendarWeeks:!1,clearBtn:!1,toggleActive:!1,daysOfWeekDisabled:[],daysOfWeekHighlighted:[],datesDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,maxViewMode:2,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-1/0,startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0,disableTouchKeyboard:!1,enableOnReadonly:!0,container:"body",immediateUpdates:!1,title:""},m=t.fn.datepicker.locale_opts=["format","rtl","weekStart"];t.fn.datepicker.Constructor=h;var g=t.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",titleFormat:"MM yyyy"}},v={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(t){return t%4==0&&t%100!=0||t%400==0},getDaysInMonth:function(t,e){return[31,v.isLeapYear(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(t){if("function"==typeof t.toValue&&"function"==typeof t.toDisplay)return t;var e=t.replace(this.validParts,"\0").split("\0"),i=t.match(this.validParts);if(!e||!e.length||!i||0===i.length)throw new Error("Invalid date format.");return{separators:e,parts:i}},parseDate:function(a,o,n){function s(){var t=this.slice(0,p[d].length),e=p[d].slice(0,t.length);return t.toLowerCase()===e.toLowerCase()}if(!a)return e;if(a instanceof Date)return a;if("string"==typeof o&&(o=v.parseFormat(o)),o.toValue)return o.toValue(a,o,n);var r,l,d,c=/([\-+]\d+)([dmwy])/,p=a.match(/([\-+]\d+)([dmwy])/g);if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(a)){for(a=new Date,d=0;d<p.length;d++)switch(r=c.exec(p[d]),l=parseInt(r[1]),r[2]){case"d":a.setUTCDate(a.getUTCDate()+l);break;case"m":a=h.prototype.moveMonth.call(h.prototype,a,l);break;case"w":a.setUTCDate(a.getUTCDate()+7*l);break;case"y":a=h.prototype.moveYear.call(h.prototype,a,l)}return i(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate(),0,0,0)}p=a&&a.match(this.nonpunctuation)||[],a=new Date;var u,f,m={},y=["yyyy","yy","M","MM","m","mm","d","dd"],_={yyyy:function(t,e){return t.setUTCFullYear(e)},yy:function(t,e){return t.setUTCFullYear(2e3+e)},m:function(t,e){if(isNaN(t))return t;for(e-=1;0>e;)e+=12;for(e%=12,t.setUTCMonth(e);t.getUTCMonth()!==e;)t.setUTCDate(t.getUTCDate()-1);return t},d:function(t,e){return t.setUTCDate(e)}};_.M=_.MM=_.mm=_.m,_.dd=_.d,a=i(a.getFullYear(),a.getMonth(),a.getDate(),0,0,0);var b=o.parts.slice();if(p.length!==b.length&&(b=t(b).filter(function(e,i){return-1!==t.inArray(i,y)}).toArray()),p.length===b.length){var M;for(d=0,M=b.length;M>d;d++){if(u=parseInt(p[d],10),r=b[d],isNaN(u))switch(r){case"MM":f=t(g[n].months).filter(s),u=t.inArray(f[0],g[n].months)+1;break;case"M":f=t(g[n].monthsShort).filter(s),u=t.inArray(f[0],g[n].monthsShort)+1}m[r]=u}var x,w;for(d=0;d<y.length;d++)(w=y[d])in m&&!isNaN(m[w])&&(x=new Date(a),_[w](x,m[w]),isNaN(x)||(a=x))}return a},formatDate:function(e,i,a){if(!e)return"";if("string"==typeof i&&(i=v.parseFormat(i)),i.toDisplay)return i.toDisplay(e,i,a);var o={d:e.getUTCDate(),D:g[a].daysShort[e.getUTCDay()],DD:g[a].days[e.getUTCDay()],m:e.getUTCMonth()+1,M:g[a].monthsShort[e.getUTCMonth()],MM:g[a].months[e.getUTCMonth()],yy:e.getUTCFullYear().toString().substring(2),yyyy:e.getUTCFullYear()};o.dd=(o.d<10?"0":"")+o.d,o.mm=(o.m<10?"0":"")+o.m,e=[];for(var n=t.extend([],i.separators),s=0,r=i.parts.length;r>=s;s++)n.length&&e.push(n.shift()),e.push(o[i.parts[s]]);return e.join("")},headTemplate:'<thead><tr><th colspan="7" class="datepicker-title"></th></tr><tr><th class="prev">&#171;</th><th colspan="5" class="datepicker-switch"></th><th class="next">&#187;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};v.template='<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">'+v.headTemplate+"<tbody></tbody>"+v.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+v.headTemplate+v.contTemplate+v.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+v.headTemplate+v.contTemplate+v.footTemplate+"</table></div></div>",t.fn.datepicker.DPGlobal=v,t.fn.datepicker.noConflict=function(){return t.fn.datepicker=p,this},t.fn.datepicker.version="1.5.0",t(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(e){var i=t(this);i.data("datepicker")||(e.preventDefault(),u.call(i,"show"))}),t(function(){u.call(t('[data-provide="datepicker-inline"]'))})})},118:function(t,e,i){"use strict";var a,o,n,s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},r="object"===("undefined"==typeof window?"undefined":s(window));!function(s){o=[i(44)],a=s,void 0!==(n="function"==typeof a?a.apply(e,o):a)&&(t.exports=n)}(function(t){r&&!window.console&&(window.console={}),r&&!window.console.log&&(window.console.log=function(){}),r&&!window.console.warn&&(window.console.warn=function(){});var e;return function(t){function e(){}var i=Array.prototype.slice;!function(t){function a(e){e.prototype.option||(e.prototype.option=function(e){t.isPlainObject(e)&&(this.options=t.extend(!0,this.options,e))})}function o(e,a){t.fn[e]=function(o){if("string"==typeof o){for(var s=i.call(arguments,1),r=0,l=this.length;r<l;r++){var d=this[r],h=t.data(d,e);if(h)if(t.isFunction(h[o])&&"_"!==o.charAt(0)){var c=h[o].apply(h,s);if(void 0!==c&&c!==h)return c}else n("no such method '"+o+"' for "+e+" instance");else n("cannot call methods on "+e+" prior to initialization; attempted to call '"+o+"'")}return this}var p=this.map(function(){var i=t.data(this,e);return i?(i.option(o),i._init()):(i=new a(this,o),t.data(this,e,i)),t(this)});return!p||p.length>1?p:p[0]}}if(t){var n="undefined"==typeof console?e:function(t){console.error(t)};t.bridget=function(t,e){a(e),o(t,e)},t.bridget}}(t)}(t),function(t){function i(e,i){this._state={value:null,enabled:null,offset:null,size:null,percentage:null,inDrag:!1,over:!1},this.ticksCallbackMap={},this.handleCallbackMap={},"string"==typeof e?this.element=document.querySelector(e):e instanceof HTMLElement&&(this.element=e),i=i||{};for(var a=Object.keys(this.defaultOptions),n=0;n<a.length;n++){var s=a[n],r=i[s];r=void 0!==r?r:function(t,e){var i="data-slider-"+e.replace(/_/g,"-"),a=t.getAttribute(i);try{return JSON.parse(a)}catch(t){return a}}(this.element,s),r=null!==r?r:this.defaultOptions[s],this.options||(this.options={}),this.options[s]=r}"vertical"!==this.options.orientation||"top"!==this.options.tooltip_position&&"bottom"!==this.options.tooltip_position?"horizontal"!==this.options.orientation||"left"!==this.options.tooltip_position&&"right"!==this.options.tooltip_position||(this.options.tooltip_position="top"):this.options.tooltip_position="right";var l,d,h,c,p,u=this.element.style.width,f=!1,m=this.element.parentNode;if(this.sliderElem)f=!0;else{this.sliderElem=document.createElement("div"),this.sliderElem.className="slider";var g=document.createElement("div");if(g.className="slider-track",d=document.createElement("div"),d.className="slider-track-low",l=document.createElement("div"),l.className="slider-selection",h=document.createElement("div"),h.className="slider-track-high",c=document.createElement("div"),c.className="slider-handle min-slider-handle",c.setAttribute("role","slider"),c.setAttribute("aria-valuemin",this.options.min),c.setAttribute("aria-valuemax",this.options.max),p=document.createElement("div"),p.className="slider-handle max-slider-handle",p.setAttribute("role","slider"),p.setAttribute("aria-valuemin",this.options.min),p.setAttribute("aria-valuemax",this.options.max),g.appendChild(d),g.appendChild(l),g.appendChild(h),this.rangeHighlightElements=[],Array.isArray(this.options.rangeHighlights)&&this.options.rangeHighlights.length>0)for(var v=0;v<this.options.rangeHighlights.length;v++){var y=document.createElement("div");y.className="slider-rangeHighlight slider-selection",this.rangeHighlightElements.push(y),g.appendChild(y)}var _=Array.isArray(this.options.labelledby);if(_&&this.options.labelledby[0]&&c.setAttribute("aria-labelledby",this.options.labelledby[0]),_&&this.options.labelledby[1]&&p.setAttribute("aria-labelledby",this.options.labelledby[1]),!_&&this.options.labelledby&&(c.setAttribute("aria-labelledby",this.options.labelledby),p.setAttribute("aria-labelledby",this.options.labelledby)),this.ticks=[],Array.isArray(this.options.ticks)&&this.options.ticks.length>0){for(this.ticksContainer=document.createElement("div"),this.ticksContainer.className="slider-tick-container",n=0;n<this.options.ticks.length;n++){var b=document.createElement("div");if(b.className="slider-tick",this.options.ticks_tooltip){var M=this._addTickListener(),x=M.addMouseEnter(this,b,n),w=M.addMouseLeave(this,b);this.ticksCallbackMap[n]={mouseEnter:x,mouseLeave:w}}this.ticks.push(b),this.ticksContainer.appendChild(b)}l.className+=" tick-slider-selection"}if(this.tickLabels=[],Array.isArray(this.options.ticks_labels)&&this.options.ticks_labels.length>0)for(this.tickLabelContainer=document.createElement("div"),this.tickLabelContainer.className="slider-tick-label-container",n=0;n<this.options.ticks_labels.length;n++){var k=document.createElement("div"),O=0===this.options.ticks_positions.length,C=this.options.reversed&&O?this.options.ticks_labels.length-(n+1):n;k.className="slider-tick-label",k.innerHTML=this.options.ticks_labels[C],this.tickLabels.push(k),this.tickLabelContainer.appendChild(k)}var E=function(t){var e=document.createElement("div");e.className="tooltip-arrow";var i=document.createElement("div");i.className="tooltip-inner",t.appendChild(e),t.appendChild(i)},D=document.createElement("div");D.className="tooltip tooltip-main",D.setAttribute("role","presentation"),E(D);var T=document.createElement("div");T.className="tooltip tooltip-min",T.setAttribute("role","presentation"),E(T);var A=document.createElement("div");A.className="tooltip tooltip-max",A.setAttribute("role","presentation"),E(A),this.sliderElem.appendChild(g),this.sliderElem.appendChild(D),this.sliderElem.appendChild(T),this.sliderElem.appendChild(A),this.tickLabelContainer&&this.sliderElem.appendChild(this.tickLabelContainer),this.ticksContainer&&this.sliderElem.appendChild(this.ticksContainer),this.sliderElem.appendChild(c),this.sliderElem.appendChild(p),m.insertBefore(this.sliderElem,this.element),this.element.style.display="none"}if(t&&(this.$element=t(this.element),this.$sliderElem=t(this.sliderElem)),this.eventToCallbackMap={},this.sliderElem.id=this.options.id,this.touchCapable="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,this.touchX=0,this.touchY=0,this.tooltip=this.sliderElem.querySelector(".tooltip-main"),this.tooltipInner=this.tooltip.querySelector(".tooltip-inner"),this.tooltip_min=this.sliderElem.querySelector(".tooltip-min"),this.tooltipInner_min=this.tooltip_min.querySelector(".tooltip-inner"),this.tooltip_max=this.sliderElem.querySelector(".tooltip-max"),this.tooltipInner_max=this.tooltip_max.querySelector(".tooltip-inner"),o[this.options.scale]&&(this.options.scale=o[this.options.scale]),!0===f&&(this._removeClass(this.sliderElem,"slider-horizontal"),this._removeClass(this.sliderElem,"slider-vertical"),this._removeClass(this.tooltip,"hide"),this._removeClass(this.tooltip_min,"hide"),this._removeClass(this.tooltip_max,"hide"),["left","top","width","height"].forEach(function(t){this._removeProperty(this.trackLow,t),this._removeProperty(this.trackSelection,t),this._removeProperty(this.trackHigh,t)},this),[this.handle1,this.handle2].forEach(function(t){this._removeProperty(t,"left"),this._removeProperty(t,"top")},this),[this.tooltip,this.tooltip_min,this.tooltip_max].forEach(function(t){this._removeProperty(t,"left"),this._removeProperty(t,"top"),this._removeProperty(t,"margin-left"),this._removeProperty(t,"margin-top"),this._removeClass(t,"right"),this._removeClass(t,"top")},this)),"vertical"===this.options.orientation?(this._addClass(this.sliderElem,"slider-vertical"),this.stylePos="top",this.mousePos="pageY",this.sizePos="offsetHeight"):(this._addClass(this.sliderElem,"slider-horizontal"),this.sliderElem.style.width=u,this.options.orientation="horizontal",this.stylePos="left",this.mousePos="pageX",this.sizePos="offsetWidth"),this._setTooltipPosition(),Array.isArray(this.options.ticks)&&this.options.ticks.length>0&&(this.options.max=Math.max.apply(Math,this.options.ticks),this.options.min=Math.min.apply(Math,this.options.ticks)),Array.isArray(this.options.value)?(this.options.range=!0,this._state.value=this.options.value):this.options.range?this._state.value=[this.options.value,this.options.max]:this._state.value=this.options.value,this.trackLow=d||this.trackLow,this.trackSelection=l||this.trackSelection,this.trackHigh=h||this.trackHigh,"none"===this.options.selection&&(this._addClass(this.trackLow,"hide"),this._addClass(this.trackSelection,"hide"),this._addClass(this.trackHigh,"hide")),this.handle1=c||this.handle1,this.handle2=p||this.handle2,!0===f)for(this._removeClass(this.handle1,"round triangle"),this._removeClass(this.handle2,"round triangle hide"),n=0;n<this.ticks.length;n++)this._removeClass(this.ticks[n],"round triangle hide");if(-1!==["round","triangle","custom"].indexOf(this.options.handle))for(this._addClass(this.handle1,this.options.handle),this._addClass(this.handle2,this.options.handle),n=0;n<this.ticks.length;n++)this._addClass(this.ticks[n],this.options.handle);if(this._state.offset=this._offset(this.sliderElem),this._state.size=this.sliderElem[this.sizePos],this.setValue(this._state.value),this.handle1Keydown=this._keydown.bind(this,0),this.handle1.addEventListener("keydown",this.handle1Keydown,!1),this.handle2Keydown=this._keydown.bind(this,1),this.handle2.addEventListener("keydown",this.handle2Keydown,!1),this.mousedown=this._mousedown.bind(this),this.touchstart=this._touchstart.bind(this),this.touchmove=this._touchmove.bind(this),this.touchCapable&&(this.sliderElem.addEventListener("touchstart",this.touchstart,!1),this.sliderElem.addEventListener("touchmove",this.touchmove,!1)),this.sliderElem.addEventListener("mousedown",this.mousedown,!1),this.resize=this._resize.bind(this),window.addEventListener("resize",this.resize,!1),"hide"===this.options.tooltip)this._addClass(this.tooltip,"hide"),this._addClass(this.tooltip_min,"hide"),this._addClass(this.tooltip_max,"hide");else if("always"===this.options.tooltip)this._showTooltip(),this._alwaysShowTooltip=!0;else{if(this.showTooltip=this._showTooltip.bind(this),this.hideTooltip=this._hideTooltip.bind(this),this.options.ticks_tooltip){var P=this._addTickListener(),S=P.addMouseEnter(this,this.handle1),L=P.addMouseLeave(this,this.handle1);this.handleCallbackMap.handle1={mouseEnter:S,mouseLeave:L},S=P.addMouseEnter(this,this.handle2),L=P.addMouseLeave(this,this.handle2),this.handleCallbackMap.handle2={mouseEnter:S,mouseLeave:L}}else this.sliderElem.addEventListener("mouseenter",this.showTooltip,!1),this.sliderElem.addEventListener("mouseleave",this.hideTooltip,!1);this.handle1.addEventListener("focus",this.showTooltip,!1),this.handle1.addEventListener("blur",this.hideTooltip,!1),this.handle2.addEventListener("focus",this.showTooltip,!1),this.handle2.addEventListener("blur",this.hideTooltip,!1)}this.options.enabled?this.enable():this.disable()}var a={formatInvalidInputErrorMsg:function(t){return"Invalid input value '"+t+"' passed in"},callingContextNotSliderInstance:"Calling context element does not have instance of Slider bound to it. Check your code to make sure the JQuery object returned from the call to the slider() initializer is calling the method"},o={linear:{toValue:function(t){var e=t/100*(this.options.max-this.options.min),i=!0;if(this.options.ticks_positions.length>0){for(var a,o,n,s=0,r=1;r<this.options.ticks_positions.length;r++)if(t<=this.options.ticks_positions[r]){a=this.options.ticks[r-1],n=this.options.ticks_positions[r-1],o=this.options.ticks[r],s=this.options.ticks_positions[r];break}e=a+(t-n)/(s-n)*(o-a),i=!1}var l=i?this.options.min:0,d=l+Math.round(e/this.options.step)*this.options.step;return d<this.options.min?this.options.min:d>this.options.max?this.options.max:d},toPercentage:function(t){if(this.options.max===this.options.min)return 0;if(this.options.ticks_positions.length>0){for(var e,i,a,o=0,n=0;n<this.options.ticks.length;n++)if(t<=this.options.ticks[n]){e=n>0?this.options.ticks[n-1]:0,a=n>0?this.options.ticks_positions[n-1]:0,i=this.options.ticks[n],o=this.options.ticks_positions[n];break}if(n>0){return a+(t-e)/(i-e)*(o-a)}}return 100*(t-this.options.min)/(this.options.max-this.options.min)}},logarithmic:{toValue:function(t){var e=0===this.options.min?0:Math.log(this.options.min),i=Math.log(this.options.max),a=Math.exp(e+(i-e)*t/100);return a=this.options.min+Math.round((a-this.options.min)/this.options.step)*this.options.step,a<this.options.min?this.options.min:a>this.options.max?this.options.max:a},toPercentage:function(t){if(this.options.max===this.options.min)return 0;var e=Math.log(this.options.max),i=0===this.options.min?0:Math.log(this.options.min);return 100*((0===t?0:Math.log(t))-i)/(e-i)}}};e=function(t,e){return i.call(this,t,e),this},e.prototype={_init:function(){},constructor:e,defaultOptions:{id:"",min:0,max:10,step:1,precision:0,orientation:"horizontal",value:5,range:!1,selection:"before",tooltip:"show",tooltip_split:!1,handle:"round",reversed:!1,enabled:!0,formatter:function(t){return Array.isArray(t)?t[0]+" : "+t[1]:t},natural_arrow_keys:!1,ticks:[],ticks_positions:[],ticks_labels:[],ticks_snap_bounds:0,ticks_tooltip:!1,scale:"linear",focus:!1,tooltip_position:null,labelledby:null,rangeHighlights:[]},getElement:function(){return this.sliderElem},getValue:function(){return this.options.range?this._state.value:this._state.value[0]},setValue:function(t,e,i){t||(t=0);var a=this.getValue();this._state.value=this._validateInputValue(t);var o=this._applyPrecision.bind(this);this.options.range?(this._state.value[0]=o(this._state.value[0]),this._state.value[1]=o(this._state.value[1]),this._state.value[0]=Math.max(this.options.min,Math.min(this.options.max,this._state.value[0])),this._state.value[1]=Math.max(this.options.min,Math.min(this.options.max,this._state.value[1]))):(this._state.value=o(this._state.value),this._state.value=[Math.max(this.options.min,Math.min(this.options.max,this._state.value))],this._addClass(this.handle2,"hide"),"after"===this.options.selection?this._state.value[1]=this.options.max:this._state.value[1]=this.options.min),this.options.max>this.options.min?this._state.percentage=[this._toPercentage(this._state.value[0]),this._toPercentage(this._state.value[1]),100*this.options.step/(this.options.max-this.options.min)]:this._state.percentage=[0,0,100],this._layout();var n=this.options.range?this._state.value:this._state.value[0];return this._setDataVal(n),!0===e&&this._trigger("slide",n),a!==n&&!0===i&&this._trigger("change",{oldValue:a,newValue:n}),this},destroy:function(){this._removeSliderEventHandlers(),this.sliderElem.parentNode.removeChild(this.sliderElem),this.element.style.display="",this._cleanUpEventCallbacksMap(),this.element.removeAttribute("data"),t&&(this._unbindJQueryEventHandlers(),this.$element.removeData("slider"))},disable:function(){return this._state.enabled=!1,this.handle1.removeAttribute("tabindex"),this.handle2.removeAttribute("tabindex"),this._addClass(this.sliderElem,"slider-disabled"),this._trigger("slideDisabled"),this},enable:function(){return this._state.enabled=!0,this.handle1.setAttribute("tabindex",0),this.handle2.setAttribute("tabindex",0),this._removeClass(this.sliderElem,"slider-disabled"),this._trigger("slideEnabled"),this},toggle:function(){return this._state.enabled?this.disable():this.enable(),this},isEnabled:function(){return this._state.enabled},on:function(t,e){return this._bindNonQueryEventHandler(t,e),this},off:function(e,i){t?(this.$element.off(e,i),this.$sliderElem.off(e,i)):this._unbindNonQueryEventHandler(e,i)},getAttribute:function(t){return t?this.options[t]:this.options},setAttribute:function(t,e){return this.options[t]=e,this},refresh:function(){return this._removeSliderEventHandlers(),i.call(this,this.element,this.options),t&&t.data(this.element,"slider",this),this},relayout:function(){return this._resize(),this._layout(),this},_removeSliderEventHandlers:function(){if(this.handle1.removeEventListener("keydown",this.handle1Keydown,!1),this.handle2.removeEventListener("keydown",this.handle2Keydown,!1),this.options.ticks_tooltip){for(var t=this.ticksContainer.getElementsByClassName("slider-tick"),e=0;e<t.length;e++)t[e].removeEventListener("mouseenter",this.ticksCallbackMap[e].mouseEnter,!1),t[e].removeEventListener("mouseleave",this.ticksCallbackMap[e].mouseLeave,!1);this.handle1.removeEventListener("mouseenter",this.handleCallbackMap.handle1.mouseEnter,!1),this.handle2.removeEventListener("mouseenter",this.handleCallbackMap.handle2.mouseEnter,!1),this.handle1.removeEventListener("mouseleave",this.handleCallbackMap.handle1.mouseLeave,!1),this.handle2.removeEventListener("mouseleave",this.handleCallbackMap.handle2.mouseLeave,!1)}this.handleCallbackMap=null,this.ticksCallbackMap=null,this.showTooltip&&(this.handle1.removeEventListener("focus",this.showTooltip,!1),this.handle2.removeEventListener("focus",this.showTooltip,!1)),this.hideTooltip&&(this.handle1.removeEventListener("blur",this.hideTooltip,!1),this.handle2.removeEventListener("blur",this.hideTooltip,!1)),this.showTooltip&&this.sliderElem.removeEventListener("mouseenter",this.showTooltip,!1),this.hideTooltip&&this.sliderElem.removeEventListener("mouseleave",this.hideTooltip,!1),this.sliderElem.removeEventListener("touchstart",this.touchstart,!1),this.sliderElem.removeEventListener("touchmove",this.touchmove,!1),this.sliderElem.removeEventListener("mousedown",this.mousedown,!1),window.removeEventListener("resize",this.resize,!1)},_bindNonQueryEventHandler:function(t,e){void 0===this.eventToCallbackMap[t]&&(this.eventToCallbackMap[t]=[]),this.eventToCallbackMap[t].push(e)},_unbindNonQueryEventHandler:function(t,e){var i=this.eventToCallbackMap[t];if(void 0!==i)for(var a=0;a<i.length;a++)if(i[a]===e){i.splice(a,1);break}},_cleanUpEventCallbacksMap:function(){for(var t=Object.keys(this.eventToCallbackMap),e=0;e<t.length;e++){var i=t[e];delete this.eventToCallbackMap[i]}},_showTooltip:function(){!1===this.options.tooltip_split?(this._addClass(this.tooltip,"in"),this.tooltip_min.style.display="none",this.tooltip_max.style.display="none"):(this._addClass(this.tooltip_min,"in"),this._addClass(this.tooltip_max,"in"),this.tooltip.style.display="none"),this._state.over=!0},_hideTooltip:function(){!1===this._state.inDrag&&!0!==this.alwaysShowTooltip&&(this._removeClass(this.tooltip,"in"),this._removeClass(this.tooltip_min,"in"),this._removeClass(this.tooltip_max,"in")),this._state.over=!1},_setToolTipOnMouseOver:function(t){function e(t,e){return e?[100-t.percentage[0],this.options.range?100-t.percentage[1]:t.percentage[1]]:[t.percentage[0],t.percentage[1]]}var i=this.options.formatter(t?t.value[0]:this._state.value[0]),a=t?e(t,this.options.reversed):e(this._state,this.options.reversed);this._setHtml(this.tooltipInner,i),this.tooltip.style[this.stylePos]=a[0]+"%","vertical"===this.options.orientation?this._css(this.tooltip,"margin-top",-this.tooltip.offsetHeight/2+"px"):this._css(this.tooltip,"margin-left",-this.tooltip.offsetWidth/2+"px")},_addTickListener:function(){return{addMouseEnter:function(t,e,i){var a=function(){var e=t._state,a=i>=0?i:this.attributes["aria-valuenow"].value,o=parseInt(a,10);e.value[0]=o,e.percentage[0]=t.options.ticks_positions[o],t._setToolTipOnMouseOver(e),t._showTooltip()};return e.addEventListener("mouseenter",a,!1),a},addMouseLeave:function(t,e){var i=function(){t._hideTooltip()};return e.addEventListener("mouseleave",i,!1),i}}},_layout:function(){var t;if(t=this.options.reversed?[100-this._state.percentage[0],this.options.range?100-this._state.percentage[1]:this._state.percentage[1]]:[this._state.percentage[0],this._state.percentage[1]],this.handle1.style[this.stylePos]=t[0]+"%",this.handle1.setAttribute("aria-valuenow",this._state.value[0]),this.handle2.style[this.stylePos]=t[1]+"%",this.handle2.setAttribute("aria-valuenow",this._state.value[1]),this.rangeHighlightElements.length>0&&Array.isArray(this.options.rangeHighlights)&&this.options.rangeHighlights.length>0)for(var e=0;e<this.options.rangeHighlights.length;e++){var i=this._toPercentage(this.options.rangeHighlights[e].start),a=this._toPercentage(this.options.rangeHighlights[e].end);if(this.options.reversed){var o=100-a;a=100-i,i=o}var n=this._createHighlightRange(i,a);n?"vertical"===this.options.orientation?(this.rangeHighlightElements[e].style.top=n.start+"%",this.rangeHighlightElements[e].style.height=n.size+"%"):(this.rangeHighlightElements[e].style.left=n.start+"%",this.rangeHighlightElements[e].style.width=n.size+"%"):this.rangeHighlightElements[e].style.display="none"}if(Array.isArray(this.options.ticks)&&this.options.ticks.length>0){var s="vertical"===this.options.orientation?"height":"width",r="vertical"===this.options.orientation?"marginTop":"marginLeft",l=this._state.size/(this.options.ticks.length-1);if(this.tickLabelContainer){var d=0;if(0===this.options.ticks_positions.length)"vertical"!==this.options.orientation&&(this.tickLabelContainer.style[r]=-l/2+"px"),d=this.tickLabelContainer.offsetHeight;else for(h=0;h<this.tickLabelContainer.childNodes.length;h++)this.tickLabelContainer.childNodes[h].offsetHeight>d&&(d=this.tickLabelContainer.childNodes[h].offsetHeight);"horizontal"===this.options.orientation&&(this.sliderElem.style.marginBottom=d+"px")}for(var h=0;h<this.options.ticks.length;h++){var c=this.options.ticks_positions[h]||this._toPercentage(this.options.ticks[h]);this.options.reversed&&(c=100-c),this.ticks[h].style[this.stylePos]=c+"%",this._removeClass(this.ticks[h],"in-selection"),this.options.range?c>=t[0]&&c<=t[1]&&this._addClass(this.ticks[h],"in-selection"):"after"===this.options.selection&&c>=t[0]?this._addClass(this.ticks[h],"in-selection"):"before"===this.options.selection&&c<=t[0]&&this._addClass(this.ticks[h],"in-selection"),this.tickLabels[h]&&(this.tickLabels[h].style[s]=l+"px","vertical"!==this.options.orientation&&void 0!==this.options.ticks_positions[h]?(this.tickLabels[h].style.position="absolute",this.tickLabels[h].style[this.stylePos]=c+"%",this.tickLabels[h].style[r]=-l/2+"px"):"vertical"===this.options.orientation&&(this.tickLabels[h].style.marginLeft=this.sliderElem.offsetWidth+"px",this.tickLabelContainer.style.marginTop=this.sliderElem.offsetWidth/2*-1+"px"))}}var p;if(this.options.range){p=this.options.formatter(this._state.value),this._setHtml(this.tooltipInner,p),this.tooltip.style[this.stylePos]=(t[1]+t[0])/2+"%","vertical"===this.options.orientation?this._css(this.tooltip,"margin-top",-this.tooltip.offsetHeight/2+"px"):this._css(this.tooltip,"margin-left",-this.tooltip.offsetWidth/2+"px"),"vertical"===this.options.orientation?this._css(this.tooltip,"margin-top",-this.tooltip.offsetHeight/2+"px"):this._css(this.tooltip,"margin-left",-this.tooltip.offsetWidth/2+"px");var u=this.options.formatter(this._state.value[0]);this._setHtml(this.tooltipInner_min,u);var f=this.options.formatter(this._state.value[1]);this._setHtml(this.tooltipInner_max,f),this.tooltip_min.style[this.stylePos]=t[0]+"%","vertical"===this.options.orientation?this._css(this.tooltip_min,"margin-top",-this.tooltip_min.offsetHeight/2+"px"):this._css(this.tooltip_min,"margin-left",-this.tooltip_min.offsetWidth/2+"px"),this.tooltip_max.style[this.stylePos]=t[1]+"%","vertical"===this.options.orientation?this._css(this.tooltip_max,"margin-top",-this.tooltip_max.offsetHeight/2+"px"):this._css(this.tooltip_max,"margin-left",-this.tooltip_max.offsetWidth/2+"px")}else p=this.options.formatter(this._state.value[0]),this._setHtml(this.tooltipInner,p),this.tooltip.style[this.stylePos]=t[0]+"%","vertical"===this.options.orientation?this._css(this.tooltip,"margin-top",-this.tooltip.offsetHeight/2+"px"):this._css(this.tooltip,"margin-left",-this.tooltip.offsetWidth/2+"px");if("vertical"===this.options.orientation)this.trackLow.style.top="0",this.trackLow.style.height=Math.min(t[0],t[1])+"%",this.trackSelection.style.top=Math.min(t[0],t[1])+"%",this.trackSelection.style.height=Math.abs(t[0]-t[1])+"%",this.trackHigh.style.bottom="0",this.trackHigh.style.height=100-Math.min(t[0],t[1])-Math.abs(t[0]-t[1])+"%";else{this.trackLow.style.left="0",this.trackLow.style.width=Math.min(t[0],t[1])+"%",this.trackSelection.style.left=Math.min(t[0],t[1])+"%",this.trackSelection.style.width=Math.abs(t[0]-t[1])+"%",this.trackHigh.style.right="0",this.trackHigh.style.width=100-Math.min(t[0],t[1])-Math.abs(t[0]-t[1])+"%";var m=this.tooltip_min.getBoundingClientRect(),g=this.tooltip_max.getBoundingClientRect();"bottom"===this.options.tooltip_position?m.right>g.left?(this._removeClass(this.tooltip_max,"bottom"),this._addClass(this.tooltip_max,"top"),this.tooltip_max.style.top="",this.tooltip_max.style.bottom="22px"):(this._removeClass(this.tooltip_max,"top"),this._addClass(this.tooltip_max,"bottom"),this.tooltip_max.style.top=this.tooltip_min.style.top,this.tooltip_max.style.bottom=""):m.right>g.left?(this._removeClass(this.tooltip_max,"top"),this._addClass(this.tooltip_max,"bottom"),this.tooltip_max.style.top="18px"):(this._removeClass(this.tooltip_max,"bottom"),this._addClass(this.tooltip_max,"top"),this.tooltip_max.style.top=this.tooltip_min.style.top)}},_createHighlightRange:function(t,e){return this._isHighlightRange(t,e)?t>e?{start:e,size:t-e}:{start:t,size:e-t}:null},_isHighlightRange:function(t,e){return 0<=t&&t<=100&&0<=e&&e<=100},_resize:function(t){this._state.offset=this._offset(this.sliderElem),this._state.size=this.sliderElem[this.sizePos],this._layout()},_removeProperty:function(t,e){t.style.removeProperty?t.style.removeProperty(e):t.style.removeAttribute(e)},_mousedown:function(t){if(!this._state.enabled)return!1;this._state.offset=this._offset(this.sliderElem),this._state.size=this.sliderElem[this.sizePos];var e=this._getPercentage(t);if(this.options.range){var i=Math.abs(this._state.percentage[0]-e),a=Math.abs(this._state.percentage[1]-e);this._state.dragged=i<a?0:1,this._adjustPercentageForRangeSliders(e)}else this._state.dragged=0;this._state.percentage[this._state.dragged]=e,this._layout(),this.touchCapable&&(document.removeEventListener("touchmove",this.mousemove,!1),document.removeEventListener("touchend",this.mouseup,!1)),this.mousemove&&document.removeEventListener("mousemove",this.mousemove,!1),this.mouseup&&document.removeEventListener("mouseup",this.mouseup,!1),this.mousemove=this._mousemove.bind(this),this.mouseup=this._mouseup.bind(this),this.touchCapable&&(document.addEventListener("touchmove",this.mousemove,!1),document.addEventListener("touchend",this.mouseup,!1)),document.addEventListener("mousemove",this.mousemove,!1),document.addEventListener("mouseup",this.mouseup,!1),this._state.inDrag=!0;var o=this._calculateValue();return this._trigger("slideStart",o),this._setDataVal(o),this.setValue(o,!1,!0),this._pauseEvent(t),this.options.focus&&this._triggerFocusOnHandle(this._state.dragged),!0},_touchstart:function(t){if(void 0===t.changedTouches)return void this._mousedown(t);var e=t.changedTouches[0];this.touchX=e.pageX,this.touchY=e.pageY},_triggerFocusOnHandle:function(t){0===t&&this.handle1.focus(),1===t&&this.handle2.focus()},_keydown:function(t,e){if(!this._state.enabled)return!1;var i;switch(e.keyCode){case 37:case 40:i=-1;break;case 39:case 38:i=1}if(i){if(this.options.natural_arrow_keys){var a="vertical"===this.options.orientation&&!this.options.reversed,o="horizontal"===this.options.orientation&&this.options.reversed;(a||o)&&(i=-i)}var n=this._state.value[t]+i*this.options.step;return this.options.range&&(n=[t?this._state.value[0]:n,t?n:this._state.value[1]]),this._trigger("slideStart",n),this._setDataVal(n),this.setValue(n,!0,!0),this._setDataVal(n),this._trigger("slideStop",n),this._layout(),this._pauseEvent(e),!1}},_pauseEvent:function(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),t.cancelBubble=!0,t.returnValue=!1},_mousemove:function(t){if(!this._state.enabled)return!1;var e=this._getPercentage(t);this._adjustPercentageForRangeSliders(e),this._state.percentage[this._state.dragged]=e,this._layout();var i=this._calculateValue(!0);return this.setValue(i,!0,!0),!1},_touchmove:function(t){if(void 0!==t.changedTouches){var e=t.changedTouches[0],i=e.pageX-this.touchX,a=e.pageY-this.touchY;this._state.inDrag||("vertical"===this.options.orientation&&i<=5&&i>=-5&&(a>=15||a<=-15)?this._mousedown(t):a<=5&&a>=-5&&(i>=15||i<=-15)&&this._mousedown(t))}},_adjustPercentageForRangeSliders:function(t){if(this.options.range){var e=this._getNumDigitsAfterDecimalPlace(t);e=e?e-1:0;var i=this._applyToFixedAndParseFloat(t,e);0===this._state.dragged&&this._applyToFixedAndParseFloat(this._state.percentage[1],e)<i?(this._state.percentage[0]=this._state.percentage[1],this._state.dragged=1):1===this._state.dragged&&this._applyToFixedAndParseFloat(this._state.percentage[0],e)>i&&(this._state.percentage[1]=this._state.percentage[0],this._state.dragged=0)}},_mouseup:function(){if(!this._state.enabled)return!1;this.touchCapable&&(document.removeEventListener("touchmove",this.mousemove,!1),document.removeEventListener("touchend",this.mouseup,!1)),document.removeEventListener("mousemove",this.mousemove,!1),document.removeEventListener("mouseup",this.mouseup,!1),this._state.inDrag=!1,!1===this._state.over&&this._hideTooltip();var t=this._calculateValue(!0);return this._layout(),this._setDataVal(t),this._trigger("slideStop",t),!1},_calculateValue:function(t){var e;if(this.options.range?(e=[this.options.min,this.options.max],0!==this._state.percentage[0]&&(e[0]=this._toValue(this._state.percentage[0]),e[0]=this._applyPrecision(e[0])),100!==this._state.percentage[1]&&(e[1]=this._toValue(this._state.percentage[1]),e[1]=this._applyPrecision(e[1]))):(e=this._toValue(this._state.percentage[0]),e=parseFloat(e),e=this._applyPrecision(e)),t){for(var i=[e,1/0],a=0;a<this.options.ticks.length;a++){var o=Math.abs(this.options.ticks[a]-e);o<=i[1]&&(i=[this.options.ticks[a],o])}if(i[1]<=this.options.ticks_snap_bounds)return i[0]}return e},_applyPrecision:function(t){var e=this.options.precision||this._getNumDigitsAfterDecimalPlace(this.options.step);return this._applyToFixedAndParseFloat(t,e)},_getNumDigitsAfterDecimalPlace:function(t){var e=(""+t).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return e?Math.max(0,(e[1]?e[1].length:0)-(e[2]?+e[2]:0)):0},_applyToFixedAndParseFloat:function(t,e){var i=t.toFixed(e);return parseFloat(i)},_getPercentage:function(t){!this.touchCapable||"touchstart"!==t.type&&"touchmove"!==t.type||(t=t.touches[0]);var e=t[this.mousePos],i=this._state.offset[this.stylePos],a=e-i,o=a/this._state.size*100;return o=Math.round(o/this._state.percentage[2])*this._state.percentage[2],this.options.reversed&&(o=100-o),Math.max(0,Math.min(100,o))},_validateInputValue:function(t){if(isNaN(+t)){if(Array.isArray(t))return this._validateArray(t),t;throw new Error(a.formatInvalidInputErrorMsg(t))}return+t},_validateArray:function(t){for(var e=0;e<t.length;e++){var i=t[e];if("number"!=typeof i)throw new Error(a.formatInvalidInputErrorMsg(i))}},_setDataVal:function(t){this.element.setAttribute("data-value",t),this.element.setAttribute("value",t),this.element.value=t},_trigger:function(e,i){i=i||0===i?i:void 0;var a=this.eventToCallbackMap[e];if(a&&a.length)for(var o=0;o<a.length;o++){var n=a[o];n(i)}t&&this._triggerJQueryEvent(e,i)},_triggerJQueryEvent:function(t,e){var i={type:t,value:e};this.$element.trigger(i),this.$sliderElem.trigger(i)},_unbindJQueryEventHandlers:function(){this.$element.off(),this.$sliderElem.off()},_setHtml:function(t,e){void 0!==t.innerHTML?t.innerHTML=e:void 0!==t.innerText&&(t.innerText=e)},_setText:function(t,e){void 0!==t.textContent?t.textContent=e:void 0!==t.innerText&&(t.innerText=e)},_removeClass:function(t,e){for(var i=e.split(" "),a=t.className,o=0;o<i.length;o++){var n=i[o],s=new RegExp("(?:\\s|^)"+n+"(?:\\s|$)");a=a.replace(s," ")}t.className=a.trim()},_addClass:function(t,e){for(var i=e.split(" "),a=t.className,o=0;o<i.length;o++){var n=i[o];new RegExp("(?:\\s|^)"+n+"(?:\\s|$)").test(a)||(a+=" "+n)}t.className=a.trim()},_offsetLeft:function(t){return t.getBoundingClientRect().left},_offsetTop:function(t){for(var e=t.offsetTop;(t=t.offsetParent)&&!isNaN(t.offsetTop);)e+=t.offsetTop,"BODY"!==t.tagName&&(e-=t.scrollTop);return e},_offset:function(t){return{left:this._offsetLeft(t),top:this._offsetTop(t)}},_css:function(e,i,a){if(t)t.style(e,i,a);else{var o=i.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(t,e){return e.toUpperCase()});e.style[o]=a}},_toValue:function(t){return this.options.scale.toValue.apply(this,[t])},_toPercentage:function(t){return this.options.scale.toPercentage.apply(this,[t])},_setTooltipPosition:function(){var t=[this.tooltip,this.tooltip_min,this.tooltip_max];if("vertical"===this.options.orientation){var e=this.options.tooltip_position||"right",i="left"===e?"right":"left";t.forEach(function(t){this._addClass(t,e),t.style[i]="100%"}.bind(this))}else"bottom"===this.options.tooltip_position?t.forEach(function(t){this._addClass(t,"bottom"),t.style.top="22px"}.bind(this)):t.forEach(function(t){this._addClass(t,"top"),t.style.top=-this.tooltip.outerHeight-14+"px"}.bind(this))}},t&&function(){var i=void 0;t.fn.slider?i="bootstrapSlider":(t.bridget("slider",e),i="slider"),t.bridget("bootstrapSlider",e),t(function(){t("input[data-provide=slider]")[i]()})}()}(t),e})},119:function(t,e,i){"use strict";function a(t,e,i){i&&e.client.getAreasByName({areas:JSON.stringify(t)},function(t){var e,a=[];t.list&&(a=t.list),a.length>0&&($.each(a,function(t,e){e.type="search-area"}),e=i.client.createResponse(a),i.areas.createView(a)&&(i.areas.setTypeEnabled("search-area",!0),e&&i.areas.clear("search-area")))})}function o(t){return{area_type:"city",city:t.city,latitude:t.lat,longitude:t.long,postal_code:t.postal_code,state:t.state_code}}function n(t){var e=t.property,i=t._client,a=t._utils,o=t._youAreHere,n=t.finished,s=e.state_code,r=e.postal_code,h=e.city;s&&r?i.getAreaByName(l(s,r,h),function(t){t&&t.list&&d({list:t.list,_utils:a,_youAreHere:o,property:e}),n()}):n()}function s(t,e){null!==e&&t.youAreHere&&e.message&&t.message.show({message:e.message}),t.streetView&&t.streetView.onFailed(function(){t.message.show({message:"Google Street View is not available for this location."})})}function r(t){return{schools:t,tiles:t,amenities:t,overlayControls:t,appType:t,moveADs:t,transit:t,streetView:t}}function l(t,e,i){return{state:t,city:i,name:e,type:"area-zipCode"}}function d(t){var e=t.list,i=t._utils,a=t._youAreHere,o=t.property;if(e){var n,s=[],r=[];if(e.forEach(function(t){t.boundary&&s.push(t.boundary),t.center&&r.push(t.center)}),(n=i.createView(s,r))&&(n.bounds||n.center)){a.view.center=n.bounds?n.bounds.getCenter():n.center,a.message=(o.flags||{}).is_address_suppressed?"This listing is not shown on the map at the data provider's request.":"Google Map View is not available for this location."}}}function h(t){return{state:t.state,city:t.city,postal_code:t.postal_code,name:t.city,type:"area-city"}}e.e=a,e.a=o,e.f=n,e.b=s,e.g=r,i.d(e,"c",function(){return c}),e.d=h,i.d(e,"h",function(){return f});var c={center:{longitude:-98.579416,latitude:39.828328},zoom:4},p={transit:{menu:{checked:"transit"},button:{activate:!0}}},u={};MOVE_DATA.NY_EXP&&(u.default=p);var f={overlayControlsDefaults:u}},141:function(t,e,i){"use strict";function a(){"V1"===MOVE_DATA.ab_hide_lead_msg_text&&($(".open-text-msg-ab").addClass("hide"),$(".click-text-msg").show())}function o(t){"V1"===MOVE_DATA.ab_hide_lead_msg_text&&$(t).find(".click-text-msg").click(function(){$(t).find(".open-text-msg-ab").removeClass("hide"),$(t).find(".click-text-msg").hide()})}function n(t){if("V1"===MOVE_DATA.ab_hide_lead_msg_text){var e=$(t),i=e.find(".click-text-msg"),a=e.find(".open-text-msg-ab");a.addClass("hide"),i.show(),i.click(function(){a.removeClass("hide"),i.hide()})}}e.c=a,e.b=o,e.a=n},142:function(t,e){MOVE.PhotoGallery=function(){var t,e,i,a,o,n,s,r=!0,l=function(a){o=a,r&&(t(),e()),i(),MOVE.DOMHelper.highlightThumbnail(o,n),r=!1};return t=function(){s=$("#cmtPhotoGallery");var t={target:s,currentIndex:o,margin:50,navigationContainer:"#cmtPhotoGalleryNavigation"},e=function(t,e){MOVE.DOMHelper.highlightThumbnail(e,n),MOVE.Photos.loadPhoto(s)};MOVE.Photos.init(t,e)},e=function(){n=$("#photoCarousel","#cmt-fullscreen-gallery"),MOVE.DOMHelper.loadCarouselThumbnails(n),n.on("click",".owl-item",function(){var t=$(this),e=n.data("owl.carousel").relative(t.index());s.trigger("to.owl.carousel",[e,200,!0]),n.find("div.highlight").removeClass("highlight"),t.addClass("highlight"),s.hasClass("hide")&&a()})},$("#viewOriginal").on("click",function(){if(void 0!==s){var t=s.find(".owl-item.active img").attr("src");window.open(t.replace(/xd-(\w+)/,"r"),"_blank")}}),i=function(){s.trigger("to.owl.carousel",[o,200,!0]),s.hasClass("hide")&&a()},a=function(){s.toggleClass("hide")},MOVE.PhotoGallery={init:l},MOVE.PhotoGallery}(MOVE)},1461:function(t,e){MOVE.LDP.AdditionalCommunities=function(t){var e,i,a=$(".listing-cta .additional-community-save"),o=$(".listing-cta .additional-community-unsave"),n=function(){a.on("click",e),o.on("click",i)};return e=function(t){var e=$(this),i=e.parent(),a={property_id:i.data("property-id"),status:i.data("status"),listing_id:i.data("listing-id")},o=function(t){e.hide(),i.find(".additional-community-unsave").show(),i.find(".additional-community-unsave").data("res-id",t.resources.id),e.removeAttr("disabled"),GNAV.MYACCOUNT.getSavedResponse("my_properties")};MOVE.Common.saveListing(t,{listing:a,callBack:o})},i=function(t){t.stopPropagation();var e=this,i=function(){$(e).hide(),$(e).parent().find(".additional-community-save").show(),$(e).data("res-id",null),$(e).removeAttr("disabled"),GNAV.MYACCOUNT.getSavedResponse("my_properties")};return MOVE.Common.deleteListing(t,{id:$(e).data("res-id"),callBack:i}),t.stopPropagation(),!1},t.AdditionalCommunities={init:n},t.AdditionalCommunities}(MOVE.LDP||{})},1462:function(t,e){MOVE.LDP.OptimizationDesktop=function(t){var e=function(){};return t.OptimizationDesktop={init:e},t.OptimizationDesktop}(MOVE.LDP||{})},1463:function(t,e,i){"use strict";var a=i(223);MOVE.LDP.NearbyHomes=function(t){var e,i,o,n=$(".listing-cta .nearby-save"),s=$(".listing-cta .nearby-unsave"),r=function(){o(),MOVE.LDP.Map.init("nearbyLDPMap",!1,!1),n.on("click",e),s.on("click",i)};o=function(){if(!$(".nearby-home-values").hasClass("hide")){MOVE.LDP.Map.init("nearbyHomeValuesMap",!1,!1);var t=$(".js-nearby-widget-tabs"),e=t.find(".js-nearby-home-values");e.hasClass("active")&&(e.removeClass("active"),t.find(".js-nearby-homes-for-sale").addClass("active"),$("#nearby-home-values").removeClass("active"),$("#nearby-homes-for-sale").addClass("active"))}},e=function(t){var e=this,i=$(this).parents(".js-tracking").first(),o={property_id:i.data("propertyid"),status:i.data("status"),listing_id:i.data("listingid")},n=function(t){$(e).hide(),$(e).parent().find(".nearby-unsave").show(),$(e).parent().find(".nearby-unsave").data("res-id",t.resources.id),$(e).removeAttr("disabled");var o=i.data().propertyId,n=i.data().status,s=t.resources.id;o&&n&&a.a.addSavedPin({propId:o,propertyStatus:n,resId:s}),d({propid:o,isSaved:!0}),GNAV.MYACCOUNT.getSavedResponse("my_properties")};MOVE.Common.saveListing(t,{listing:o,callBack:n})},i=function(t){t.stopPropagation();var e=this,i=$(this).parents(".js-tracking").first(),o=function(){$(e).hide(),$(e).parent().find(".nearby-save").show(),$(e).data("res-id",null),$(e).removeAttr("disabled");var t=i.data().propertyid;a.a.removeSavedPin({propId:t}),d({propid:t,isSaved:!1}),GNAV.MYACCOUNT.getSavedResponse("my_properties")};return MOVE.Common.deleteListing(t,{id:$(e).data("res-id"),callBack:o}),t.stopPropagation(),!1};var l={"js-nearby-homes-for-sale":"mapDataForSale","js-nearby-recently-sold":"mapDataRecentlySold","js-nearby-home-values":"mapDataOffMarket","js-nearby-for-rent":"mapDataForRent","js-ldp-recently-sold-around":"mapDataRecentlySoldOptimization"},d=function(t){if(t.propid&&$(".js-nearby-widget-tabs").length&&$(".js-nearby-widget-tabs").children(".active").length){var e=$(".js-nearby-widget-tabs").children(".active").attr("class").replace(" active",""),i=l[e.trim()],a=MOVE_DATA.mapData[i];a&&a.results&&a.results.property&&a.results.property.items&&a.results.property.items[t.propid]&&(a.results.property.items[t.propid].isSaved=t.isSaved)}};return t.NearbyHomes={init:r},t.NearbyHomes}(MOVE.LDP||{})},1464:function(t,e){MOVE.LDP.RightRail=function(t){var e=function(){$(window).width()>=996&&(a(),o())},i=function(){e(),$(window).on("resize orientationchange",e)},a=function(){MOVE.Common.stickyAd($("#ldp-sticky-ad2"),{wrapper:"#ldp-sticky-ad2-container",offsetTop:100})},o=function(){MOVE.Common.stickyAd($("#ldp-sticky-ad3"),{wrapper:"#ldp-sticky-ad3-container",offsetTop:115})};return t.RightRail={init:i},t.RightRail}(MOVE.LDP||{})},1465:function(t,e){MOVE.LDP.RightRailBC=function(t){var e,i,a,o,n,s=$("#stickyLeadForm"),r=$("#stickySidebarWrapper"),l=$("#amenitiesMap"),d=$("#leadform-bc-ads-wrapper"),h=$("#container-ldp"),c=$("#scroll_up_lead"),p=!1,u=$("#ldp-sticky-bar"),f=function(){(d.length||c.length)&&($(window).one("#ldp-sticky-bar",v),MOVE.LDP.LeadForm.init("primary_request_more_details_bc_rr",MOVE.LDP.model.getData()),setTimeout(m,3e3),$(window).on("resize orientationchange",function(){"large"!==MOVE.Helper.detectViewPort()&&"medium"!==MOVE.Helper.detectViewPort()||(v(),g(),m(),setTimeout(function(){$(window).trigger("scroll",["no-bm-loading"])},1e3))}),$(window).scroll(g),l.on("MapVertisingRemoved",function(){g(),m()}),$("#primary .preApproved").click(function(){setTimeout(m,1e3)}))},m=function(){var t=2,e=0==h.height()?3:2;"V1"===MOVE_DATA.full_ldp_modules?(t=0,e=1):"V2"===MOVE_DATA.full_ldp_modules&&(t=1,e=1);var i=r.height(),s=$("#ldp-sticky-actions").height(),l=s>i?h.height():i,d=(l-s-380*t)/e,c=0==h.height()?402:420;$("#ldpStickyAds .ad-space").css({height:d}),a=MOVE.Common.stickyAd($("#ad1"),{wrapper:".ad-wrap-1",offsetTop:c}),o=MOVE.Common.stickyAd($("#ad2"),{wrapper:".ad-wrap-2",offsetTop:c}),n=MOVE.Common.stickyAd($("#ad3"),{wrapper:".ad-wrap-3",offsetTop:c})},g=function(){var t=$("#primary_request_more_details_bc_rr").height(),e=0,i=$("#ad1").height(),a=0==c.length?d.height():c.height();"V1"===MOVE_DATA.full_ldp_modules&&(e=i>=600?520:180,isNaN(t)||(t=$("#primary_request_more_details_bc_rr").height()+e)),p&&($(document).scrollTop()>a-t?s.addClass("sticky-leadform-fade"):s.removeClass("sticky-leadform-fade"))},v=function(){p=!0,MOVE.DOMHelper.unveilLoadImages("img",{},u),e=d.height(),i=$("#primary_request_more_details_bc_rr").height()};return t.RightRailBC={init:f,getAdPosition:m},t.RightRailBC}(MOVE.LDP||{})},1466:function(t,e){MOVE.EditorsPicks=function(t){var e=function(){var e=$("#editors-picks-widget");if(e.length>0){var i={},a=t.Helper.detectViewPort();if(window.gptAds&&window.gptAds.pageName){if(window.gptAds.pageName.match(/\/LDP\//)&&"medium"!==a&&"large"!==a)return;i.ad_unit=window.gptAds.pagePath+"/"+window.gptAds.device,i.is_ldp="ldp"===t.DOMHelper.detectPageType()}$.ajax({url:"/news_and_advice/editors_picks",data:i,dataType:"html",method:"GET",success:function(i){e.html(i),t.DOMHelper.unveilLoadImages("img",{},e)}})}};return t.EditorsPicks={init:e},t.EditorsPicks}(MOVE||{})},161:function(t,e,i){"use strict";var a=i(0),o=(i.n(a),i(303)),n=i(13),s=function(t){var e=document.getElementById("otherPlansCompare"),a=function(){r(t),$(".modal-compare-display").off("click",".js-qv-contact-agent").on("click",".js-qv-contact-agent",function(t){i.i(o.a)(t)}),i.i(n.a)("for_sale:compare_properties","for_sale:"+MOVE_DATA.pageType+":browse_modules_other_floor_plans:compare_properties")};e.addEventListener("click",a)},r=function(t){var e=i.i(a.find)(t,function(t){return t.property_id===MOVE_DATA.adobeDTM.planID}),n=t.filter(function(t){return"Ready to build"===t.prop_status&&MOVE_DATA.adobeDTM.planID!==t.property_id}),s=n.length,r=$("li.indicator div").first().find("span.value").text(),l=[];(MOVE_DATA.community_details&&MOVE_DATA.community_details.features||(MOVE_DATA.propertyDetails||{}).new_community&&(MOVE_DATA.propertyDetails||{}).new_community.features).forEach(function(t){t.text&&t.text.forEach(function(t){l.push(t)})});var d=JST["shared_non_critical/compare-tool/modal"]({currentProperty:e,properties:n,propertyType:r,features:l,comparedPrice:o.b,comparedLot:o.c,getVisiblePropColumn:o.d});$("#modal-container").append(d),$("#compareModal").modal(),i.i(o.e)(s),$("#compareModal").on("shown.bs.modal",function(){var t=document.querySelector(".indicator-gap");t.innerHTML=document.querySelector(".other-properties .indicator-gap").innerHTML,t.style.visibility="hidden",i.i(o.f)()})};e.a=s},1659:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=(i(41),i(234),i(1027)),o=(i.n(a),i(317)),n=(i.n(o),i(220)),s=(i.n(n),i(199)),r=(i.n(s),i(235),i(200)),l=(i.n(r),i(197)),d=(i.n(l),i(198)),h=(i.n(d),i(142)),c=(i.n(h),i(117)),p=(i.n(c),i(118)),u=(i.n(p),i(619)),f=(i.n(u),i(239)),m=(i.n(f),i(115)),g=(i.n(m),i(116),i(285)),v=(i.n(g),i(108)),y=(i.n(v),i(236)),_=(i.n(y),i(90)),b=(i(33),i(195),i(196)),M=(i.n(b),i(1461)),x=(i.n(M),i(1020)),w=(i.n(x),i(1462)),k=(i.n(w),i(1463),i(1464)),O=(i.n(k),i(1465)),C=(i.n(O),i(1466)),E=(i.n(C),i(296)),D=(i.n(E),i(992),i(994)),T=(i.n(D),i(993),i(603),i(995)),A=(i.n(T),i(1003)),P=(i.n(A),i(1e3)),S=(i.n(P),i(999),i(218),i(324),i(1001)),L=(i.n(S),i(1002)),V=(i.n(L),i(289),i(233)),$=(i.n(V),i(290),i(605),i(1004)),I=(i.n($),i(1005)),H=(i.n(I),i(604)),N=(i.n(H),i(1006),i(1007)),z=(i.n(N),i(230),i(231),i(998),i(1008)),F=(i.n(z),i(1009)),R=(i.n(F),i(1017),i(606),i(297)),j=(i.n(R),i(1010)),B=(i.n(j),i(1011)),G=(i.n(B),i(1012)),W=(i.n(G),i(1013),i(1014),i(991),i(1015)),U=(i.n(W),i(1016),i(997)),Y=(i.n(U),i(291),i(607)),q=(i.n(Y),i(608)),X=(i.n(q),i(232)),Z=(i.n(X),i(1018),i(1019),i(996));i.n(Z),i(161);i.i(_.a)("templates/map_card_small"),i.i(_.a)("templates/homes_around_card"),i.i(_.a)("templates/homes_around_card_carousel"),i.i(_.a)("templates/amenity_map_card"),i.i(_.a)("templates/amenity_ads_map_card"),i.i(_.a)("templates/mortgage_rate_header_popover"),i.i(_.a)("templates/mortgage_rate_item"),i.i(_.a)("templates/mortgage_rate_item_variant"),i.i(_.a)("local/templates/communityTile"),i.i(_.a)("local/templates/community_photo_gallery"),i.i(_.a)("local/templates/community_small_photo_gallery"),i.i(_.a)("local/templates/community_widget"),i.i(_.a)("templates/saving_over_limit_warning"),i.i(_.a)("templates/modal_error"),i.i(_.a)("templates/browse_modules_card"),i.i(_.a)("templates/homes_near_street"),i.i(_.a)("templates/ldp_view_rates_cta"),i.i(_.a)("templates/building_transit_widget"),i.i(_.a)("templates/building_transit_options"),i.i(_.a)("quick_view/templates/other-plans/other-plans-carousel"),i.i(_.a)("quick_view/templates/other-plans/other-plans-card"),i.i(_.a)("shared_non_critical/compare-tool/modal"),i.i(_.a)("shared_non_critical/compare-tool/prop-card")},169:function(t,e,i){"use strict";function a(t){s.find('[data-toggle="modal"]').off("click").on("click",function(e){return o(e,t)}),r.off("click",'[data-toggle="modal"]').on("click",'[data-toggle="modal"]',function(e){return o(e,t)}),MOVE.Helper.isMobile()&&s.off("click","#qv-openhouse-st-cta").on("click","#qv-openhouse-st-cta",function(e){return o(event,t)})}function o(t,e){t.preventDefault(),n($(t.currentTarget).data("target")||$(t.target).data("target"),e,t)}function n(t,e,i){t&&(window.modals=(window.modals||[]).filter(function(e){return e!==t}),$(t).length?MOVE.ModalHelper.initModalData(t,e,i):MOVE.ModalHelper.fetchModal(t,e,i))}e.b=a,e.a=n;var s=$("body").find("#qv-wrap"),r=$("#modal-container")},170:function(t,e,i){"use strict";i.d(e,"a",function(){return a}),i.d(e,"c",function(){return o}),i.d(e,"b",function(){return n});var a=/^(?! *$)[a-zA-Z.+ '-]+$/,o=/^[a-zA-Z.+-.']+\s+[a-zA-Z.+-. ']+$/,n=/^.+@.+\..+$/},171:function(t,e,i){"use strict";i.d(e,"a",function(){return s});var a=i(89),o=i(144),n=function(t){var e=document.createElement("form");return e.method="POST",e.action="/property-suggestions",Object.keys(t).forEach(function(i){var a=document.createElement("input");a.type="hidden",a.name=i,a.value=t[i],e.appendChild(a)}),e},s=function(t,e,s,r){var l=s.full_address_display,d=s.canonical,h=s.url,c=s.photo_url,p=s.photos,u=s.permalink,f=s.isMilitaryChecked,m=s.isPreApprovedChecked,g=s.isNonLCMMarket,v=s.status,y=s.address,_=s.name,b=document.querySelector("meta[name=csrf-token]").content,M=e?d||h:"/realestateandhomes-detail/"+u,x=_||y&&y.trim().slice(0,-1),w=MOVE_DATA.adobeDTM.leadCtaClickSource||r.find(".submit").attr("data-omtrack"),k=s.search_flags&&s.search_flags.is_spec_home||s.flags&&s.flags.is_spec_home||!1,O={ldp_url:M,full_address_display:"for_sale"===v?l:x,photo_url:e?c:p[0].url,leads_data:JSON.stringify(t),authenticity_token:b,isMilitaryChecked:f,isNonLCMMarket:g,isPreApprovedChecked:m,property_status:v,name:x,placementData:w,isSpecHome:k};e&&(window.sessionStorage.setItem("parentReferer",a.a),MOVE.SRP.SubmittedLeads.add(s.listing_id)),i.i(o.a)(r,s,t);var C=n(O);document.body.appendChild(C),C.submit()}},194:function(t,e,i){var a;!function(o,n){"object"==typeof t&&t.exports?(n.default=n,t.exports=o.document?n(o):n):void 0!==(a=function(){return n(o)}.call(e,i,e,t))&&(t.exports=a)}("undefined"!=typeof window?window:this,function(t){function e(t,e,i,a){t.hasOwnProperty(e)||(t[e]=a.apply(null,i))}var i={};return e(i,"parts/Globals.js",[],function(){var e=void 0!==t?t:"undefined"!=typeof window?window:{},i=e.document,a=e.navigator&&e.navigator.userAgent||"",o=i&&i.createElementNS&&!!i.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,n=/(edge|msie|trident)/i.test(a)&&!e.opera,s=-1!==a.indexOf("Firefox"),r=-1!==a.indexOf("Chrome"),l=s&&4>parseInt(a.split("Firefox/")[1],10);return{product:"Highcharts",version:"7.2.1",deg2rad:2*Math.PI/360,doc:i,hasBidiBug:l,hasTouch:!!e.TouchEvent,isMS:n,isWebKit:-1!==a.indexOf("AppleWebKit"),isFirefox:s,isChrome:r,isSafari:!r&&-1!==a.indexOf("Safari"),isTouchDevice:/(Mobile|Android|Windows Phone)/.test(a),SVG_NS:"http://www.w3.org/2000/svg",chartCount:0,seriesTypes:{},symbolSizes:{},svg:o,win:e,marginNames:["plotTop","marginRight","marginBottom","plotLeft"],noop:function(){},charts:[],dateFormats:{}}}),e(i,"parts/Utilities.js",[i["parts/Globals.js"]],function(t){function e(t,e){return parseInt(t,e||10)}function i(t){return"string"==typeof t}function a(t){return"[object Array]"===(t=Object.prototype.toString.call(t))||"[object Array Iterator]"===t}function o(t,e){return!(!t||"object"!=typeof t||e&&a(t))}function n(t){return o(t)&&"number"==typeof t.nodeType}function s(t){var e=t&&t.constructor;return!(!o(t,!0)||n(t)||!e||!e.name||"Object"===e.name)}function r(t){return"number"==typeof t&&!isNaN(t)&&1/0>t&&-1/0<t}function l(t){return void 0!==t&&null!==t}function d(t,e,a){var o;return i(e)?l(a)?t.setAttribute(e,a):t&&t.getAttribute&&((o=t.getAttribute(e))||"class"!==e||(o=t.getAttribute(e+"Name"))):p(e,function(e,i){t.setAttribute(i,e)}),o}function h(t,e){var i;t||(t={});for(i in e)t[i]=e[i];return t}function c(){for(var t=arguments,e=t.length,i=0;i<e;i++){var a=t[i];if(void 0!==a&&null!==a)return a}}function p(t,e,i){for(var a in t)Object.hasOwnProperty.call(t,a)&&e.call(i||t[a],t[a],a,t)}t.timers=[];var u=t.charts,f=t.doc,m=t.win;return t.error=function(e,i,a,o){var n=r(e),s=n?"Highcharts error #"+e+": www.highcharts.com/errors/"+e+"/":e.toString(),l=function(){if(i)throw Error(s);m.console&&console.log(s)};if(void 0!==o){var d="";n&&(s+="?"),t.objectEach(o,function(t,e){d+="\n"+e+": "+t,n&&(s+=encodeURI(e)+"="+encodeURI(t))}),s+=d}a?t.fireEvent(a,"displayError",{code:e,message:s,params:o},l):l()},t.Fx=function(t,e,i){this.options=e,this.elem=t,this.prop=i},t.Fx.prototype={dSetter:function(){var t=this.paths[0],e=this.paths[1],i=[],a=this.now,o=t.length;if(1===a)i=this.toD;else if(o===e.length&&1>a)for(;o--;){var n=parseFloat(t[o]);i[o]=isNaN(n)||"A"===e[o-4]||"A"===e[o-5]?e[o]:a*parseFloat(""+(e[o]-n))+n}else i=e;this.elem.attr("d",i,null,!0)},update:function(){var t=this.elem,e=this.prop,i=this.now,a=this.options.step;this[e+"Setter"]?this[e+"Setter"]():t.attr?t.element&&t.attr(e,i,null,!0):t.style[e]=i+this.unit,a&&a.call(t,i,this)},run:function(e,i,a){var o=this,n=o.options,s=function(t){return!s.stopped&&o.step(t)},r=m.requestAnimationFrame||function(t){setTimeout(t,13)},l=function(){for(var e=0;e<t.timers.length;e++)t.timers[e]()||t.timers.splice(e--,1);t.timers.length&&r(l)};e!==i||this.elem["forceAnimate:"+this.prop]?(this.startTime=+new Date,this.start=e,this.end=i,this.unit=a,this.now=this.start,this.pos=0,s.elem=this.elem,s.prop=this.prop,s()&&1===t.timers.push(s)&&r(l)):(delete n.curAnim[this.prop],n.complete&&0===Object.keys(n.curAnim).length&&n.complete.call(this.elem))},step:function(t){var e=+new Date,i=this.options,a=this.elem,o=i.complete,n=i.duration,s=i.curAnim;if(a.attr&&!a.element)t=!1;else if(t||e>=n+this.startTime){this.now=this.end,this.pos=1,this.update();var r=s[this.prop]=!0;p(s,function(t){!0!==t&&(r=!1)}),r&&o&&o.call(a),t=!1}else this.pos=i.easing((e-this.startTime)/n),this.now=this.start+(this.end-this.start)*this.pos,this.update(),t=!0;return t},initPath:function(t,e,i){function a(t){for(l=t.length;l--;){var e="M"===t[l]||"L"===t[l],i=/[a-zA-Z]/.test(t[l+3]);e&&i&&t.splice(l+1,0,t[l+1],t[l+2],t[l+1],t[l+2])}}function o(t,e){for(;t.length<v;){t[0]=e[v-t.length];var i=t.slice(0,p);[].splice.apply(t,[0,0].concat(i)),u&&(i=t.slice(t.length-p),[].splice.apply(t,[t.length,0].concat(i)),l--)}t[0]="M"}function n(t,e){for(var i=(v-t.length)/p;0<i&&i--;)s=t.slice().splice(t.length/f-p,p*f),s[0]=e[v-p-i*p],c&&(s[p-6]=s[p-2],s[p-5]=s[p-1]),[].splice.apply(t,[t.length/f,0].concat(s)),u&&i--}e=e||"";var s,l,d=t.startX,h=t.endX,c=-1<e.indexOf("C"),p=c?7:3;e=e.split(" "),i=i.slice();var u=t.isArea,f=u?2:1;if(c&&(a(e),a(i)),d&&h){for(l=0;l<d.length;l++){if(d[l]===h[0]){var m=l;break}if(d[0]===h[h.length-d.length+l]){m=l;var g=!0;break}if(d[d.length-1]===h[h.length-d.length+l]){m=d.length-l;break}}void 0===m&&(e=[])}if(e.length&&r(m)){var v=i.length+m*f*p;g?(o(e,i),n(i,e)):(o(i,e),n(e,i))}return[e,i]},fillSetter:function(){t.Fx.prototype.strokeSetter.apply(this,arguments)},strokeSetter:function(){this.elem.attr(this.prop,t.color(this.start).tweenTo(t.color(this.end),this.pos),null,!0)}},t.merge=function(){var t,e=arguments,i={},a=function(t,e){return"object"!=typeof t&&(t={}),p(e,function(i,r){!o(i,!0)||s(i)||n(i)?t[r]=e[r]:t[r]=a(t[r]||{},i)}),t};!0===e[0]&&(i=e[1],e=Array.prototype.slice.call(e,2));var r=e.length;for(t=0;t<r;t++)i=a(i,e[t]);return i},t.clearTimeout=function(t){l(t)&&clearTimeout(t)},t.css=function(e,i){t.isMS&&!t.svg&&i&&void 0!==i.opacity&&(i.filter="alpha(opacity="+100*i.opacity+")"),h(e.style,i)},t.createElement=function(e,i,a,o,n){e=f.createElement(e);var s=t.css;return i&&h(e,i),n&&s(e,{padding:"0",border:"none",margin:"0"}),a&&s(e,a),o&&o.appendChild(e),e},t.extendClass=function(t,e){var i=function(){};return i.prototype=new t,h(i.prototype,e),i},t.pad=function(t,e,i){return Array((e||2)+1-String(t).replace("-","").length).join(i||"0")+t},t.relativeLength=function(t,e,i){return/%$/.test(t)?e*parseFloat(t)/100+(i||0):parseFloat(t)},t.wrap=function(t,e,i){var a=t[e];t[e]=function(){var t=Array.prototype.slice.call(arguments),e=arguments,o=this;return o.proceed=function(){a.apply(o,arguments.length?arguments:e)},t.unshift(a),t=i.apply(this,t),o.proceed=null,t}},t.datePropsToTimestamps=function(e){p(e,function(i,n){o(i)&&"function"==typeof i.getTime?e[n]=i.getTime():(o(i)||a(i))&&t.datePropsToTimestamps(i)})},t.formatSingle=function(e,i,a){var o=/\.([0-9])/,n=t.defaultOptions.lang;return/f$/.test(e)?(a=(a=e.match(o))?a[1]:-1,null!==i&&(i=t.numberFormat(i,a,n.decimalPoint,-1<e.indexOf(",")?n.thousandsSep:""))):i=(a||t.time).dateFormat(e,i),i},t.format=function(e,i,a){for(var o,n,s,r,l,d="{",h=!1,c=[];e&&-1!==(d=e.indexOf(d));){if(o=e.slice(0,d),h){for(o=o.split(":"),n=o.shift().split("."),r=n.length,l=i,s=0;s<r;s++)l&&(l=l[n[s]]);o.length&&(l=t.formatSingle(o.join(":"),l,a)),c.push(l)}else c.push(o);e=e.slice(d+1),d=(h=!h)?"}":"{"}return c.push(e),c.join("")},t.getMagnitude=function(t){return Math.pow(10,Math.floor(Math.log(t)/Math.LN10))},t.normalizeTickInterval=function(e,i,a,o,n){var s=e;a=c(a,1);var r=e/a;for(i||(i=n?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],!1===o&&(1===a?i=i.filter(function(t){return 0==t%1}):.1>=a&&(i=[1/a]))),o=0;o<i.length&&(s=i[o],!(n&&s*a>=e||!n&&r<=(i[o]+(i[o+1]||i[o]))/2));o++);return s=t.correctFloat(s*a,-Math.round(Math.log(.001)/Math.LN10))},t.stableSort=function(t,e){var i,a,o=t.length;for(a=0;a<o;a++)t[a].safeI=a;for(t.sort(function(t,a){return i=e(t,a),0===i?t.safeI-a.safeI:i}),a=0;a<o;a++)delete t[a].safeI},t.correctFloat=function(t,e){return parseFloat(t.toPrecision(e||14))},t.animObject=function(e){return o(e)?t.merge(e):{duration:e?500:0}},t.timeUnits={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},t.numberFormat=function(i,a,o,n){i=+i||0,a=+a;var s=t.defaultOptions.lang,l=(i.toString().split(".")[1]||"").split("e")[0].length,d=i.toString().split("e");if(-1===a)a=Math.min(l,20);else if(r(a)){if(a&&d[1]&&0>d[1]){var h=a+ +d[1];0<=h?(d[0]=(+d[0]).toExponential(h).split("e")[0],a=h):(d[0]=d[0].split(".")[0]||0,i=20>a?(d[0]*Math.pow(10,d[1])).toFixed(a):0,d[1]=0)}}else a=2;var p=(Math.abs(d[1]?d[0]:i)+Math.pow(10,-Math.max(a,l)-1)).toFixed(a);return l=String(e(p)),h=3<l.length?l.length%3:0,o=c(o,s.decimalPoint),n=c(n,s.thousandsSep),i=(0>i?"-":"")+(h?l.substr(0,h)+n:""),i+=l.substr(h).replace(/(\d{3})(?=\d)/g,"$1"+n),a&&(i+=o+p.slice(-a)),d[1]&&0!=+i&&(i+="e"+d[1]),i},Math.easeInOutSine=function(t){return-.5*(Math.cos(Math.PI*t)-1)},t.getStyle=function(i,a,o){return"width"===a?(a=Math.min(i.offsetWidth,i.scrollWidth),o=i.getBoundingClientRect&&i.getBoundingClientRect().width,o<a&&o>=a-1&&(a=Math.floor(o)),Math.max(0,a-t.getStyle(i,"padding-left")-t.getStyle(i,"padding-right"))):"height"===a?Math.max(0,Math.min(i.offsetHeight,i.scrollHeight)-t.getStyle(i,"padding-top")-t.getStyle(i,"padding-bottom")):(m.getComputedStyle||t.error(27,!0),(i=m.getComputedStyle(i,void 0))&&(i=i.getPropertyValue(a),c(o,"opacity"!==a)&&(i=e(i))),i)},t.inArray=function(t,e,i){return e.indexOf(t,i)},t.find=Array.prototype.find?function(t,e){return t.find(e)}:function(t,e){var i,a=t.length;for(i=0;i<a;i++)if(e(t[i],i))return t[i]},t.keys=Object.keys,t.offset=function(t){var e=f.documentElement;return t=t.parentElement||t.parentNode?t.getBoundingClientRect():{top:0,left:0},{top:t.top+(m.pageYOffset||e.scrollTop)-(e.clientTop||0),left:t.left+(m.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}},t.stop=function(e,i){for(var a=t.timers.length;a--;)t.timers[a].elem!==e||i&&i!==t.timers[a].prop||(t.timers[a].stopped=!0)},p({map:"map",each:"forEach",grep:"filter",reduce:"reduce",some:"some"},function(e,i){t[i]=function(t){return Array.prototype[e].apply(t,[].slice.call(arguments,1))}}),t.addEvent=function(e,i,a,o){void 0===o&&(o={});var n=e.addEventListener||t.addEventListenerPolyfill,s="function"==typeof e&&e.prototype?e.prototype.protoEvents=e.prototype.protoEvents||{}:e.hcEvents=e.hcEvents||{};return t.Point&&e instanceof t.Point&&e.series&&e.series.chart&&(e.series.chart.runTrackerClick=!0),n&&n.call(e,i,a,!1),s[i]||(s[i]=[]),s[i].push({fn:a,order:"number"==typeof o.order?o.order:1/0}),s[i].sort(function(t,e){return t.order-e.order}),function(){t.removeEvent(e,i,a)}},t.removeEvent=function(e,i,a){function o(i,a){var o=e.removeEventListener||t.removeEventListenerPolyfill;o&&o.call(e,i,a,!1)}function n(t){var a;if(e.nodeName){if(i){var n={};n[i]=!0}else n=t;p(n,function(e,i){if(t[i])for(a=t[i].length;a--;)o(i,t[i][a].fn)})}}var s;["protoEvents","hcEvents"].forEach(function(t,r){var l=(r=r?e:e.prototype)&&r[t];l&&(i?(s=l[i]||[],a?(l[i]=s.filter(function(t){return a!==t.fn}),o(i,a)):(n(l),l[i]=[])):(n(l),r[t]={}))})},t.fireEvent=function(t,e,i,a){var o;if(i=i||{},f.createEvent&&(t.dispatchEvent||t.fireEvent)){var n=f.createEvent("Events");n.initEvent(e,!0,!0),h(n,i),t.dispatchEvent?t.dispatchEvent(n):t.fireEvent(e,n)}else i.target||h(i,{preventDefault:function(){i.defaultPrevented=!0},target:t,type:e}),function(e,a){void 0===e&&(e=[]),void 0===a&&(a=[]);var n=0,s=0,r=e.length+a.length;for(o=0;o<r;o++)!1===(e[n]?a[s]?e[n].order<=a[s].order?e[n++]:a[s++]:e[n++]:a[s++]).fn.call(t,i)&&i.preventDefault()}(t.protoEvents&&t.protoEvents[e],t.hcEvents&&t.hcEvents[e]);a&&!i.defaultPrevented&&a.call(t,i)},t.animate=function(e,i,a){var n,s,l,d="";if(!o(a)){var h=arguments;a={duration:h[2],easing:h[3],complete:h[4]}}r(a.duration)||(a.duration=400),a.easing="function"==typeof a.easing?a.easing:Math[a.easing]||Math.easeInOutSine,a.curAnim=t.merge(i),p(i,function(o,r){t.stop(e,r),l=new t.Fx(e,a,r),s=null,"d"===r?(l.paths=l.initPath(e,e.d,i.d),l.toD=i.d,n=0,s=1):e.attr?n=e.attr(r):(n=parseFloat(t.getStyle(e,r))||0,"opacity"!==r&&(d="px")),s||(s=o),s&&s.match&&s.match("px")&&(s=s.replace(/px/g,"")),l.run(n,s,d)})},t.seriesType=function(e,i,a,o,n){var s=t.getOptions(),r=t.seriesTypes;return s.plotOptions[e]=t.merge(s.plotOptions[i],a),r[e]=t.extendClass(r[i]||function(){},o),r[e].prototype.type=e,n&&(r[e].prototype.pointClass=t.extendClass(t.Point,n)),r[e]},t.uniqueKey=function(){var t=Math.random().toString(36).substring(2,9),e=0;return function(){return"highcharts-"+t+"-"+e++}}(),t.isFunction=function(t){return"function"==typeof t},m.jQuery&&(m.jQuery.fn.highcharts=function(){var e=[].slice.call(arguments);if(this[0])return e[0]?(new(t[i(e[0])?e.shift():"Chart"])(this[0],e[0],e[1]),this):u[d(this[0],"data-highcharts-chart")]}),{arrayMax:function(t){for(var e=t.length,i=t[0];e--;)t[e]>i&&(i=t[e]);return i},arrayMin:function(t){for(var e=t.length,i=t[0];e--;)t[e]<i&&(i=t[e]);return i},attr:d,defined:l,destroyObjectProperties:function(t,e){p(t,function(i,a){i&&i!==e&&i.destroy&&i.destroy(),delete t[a]})},discardElement:function(e){var i=t.garbageBin;i||(i=t.createElement("div")),e&&i.appendChild(e),i.innerHTML=""},erase:function(t,e){for(var i=t.length;i--;)if(t[i]===e){t.splice(i,1);break}},extend:h,isArray:a,isClass:s,isDOMElement:n,isNumber:r,isObject:o,isString:i,objectEach:p,pick:c,pInt:e,setAnimation:function(t,e){e.renderer.globalAnimation=c(t,e.options.chart.animation,!0)},splat:function(t){return a(t)?t:[t]},syncTimeout:function(t,e,i){return 0<e?setTimeout(t,e,i):(t.call(0,i),-1)}}}),e(i,"parts/Color.js",[i["parts/Globals.js"],i["parts/Utilities.js"]],function(t,e){var i=e.isNumber,a=e.pInt,o=t.merge;t.Color=function(e){if(!(this instanceof t.Color))return new t.Color(e);this.init(e)},t.Color.prototype={parsers:[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function(t){return[a(t[1]),a(t[2]),a(t[3]),parseFloat(t[4],10)]}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function(t){return[a(t[1]),a(t[2]),a(t[3]),1]}}],names:{white:"#ffffff",black:"#000000"},init:function(e){var i,a;if((this.input=e=this.names[e&&e.toLowerCase?e.toLowerCase():""]||e)&&e.stops)this.stops=e.stops.map(function(e){return new t.Color(e[1])});else{if(e&&e.charAt&&"#"===e.charAt()){var o=e.length;e=parseInt(e.substr(1),16),7===o?i=[(16711680&e)>>16,(65280&e)>>8,255&e,1]:4===o&&(i=[(3840&e)>>4|(3840&e)>>8,(240&e)>>4|240&e,(15&e)<<4|15&e,1])}if(!i)for(a=this.parsers.length;a--&&!i;){var n=this.parsers[a];(o=n.regex.exec(e))&&(i=n.parse(o))}}this.rgba=i||[]},get:function(t){var e=this.input,a=this.rgba;if(this.stops){var n=o(e);n.stops=[].concat(n.stops),this.stops.forEach(function(e,i){n.stops[i]=[n.stops[i][0],e.get(t)]})}else n=a&&i(a[0])?"rgb"===t||!t&&1===a[3]?"rgb("+a[0]+","+a[1]+","+a[2]+")":"a"===t?a[3]:"rgba("+a.join(",")+")":e;return n},brighten:function(t){var e,o=this.rgba;if(this.stops)this.stops.forEach(function(e){e.brighten(t)});else if(i(t)&&0!==t)for(e=0;3>e;e++)o[e]+=a(255*t),0>o[e]&&(o[e]=0),255<o[e]&&(o[e]=255);return this},setOpacity:function(t){return this.rgba[3]=t,this},tweenTo:function(t,e){var i=this.rgba,a=t.rgba;return a.length&&i&&i.length?(t=1!==a[3]||1!==i[3],e=(t?"rgba(":"rgb(")+Math.round(a[0]+(i[0]-a[0])*(1-e))+","+Math.round(a[1]+(i[1]-a[1])*(1-e))+","+Math.round(a[2]+(i[2]-a[2])*(1-e))+(t?","+(a[3]+(i[3]-a[3])*(1-e)):"")+")"):e=t.input||"none",e}},t.color=function(e){return new t.Color(e)}}),e(i,"parts/SvgRenderer.js",[i["parts/Globals.js"],i["parts/Utilities.js"]],function(t,e){var i=e.attr,a=e.defined,o=e.destroyObjectProperties,n=e.erase,s=e.extend,r=e.isArray,l=e.isNumber,d=e.isObject,h=e.isString,c=e.objectEach,p=e.pick,u=e.pInt,f=e.splat,m=t.addEvent,g=t.animate,v=t.charts,y=t.color,_=t.css,b=t.createElement,M=t.deg2rad,x=t.doc,w=t.hasTouch,k=t.isFirefox,O=t.isMS,C=t.isWebKit,E=t.merge,D=t.noop,T=t.removeEvent,A=t.stop,P=t.svg,S=t.SVG_NS,L=t.symbolSizes,V=t.win,$=t.SVGElement=function(){return this};s($.prototype,{opacity:1,SVG_NS:S,textProps:"direction fontSize fontWeight fontFamily fontStyle color lineHeight width textAlign textDecoration textOverflow textOutline cursor".split(" "),init:function(e,i){this.element="span"===i?b(i):x.createElementNS(this.SVG_NS,i),this.renderer=e,t.fireEvent(this,"afterInit")},animate:function(e,i,a){var o=t.animObject(p(i,this.renderer.globalAnimation,!0));return p(x.hidden,x.msHidden,x.webkitHidden,!1)&&(o.duration=0),0!==o.duration?(a&&(o.complete=a),g(this,e,o)):(this.attr(e,void 0,a),c(e,function(t,e){o.step&&o.step.call(this,t,{prop:e,pos:1})},this)),this},complexColor:function(e,i,o){var n,s,l,d,h,p,u,f,m,g,v,y,_=this.renderer,b=[];t.fireEvent(this.renderer,"complexColor",{args:arguments},function(){e.radialGradient?s="radialGradient":e.linearGradient&&(s="linearGradient"),s&&(l=e[s],h=_.gradients,u=e.stops,g=o.radialReference,r(l)&&(e[s]=l={x1:l[0],y1:l[1],x2:l[2],y2:l[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===s&&g&&!a(l.gradientUnits)&&(d=l,l=E(l,_.getRadialAttr(g,d),{gradientUnits:"userSpaceOnUse"})),c(l,function(t,e){"id"!==e&&b.push(e,t)}),c(u,function(t){b.push(t)}),b=b.join(","),h[b]?v=h[b].attr("id"):(l.id=v=t.uniqueKey(),h[b]=p=_.createElement(s).attr(l).add(_.defs),p.radAttr=d,p.stops=[],u.forEach(function(e){0===e[1].indexOf("rgba")?(n=t.color(e[1]),f=n.get("rgb"),m=n.get("a")):(f=e[1],m=1),e=_.createElement("stop").attr({offset:e[0],"stop-color":f,"stop-opacity":m}).add(p),p.stops.push(e)})),y="url("+_.url+"#"+v+")",o.setAttribute(i,y),o.gradient=b,e.toString=function(){return y})})},applyTextOutline:function(e){var a,o=this.element;-1!==e.indexOf("contrast")&&(e=e.replace(/contrast/g,this.renderer.getContrast(o.style.fill))),e=e.split(" ");var n=e[e.length-1];if((a=e[0])&&"none"!==a&&t.svg){this.fakeTS=!0,e=[].slice.call(o.getElementsByTagName("tspan")),this.ySetter=this.xSetter,a=a.replace(/(^[\d\.]+)(.*?)$/g,function(t,e,i){return 2*e+i}),this.removeTextOutline(e);var s=o.firstChild;e.forEach(function(t,e){0===e&&(t.setAttribute("x",o.getAttribute("x")),e=o.getAttribute("y"),t.setAttribute("y",e||0),null===e&&o.setAttribute("y",0)),t=t.cloneNode(1),i(t,{class:"highcharts-text-outline",fill:n,stroke:n,"stroke-width":a,"stroke-linejoin":"round"}),o.insertBefore(t,s)})}},removeTextOutline:function(t){for(var e,i=t.length;i--;)e=t[i],"highcharts-text-outline"===e.getAttribute("class")&&n(t,this.element.removeChild(e))},symbolCustomAttribs:"x y width height r start end innerR anchorX anchorY rounded".split(" "),attr:function(e,i,a,o){var n,s,r,l=this.element,d=this,h=this.symbolCustomAttribs;if("string"==typeof e&&void 0!==i){var p=e;e={},e[p]=i}return"string"==typeof e?d=(this[e+"Getter"]||this._defaultGetter).call(this,e,l):(c(e,function(i,a){s=!1,o||A(this,a),this.symbolName&&-1!==t.inArray(a,h)&&(n||(this.symbolAttr(e),n=!0),s=!0),!this.rotation||"x"!==a&&"y"!==a||(this.doTransform=!0),s||(r=this[a+"Setter"]||this._defaultSetter,r.call(this,i,a,l),!this.styledMode&&this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(a)&&this.updateShadows(a,i,r))},this),this.afterSetters()),a&&a.call(this),d},afterSetters:function(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)},updateShadows:function(t,e,i){for(var a=this.shadows,o=a.length;o--;)i.call(a[o],"height"===t?Math.max(e-(a[o].cutHeight||0),0):"d"===t?this.d:e,t,a[o])},addClass:function(t,e){var i=e?"":this.attr("class")||"";return t=(t||"").split(/ /g).reduce(function(t,e){return-1===i.indexOf(e)&&t.push(e),t},i?[i]:[]).join(" "),t!==i&&this.attr("class",t),this},hasClass:function(t){return-1!==(this.attr("class")||"").split(" ").indexOf(t)},removeClass:function(t){return this.attr("class",(this.attr("class")||"").replace(h(t)?new RegExp(" ?"+t+" ?"):t,""))},symbolAttr:function(t){var e=this;"x y r start end width height innerR anchorX anchorY clockwise".split(" ").forEach(function(i){e[i]=p(t[i],e[i])}),e.attr({d:e.renderer.symbols[e.symbolName](e.x,e.y,e.width,e.height,e)})},clip:function(t){return this.attr("clip-path",t?"url("+this.renderer.url+"#"+t.id+")":"none")},crisp:function(t,e){e=e||t.strokeWidth||0;var i=Math.round(e)%2/2;return t.x=Math.floor(t.x||this.x||0)+i,t.y=Math.floor(t.y||this.y||0)+i,t.width=Math.floor((t.width||this.width||0)-2*i),t.height=Math.floor((t.height||this.height||0)-2*i),a(t.strokeWidth)&&(t.strokeWidth=e),t},css:function(t){var e=this.styles,a={},o=this.element,n="",r=!e,l=["textOutline","textOverflow","width"];if(t&&t.color&&(t.fill=t.color),e&&c(t,function(t,i){t!==e[i]&&(a[i]=t,r=!0)}),r){if(e&&(t=s(e,a)),t)if(null===t.width||"auto"===t.width)delete this.textWidth;else if("text"===o.nodeName.toLowerCase()&&t.width)var d=this.textWidth=u(t.width);if(this.styles=t,d&&!P&&this.renderer.forExport&&delete t.width,o.namespaceURI===this.SVG_NS){var h=function(t,e){return"-"+e.toLowerCase()};c(t,function(t,e){-1===l.indexOf(e)&&(n+=e.replace(/([A-Z])/g,h)+":"+t+";")}),n&&i(o,"style",n)}else _(o,t);this.added&&("text"===this.element.nodeName&&this.renderer.buildText(this),t&&t.textOutline&&this.applyTextOutline(t.textOutline))}return this},getStyle:function(t){return V.getComputedStyle(this.element||this,"").getPropertyValue(t)},strokeWidth:function(){if(!this.renderer.styledMode)return this["stroke-width"]||0;var t=this.getStyle("stroke-width");if(t.indexOf("px")===t.length-2)t=u(t);else{var e=x.createElementNS(S,"rect");i(e,{width:t,"stroke-width":0}),this.element.parentNode.appendChild(e),t=e.getBBox().width,e.parentNode.removeChild(e)}return t},on:function(t,e){var i=this,a=i.element;return w&&"click"===t?(a.ontouchstart=function(t){i.touchEventFired=Date.now(),t.preventDefault(),e.call(a,t)},a.onclick=function(t){(-1===V.navigator.userAgent.indexOf("Android")||1100<Date.now()-(i.touchEventFired||0))&&e.call(a,t)}):a["on"+t]=e,this},setRadialReference:function(t){var e=this.renderer.gradients[this.element.gradient];return this.element.radialReference=t,e&&e.radAttr&&e.animate(this.renderer.getRadialAttr(t,e.radAttr)),this},translate:function(t,e){return this.attr({translateX:t,translateY:e})},invert:function(t){return this.inverted=t,this.updateTransform(),this},updateTransform:function(){var t=this.translateX||0,e=this.translateY||0,i=this.scaleX,o=this.scaleY,n=this.inverted,s=this.rotation,r=this.matrix,l=this.element;n&&(t+=this.width,e+=this.height),t=["translate("+t+","+e+")"],a(r)&&t.push("matrix("+r.join(",")+")"),n?t.push("rotate(90) scale(-1,1)"):s&&t.push("rotate("+s+" "+p(this.rotationOriginX,l.getAttribute("x"),0)+" "+p(this.rotationOriginY,l.getAttribute("y")||0)+")"),(a(i)||a(o))&&t.push("scale("+p(i,1)+" "+p(o,1)+")"),t.length&&l.setAttribute("transform",t.join(" "))},toFront:function(){var t=this.element;return t.parentNode.appendChild(t),this},align:function(t,e,i){var a,o,s,r={},l=this.renderer,d=l.alignedObjects;t?(this.alignOptions=t,this.alignByTranslate=e,(!i||h(i))&&(this.alignTo=a=i||"renderer",n(d,this),d.push(this),i=null)):(t=this.alignOptions,e=this.alignByTranslate,a=this.alignTo),i=p(i,l[a],l),a=t.align,l=t.verticalAlign,d=(i.x||0)+(t.x||0);var c=(i.y||0)+(t.y||0);return"right"===a?o=1:"center"===a&&(o=2),o&&(d+=(i.width-(t.width||0))/o),r[e?"translateX":"x"]=Math.round(d),"bottom"===l?s=1:"middle"===l&&(s=2),s&&(c+=(i.height-(t.height||0))/s),r[e?"translateY":"y"]=Math.round(c),this[this.placed?"animate":"attr"](r),this.placed=!0,this.alignAttr=r,this},getBBox:function(t,e){var i,o,n=this.renderer,r=this.element,l=this.styles,d=this.textStr,h=n.cache,c=n.cacheKeys,u=r.namespaceURI===this.SVG_NS;e=p(e,this.rotation,0);var f=n.styledMode?r&&$.prototype.getStyle.call(r,"font-size"):l&&l.fontSize;if(a(d)){var m=d.toString();-1===m.indexOf("<")&&(m=m.replace(/[0-9]/g,"0")),m+=["",e,f,this.textWidth,l&&l.textOverflow].join()}if(m&&!t&&(i=h[m]),!i){if(u||n.forExport){try{(o=this.fakeTS&&function(t){[].forEach.call(r.querySelectorAll(".highcharts-text-outline"),function(e){e.style.display=t})})&&o("none"),i=r.getBBox?s({},r.getBBox()):{width:r.offsetWidth,height:r.offsetHeight},o&&o("")}catch(t){}(!i||0>i.width)&&(i={width:0,height:0})}else i=this.htmlGetBBox();if(n.isSVG&&(t=i.width,n=i.height,u&&(i.height=n={"11px,17":14,"13px,20":16}[l&&l.fontSize+","+Math.round(n)]||n),e&&(l=e*M,i.width=Math.abs(n*Math.sin(l))+Math.abs(t*Math.cos(l)),i.height=Math.abs(n*Math.cos(l))+Math.abs(t*Math.sin(l)))),m&&0<i.height){for(;250<c.length;)delete h[c.shift()];h[m]||c.push(m),h[m]=i}}return i},show:function(t){return this.attr({visibility:t?"inherit":"visible"})},hide:function(t){return t?this.attr({y:-9999}):this.attr({visibility:"hidden"}),this},fadeOut:function(t){var e=this;e.animate({opacity:0},{duration:t||150,complete:function(){e.attr({y:-9999})}})},add:function(t){var e=this.renderer,i=this.element;if(t&&(this.parentGroup=t),this.parentInverted=t&&t.inverted,void 0!==this.textStr&&e.buildText(this),this.added=!0,!t||t.handleZ||this.zIndex)var a=this.zIndexSetter();return a||(t?t.element:e.box).appendChild(i),this.onAdd&&this.onAdd(),this},safeRemoveChild:function(t){var e=t.parentNode;e&&e.removeChild(t)},destroy:function(){var t=this,e=t.element||{},i=t.renderer,a=i.isSVG&&"SPAN"===e.nodeName&&t.parentGroup,o=e.ownerSVGElement,s=t.clipPath;if(e.onclick=e.onmouseout=e.onmouseover=e.onmousemove=e.point=null,A(t),s&&o&&([].forEach.call(o.querySelectorAll("[clip-path],[CLIP-PATH]"),function(t){-1<t.getAttribute("clip-path").indexOf(s.element.id)&&t.removeAttribute("clip-path")}),t.clipPath=s.destroy()),t.stops){for(o=0;o<t.stops.length;o++)t.stops[o]=t.stops[o].destroy();t.stops=null}for(t.safeRemoveChild(e),i.styledMode||t.destroyShadows();a&&a.div&&0===a.div.childNodes.length;)e=a.parentGroup,t.safeRemoveChild(a.div),delete a.div,a=e;t.alignTo&&n(i.alignedObjects,t),c(t,function(e,i){t[i]&&t[i].parentGroup===t&&t[i].destroy&&t[i].destroy(),delete t[i]})},shadow:function(t,e,a){var o,n=[],s=this.element;if(t){if(!this.shadows){var r=p(t.width,3),l=(t.opacity||.15)/r,d=this.parentInverted?"(-1,-1)":"("+p(t.offsetX,1)+", "+p(t.offsetY,1)+")";for(o=1;o<=r;o++){var h=s.cloneNode(0),c=2*r+1-2*o;i(h,{stroke:t.color||"#000000","stroke-opacity":l*o,"stroke-width":c,transform:"translate"+d,fill:"none"}),h.setAttribute("class",(h.getAttribute("class")||"")+" highcharts-shadow"),a&&(i(h,"height",Math.max(i(h,"height")-c,0)),h.cutHeight=c),e?e.element.appendChild(h):s.parentNode&&s.parentNode.insertBefore(h,s),n.push(h)}this.shadows=n}}else this.destroyShadows();return this},destroyShadows:function(){(this.shadows||[]).forEach(function(t){this.safeRemoveChild(t)},this),this.shadows=void 0},xGetter:function(t){return"circle"===this.element.nodeName&&("x"===t?t="cx":"y"===t&&(t="cy")),this._defaultGetter(t)},_defaultGetter:function(t){return t=p(this[t+"Value"],this[t],this.element?this.element.getAttribute(t):null,0),/^[\-0-9\.]+$/.test(t)&&(t=parseFloat(t)),t},dSetter:function(t,e,i){t&&t.join&&(t=t.join(" ")),/(NaN| {2}|^$)/.test(t)&&(t="M 0 0"),this[e]!==t&&(i.setAttribute(e,t),this[e]=t)},dashstyleSetter:function(t){var e,i=this["stroke-width"];if("inherit"===i&&(i=1),t=t&&t.toLowerCase()){for(t=t.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(","),e=t.length;e--;)t[e]=u(t[e])*i;t=t.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",t)}},alignSetter:function(t){var e={left:"start",center:"middle",right:"end"};e[t]&&(this.alignValue=t,this.element.setAttribute("text-anchor",e[t]))},opacitySetter:function(t,e,i){this[e]=t,i.setAttribute(e,t)},titleSetter:function(t){var e=this.element.getElementsByTagName("title")[0];e||(e=x.createElementNS(this.SVG_NS,"title"),this.element.appendChild(e)),e.firstChild&&e.removeChild(e.firstChild),e.appendChild(x.createTextNode(String(p(t,"")).replace(/<[^>]*>/g,"").replace(/&lt;/g,"<").replace(/&gt;/g,">")))},textSetter:function(t){t!==this.textStr&&(delete this.bBox,delete this.textPxLength,this.textStr=t,this.added&&this.renderer.buildText(this))},setTextPath:function(e,i){var o=this.element,n={textAnchor:"text-anchor"},s=!1,r=this.textPathWrapper,l=!r;i=E(!0,{enabled:!0,attributes:{dy:-5,startOffset:"50%",textAnchor:"middle"}},i);var d=i.attributes;if(e&&i&&i.enabled){this.options&&this.options.padding&&(d.dx=-this.options.padding),r||(this.textPathWrapper=r=this.renderer.createElement("textPath"),s=!0);var h=r.element;if((i=e.element.getAttribute("id"))||e.element.setAttribute("id",i=t.uniqueKey()),l)for(e=o.getElementsByTagName("tspan");e.length;)e[0].setAttribute("y",0),h.appendChild(e[0]);s&&r.add({element:this.text?this.text.element:o}),h.setAttributeNS("http://www.w3.org/1999/xlink","href",this.renderer.url+"#"+i),a(d.dy)&&(h.parentNode.setAttribute("dy",d.dy),delete d.dy),a(d.dx)&&(h.parentNode.setAttribute("dx",d.dx),delete d.dx),c(d,function(t,e){h.setAttribute(n[e]||e,t)}),o.removeAttribute("transform"),this.removeTextOutline.call(r,[].slice.call(o.getElementsByTagName("tspan"))),this.text&&!this.renderer.styledMode&&this.attr({fill:"none","stroke-width":0}),this.applyTextOutline=this.updateTransform=D}else r&&(delete this.updateTransform,delete this.applyTextOutline,this.destroyTextPath(o,e));return this},destroyTextPath:function(t,e){var i;for(e.element.setAttribute("id",""),i=this.textPathWrapper.element.childNodes;i.length;)t.firstChild.appendChild(i[0]);t.firstChild.removeChild(this.textPathWrapper.element),delete e.textPathWrapper},fillSetter:function(t,e,i){"string"==typeof t?i.setAttribute(e,t):t&&this.complexColor(t,e,i)},visibilitySetter:function(t,e,i){"inherit"===t?i.removeAttribute(e):this[e]!==t&&i.setAttribute(e,t),this[e]=t},zIndexSetter:function(t,e){var i=this.renderer,o=this.parentGroup,n=(o||i).element||i.box,s=this.element,r=!1;i=n===i.box;var l,d=this.added;if(a(t)?(s.setAttribute("data-z-index",t),t=+t,this[e]===t&&(d=!1)):a(this[e])&&s.removeAttribute("data-z-index"),this[e]=t,d){for((t=this.zIndex)&&o&&(o.handleZ=!0),e=n.childNodes,l=e.length-1;0<=l&&!r;l--){o=e[l],d=o.getAttribute("data-z-index");var h=!a(d);o!==s&&(0>t&&h&&!i&&!l?(n.insertBefore(s,e[l]),r=!0):(u(d)<=t||h&&(!a(t)||0<=t))&&(n.insertBefore(s,e[l+1]||null),r=!0))}r||(n.insertBefore(s,e[i?3:0]||null),r=!0)}return r},_defaultSetter:function(t,e,i){i.setAttribute(e,t)}}),$.prototype.yGetter=$.prototype.xGetter,$.prototype.translateXSetter=$.prototype.translateYSetter=$.prototype.rotationSetter=$.prototype.verticalAlignSetter=$.prototype.rotationOriginXSetter=$.prototype.rotationOriginYSetter=$.prototype.scaleXSetter=$.prototype.scaleYSetter=$.prototype.matrixSetter=function(t,e){this[e]=t,this.doTransform=!0},$.prototype["stroke-widthSetter"]=$.prototype.strokeSetter=function(t,e,i){this[e]=t,this.stroke&&this["stroke-width"]?($.prototype.fillSetter.call(this,this.stroke,"stroke",i),i.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0):"stroke-width"===e&&0===t&&this.hasStroke?(i.removeAttribute("stroke"),this.hasStroke=!1):this.renderer.styledMode&&this["stroke-width"]&&(i.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0)},e=t.SVGRenderer=function(){this.init.apply(this,arguments)},s(e.prototype,{Element:$,SVG_NS:S,init:function(t,e,a,o,n,s,r){var l=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"});r||l.css(this.getStyle(o)),o=l.element,t.appendChild(o),i(t,"dir","ltr"),-1===t.innerHTML.indexOf("xmlns")&&i(o,"xmlns",this.SVG_NS),this.isSVG=!0,this.box=o,this.boxWrapper=l,this.alignedObjects=[],this.url=(k||C)&&x.getElementsByTagName("base").length?V.location.href.split("#")[0].replace(/<[^>]*>/g,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"",this.createElement("desc").add().element.appendChild(x.createTextNode("Created with Highcharts 7.2.1")),this.defs=this.createElement("defs").add(),this.allowHTML=s,this.forExport=n,this.styledMode=r,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.setSize(e,a,!1);var d;k&&t.getBoundingClientRect&&(e=function(){_(t,{left:0,top:0}),d=t.getBoundingClientRect(),_(t,{left:Math.ceil(d.left)-d.left+"px",top:Math.ceil(d.top)-d.top+"px"})},e(),this.unSubPixelFix=m(V,"resize",e))},definition:function(t){function e(t,a){var o;return f(t).forEach(function(t){var n=i.createElement(t.tagName),s={};c(t,function(t,e){"tagName"!==e&&"children"!==e&&"textContent"!==e&&(s[e]=t)}),n.attr(s),n.add(a||i.defs),t.textContent&&n.element.appendChild(x.createTextNode(t.textContent)),e(t.children||[],n),o=n}),o}var i=this;return e(t)},getStyle:function(t){return this.style=s({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},t)},setStyle:function(t){this.boxWrapper.css(this.getStyle(t))},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var t=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),o(this.gradients||{}),this.gradients=null,t&&(this.defs=t.destroy()),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null},createElement:function(t){var e=new this.Element;return e.init(this,t),e},draw:D,getRadialAttr:function(t,e){return{cx:t[0]-t[2]/2+e.cx*t[2],cy:t[1]-t[2]/2+e.cy*t[2],r:e.r*t[2]}},truncate:function(t,e,i,a,o,n,s){var r,l,d=this,h=t.rotation,c=a?1:0,p=(i||a).length,u=p,f=[],m=function(t){e.firstChild&&e.removeChild(e.firstChild),t&&e.appendChild(x.createTextNode(t))},g=function(n,r){if(r=r||n,void 0===f[r])if(e.getSubStringLength)try{f[r]=o+e.getSubStringLength(0,a?r+1:r)}catch(t){}else d.getSpanWidth&&(m(s(i||a,n)),f[r]=o+d.getSpanWidth(t,e));return f[r]};t.rotation=0;var v=g(e.textContent.length);if(l=o+v>n){for(;c<=p;)u=Math.ceil((c+p)/2),a&&(r=s(a,u)),v=g(u,r&&r.length-1),c===p?c=p+1:v>n?p=u-1:c=u;0===p?m(""):i&&p===i.length-1||m(r||s(i||a,u))}return a&&a.splice(0,u),t.actualWidth=v,t.rotation=h,l},escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},buildText:function(t){var e,a,o=t.element,n=this,s=n.forExport,r=p(t.textStr,"").toString(),l=-1!==r.indexOf("<"),d=o.childNodes,h=i(o,"x"),f=t.styles,m=t.textWidth,g=f&&f.lineHeight,v=f&&f.textOutline,y=f&&"ellipsis"===f.textOverflow,b=f&&"nowrap"===f.whiteSpace,M=f&&f.fontSize,w=d.length;f=m&&!t.added&&this.box;var k=function(t){var e;return n.styledMode||(e=/(px|em)$/.test(t&&t.style.fontSize)?t.style.fontSize:M||n.style.fontSize||12),g?u(g):n.fontMetrics(e,t.getAttribute("style")?t:o).h},O=function(t,e){return c(n.escapes,function(i,a){e&&-1!==e.indexOf(i)||(t=t.toString().replace(new RegExp(i,"g"),a))}),t},C=function(t,e){var i=t.indexOf("<");if(t=t.substring(i,t.indexOf(">")-i),-1!==(i=t.indexOf(e+"="))&&(i=i+e.length+1,'"'===(e=t.charAt(i))||"'"===e))return t=t.substring(i+1),t.substring(0,t.indexOf(e))},E=/<br.*?>/g,D=[r,y,b,g,v,M,m].join();if(D!==t.textCache){for(t.textCache=D;w--;)o.removeChild(d[w]);l||v||y||m||-1!==r.indexOf(" ")&&(!b||E.test(r))?(f&&f.appendChild(o),l?(r=n.styledMode?r.replace(/<(b|strong)>/g,'<span class="highcharts-strong">').replace(/<(i|em)>/g,'<span class="highcharts-emphasized">'):r.replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">'),r=r.replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(E)):r=[r],r=r.filter(function(t){return""!==t}),r.forEach(function(r,l){var d=0,c=0;r=r.replace(/^\s+|\s+$/g,"").replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||");var p=r.split("|||");p.forEach(function(r){if(""!==r||1===p.length){var u,f,g={},v=x.createElementNS(n.SVG_NS,"tspan");if((u=C(r,"class"))&&i(v,"class",u),(u=C(r,"style"))&&(u=u.replace(/(;| |^)color([ :])/,"$1fill$2"),i(v,"style",u)),(f=C(r,"href"))&&!s&&(i(v,"onclick",'location.href="'+f+'"'),i(v,"class","highcharts-anchor"),n.styledMode||_(v,{cursor:"pointer"}))," "!==(r=O(r.replace(/<[a-zA-Z\/](.|\n)*?>/g,"")||" "))){if(v.appendChild(x.createTextNode(r)),d?g.dx=0:l&&null!==h&&(g.x=h),i(v,g),o.appendChild(v),!d&&a&&(!P&&s&&_(v,{display:"block"}),i(v,"dy",k(v))),m){var w=r.replace(/([^\^])-/g,"$1- ").split(" ");g=!b&&(1<p.length||l||1<w.length),f=0;var E=k(v);if(y)e=n.truncate(t,v,r,void 0,0,Math.max(0,m-parseInt(M||12,10)),function(t,e){return t.substring(0,e)+""});else if(g)for(;w.length;)w.length&&!b&&0<f&&(v=x.createElementNS(S,"tspan"),i(v,{dy:E,x:h}),u&&i(v,"style",u),v.appendChild(x.createTextNode(w.join(" ").replace(/- /g,"-"))),o.appendChild(v)),n.truncate(t,v,null,w,0===f?c:0,m,function(t,e){return w.slice(0,e).join(" ").replace(/- /g,"-")}),c=t.actualWidth,f++}d++}}}),a=a||o.childNodes.length}),y&&e&&t.attr("title",O(t.textStr,["&lt;","&gt;"])),f&&f.removeChild(o),v&&t.applyTextOutline&&t.applyTextOutline(v)):o.appendChild(x.createTextNode(O(r)))}},getContrast:function(t){return t=y(t).rgba,t[0]*=1,t[1]*=1.2,t[2]*=.5,459<t[0]+t[1]+t[2]?"#000000":"#FFFFFF"},button:function(t,e,i,a,o,n,r,l,d,h){var c=this.label(t,e,i,d,null,null,h,null,"button"),p=0,u=this.styledMode;if(c.attr(E({padding:8,r:2},o)),!u){o=E({fill:"#f7f7f7",stroke:"#cccccc","stroke-width":1,style:{color:"#333333",cursor:"pointer",fontWeight:"normal"}},o);var f=o.style;delete o.style,n=E(o,{fill:"#e6e6e6"},n);var g=n.style;delete n.style,r=E(o,{fill:"#e6ebf5",style:{color:"#000000",fontWeight:"bold"}},r);var v=r.style;delete r.style,l=E(o,{style:{color:"#cccccc"}},l);var y=l.style;delete l.style}return m(c.element,O?"mouseover":"mouseenter",function(){3!==p&&c.setState(1)}),m(c.element,O?"mouseout":"mouseleave",function(){3!==p&&c.setState(p)}),c.setState=function(t){1!==t&&(c.state=p=t),c.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][t||0]),u||c.attr([o,n,r,l][t||0]).css([f,g,v,y][t||0])},u||c.attr(o).css(s({cursor:"default"},f)),c.on("click",function(t){3!==p&&a.call(c,t)})},crispLine:function(t,e){return t[1]===t[4]&&(t[1]=t[4]=Math.round(t[1])-e%2/2),t[2]===t[5]&&(t[2]=t[5]=Math.round(t[2])+e%2/2),t},path:function(t){var e=this.styledMode?{}:{fill:"none"};return r(t)?e.d=t:d(t)&&s(e,t),this.createElement("path").attr(e)},circle:function(t,e,i){return t=d(t)?t:void 0===t?{}:{x:t,y:e,r:i},e=this.createElement("circle"),e.xSetter=e.ySetter=function(t,e,i){i.setAttribute("c"+e,t)},e.attr(t)},arc:function(t,e,i,a,o,n){return d(t)?(a=t,e=a.y,i=a.r,t=a.x):a={innerR:a,start:o,end:n},t=this.symbol("arc",t,e,i,i,a),t.r=i,t},rect:function(t,e,a,o,n,s){n=d(t)?t.r:n;var r=this.createElement("rect");return t=d(t)?t:void 0===t?{}:{x:t,y:e,width:Math.max(a,0),height:Math.max(o,0)},this.styledMode||(void 0!==s&&(t.strokeWidth=s,t=r.crisp(t)),t.fill="none"),n&&(t.r=n),r.rSetter=function(t,e,a){r.r=t,i(a,{rx:t,ry:t})},r.rGetter=function(){return r.r},r.attr(t)},setSize:function(t,e,i){var a=this.alignedObjects,o=a.length;for(this.width=t,this.height=e,this.boxWrapper.animate({width:t,height:e},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:p(i,!0)?void 0:0});o--;)a[o].align()},g:function(t){var e=this.createElement("g");return t?e.attr({class:"highcharts-"+t}):e},image:function(t,e,i,a,o,n){var r={preserveAspectRatio:"none"},l=function(t,e){t.setAttributeNS?t.setAttributeNS("http://www.w3.org/1999/xlink","href",e):t.setAttribute("hc-svg-href",e)},d=function(e){l(h.element,t),n.call(h,e)};1<arguments.length&&s(r,{x:e,y:i,width:a,height:o});var h=this.createElement("image").attr(r);return n?(l(h.element,"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),r=new V.Image,m(r,"load",d),r.src=t,r.complete&&d({})):l(h.element,t),h},symbol:function(t,e,i,o,n,r){var l=this,d=/^url\((.*?)\)$/,h=d.test(t),c=!h&&(this.symbols[t]?t:"circle"),u=c&&this.symbols[c],f=a(e)&&u&&u.call(this.symbols,Math.round(e),Math.round(i),o,n,r);if(u){var m=this.path(f);l.styledMode||m.attr("fill","none"),s(m,{symbolName:c,x:e,y:i,width:o,height:n}),r&&s(m,r)}else if(h){var g=t.match(d)[1];m=this.image(g),m.imgwidth=p(L[g]&&L[g].width,r&&r.width),m.imgheight=p(L[g]&&L[g].height,r&&r.height);var y=function(){m.attr({width:m.width,height:m.height})};["width","height"].forEach(function(t){m[t+"Setter"]=function(t,e){var i={},o=this["img"+e],n="width"===e?"translateX":"translateY";this[e]=t,a(o)&&(r&&"within"===r.backgroundSize&&this.width&&this.height&&(o=Math.round(o*Math.min(this.width/this.imgwidth,this.height/this.imgheight))),this.element&&this.element.setAttribute(e,o),this.alignByTranslate||(i[n]=((this[e]||0)-o)/2,this.attr(i)))}}),a(e)&&m.attr({x:e,y:i}),m.isImg=!0,a(m.imgwidth)&&a(m.imgheight)?y():(m.attr({width:0,height:0}),b("img",{onload:function(){var t=v[l.chartIndex];0===this.width&&(_(this,{position:"absolute",top:"-999em"}),x.body.appendChild(this)),L[g]={width:this.width,height:this.height},m.imgwidth=this.width,m.imgheight=this.height,m.element&&y(),this.parentNode&&this.parentNode.removeChild(this),!--l.imgCount&&t&&t.onload&&t.onload()},src:g}),this.imgCount++)}return m},symbols:{circle:function(t,e,i,a){return this.arc(t+i/2,e+a/2,i/2,a/2,{start:.5*Math.PI,end:2.5*Math.PI,open:!1})},square:function(t,e,i,a){return["M",t,e,"L",t+i,e,t+i,e+a,t,e+a,"Z"]},triangle:function(t,e,i,a){return["M",t+i/2,e,"L",t+i,e+a,t,e+a,"Z"]},"triangle-down":function(t,e,i,a){return["M",t,e,"L",t+i,e,t+i/2,e+a,"Z"]},diamond:function(t,e,i,a){return["M",t+i/2,e,"L",t+i,e+a/2,t+i/2,e+a,t,e+a/2,"Z"]},arc:function(t,e,i,o,n){var s=n.start,r=n.r||i,l=n.r||o||i,d=n.end-.001;i=n.innerR,o=p(n.open,.001>Math.abs(n.end-n.start-2*Math.PI));var h=Math.cos(s),c=Math.sin(s),u=Math.cos(d);return d=Math.sin(d),s=.001>n.end-s-Math.PI?0:1,n=["M",t+r*h,e+l*c,"A",r,l,0,s,p(n.clockwise,1),t+r*u,e+l*d],a(i)&&n.push(o?"M":"L",t+i*u,e+i*d,"A",i,i,0,s,0,t+i*h,e+i*c),n.push(o?"":"Z"),n},callout:function(t,e,i,a,o){var n=Math.min(o&&o.r||0,i,a),s=n+6,r=o&&o.anchorX;o=o&&o.anchorY;var l=["M",t+n,e,"L",t+i-n,e,"C",t+i,e,t+i,e,t+i,e+n,"L",t+i,e+a-n,"C",t+i,e+a,t+i,e+a,t+i-n,e+a,"L",t+n,e+a,"C",t,e+a,t,e+a,t,e+a-n,"L",t,e+n,"C",t,e,t,e,t+n,e];return r&&r>i?o>e+s&&o<e+a-s?l.splice(13,3,"L",t+i,o-6,t+i+6,o,t+i,o+6,t+i,e+a-n):l.splice(13,3,"L",t+i,a/2,r,o,t+i,a/2,t+i,e+a-n):r&&0>r?o>e+s&&o<e+a-s?l.splice(33,3,"L",t,o+6,t-6,o,t,o-6,t,e+n):l.splice(33,3,"L",t,a/2,r,o,t,a/2,t,e+n):o&&o>a&&r>t+s&&r<t+i-s?l.splice(23,3,"L",r+6,e+a,r,e+a+6,r-6,e+a,t+n,e+a):o&&0>o&&r>t+s&&r<t+i-s&&l.splice(3,3,"L",r-6,e,r,e-6,r+6,e,i-n,e),l}},clipRect:function(e,i,a,o){var n=t.uniqueKey()+"-",s=this.createElement("clipPath").attr({id:n}).add(this.defs);return e=this.rect(e,i,a,o,0).add(s),e.id=n,e.clipPath=s,e.count=0,e},text:function(t,e,i,o){var n={};return!o||!this.allowHTML&&this.forExport?(n.x=Math.round(e||0),i&&(n.y=Math.round(i)),a(t)&&(n.text=t),t=this.createElement("text").attr(n),o||(t.xSetter=function(t,e,i){var a,o=i.getElementsByTagName("tspan"),n=i.getAttribute(e);for(a=0;a<o.length;a++){var s=o[a];s.getAttribute(e)===n&&s.setAttribute(e,t)}i.setAttribute(e,t)}),t):this.html(t,e,i)},fontMetrics:function(t,e){return t=!this.styledMode&&/px/.test(t)||!V.getComputedStyle?t||e&&e.style&&e.style.fontSize||this.style&&this.style.fontSize:e&&$.prototype.getStyle.call(e,"font-size"),t=/px/.test(t)?u(t):12,e=24>t?t+3:Math.round(1.2*t),{h:e,b:Math.round(.8*e),f:t}},rotCorr:function(t,e,i){var a=t;return e&&i&&(a=Math.max(a*Math.cos(e*M),4)),{x:-t/3*Math.sin(e*M),y:a}},label:function(t,e,i,o,n,r,d,h,c){var p,u,f,m,g,v,y,_,b,M=this,x=M.styledMode,w=M.g("button"!==c&&"label"),k=w.text=M.text("",0,0,d).attr({zIndex:1}),O=0,C=3,D=0,A={},P=/^url\((.*?)\)$/.test(o),S=x||P,L=function(){return x?p.strokeWidth()%2/2:(_?parseInt(_,10):0)%2/2};c&&w.addClass("highcharts-"+c);var V=function(){var t=k.element.style,e={};u=(void 0===f||void 0===m||y)&&a(k.textStr)&&k.getBBox(),w.width=(f||u.width||0)+2*C+D,w.height=(m||u.height||0)+2*C,b=C+Math.min(M.fontMetrics(t&&t.fontSize,k).b,u?u.height:1/0),S&&(p||(w.box=p=M.symbols[o]||P?M.symbol(o):M.rect(),p.addClass(("button"===c?"":"highcharts-label-box")+(c?" highcharts-"+c+"-box":"")),p.add(w),t=L(),e.x=t,e.y=(h?-b:0)+t),e.width=Math.round(w.width),e.height=Math.round(w.height),p.attr(s(e,A)),A={})},I=function(){var t=D+C,e=h?0:b;a(f)&&u&&("center"===y||"right"===y)&&(t+={center:.5,right:1}[y]*(f-u.width)),t===k.x&&e===k.y||(k.attr("x",t),k.hasBoxWidthChanged&&(u=k.getBBox(!0),V()),void 0!==e&&k.attr("y",e)),k.x=t,k.y=e},H=function(t,e){p?p.attr(t,e):A[t]=e};w.onAdd=function(){k.add(w),w.attr({text:t||0===t?t:"",x:e,y:i}),p&&a(n)&&w.attr({anchorX:n,anchorY:r})},w.widthSetter=function(t){f=l(t)?t:null},w.heightSetter=function(t){m=t},w["text-alignSetter"]=function(t){y=t},w.paddingSetter=function(t){a(t)&&t!==C&&(C=w.padding=t,I())},w.paddingLeftSetter=function(t){a(t)&&t!==D&&(D=t,I())},w.alignSetter=function(t){(t={left:0,center:.5,right:1}[t])!==O&&(O=t,u&&w.attr({x:g}))},w.textSetter=function(t){void 0!==t&&k.attr({text:t}),V(),I()},w["stroke-widthSetter"]=function(t,e){t&&(S=!0),_=this["stroke-width"]=t,H(e,t)},x?w.rSetter=function(t,e){H(e,t)}:w.strokeSetter=w.fillSetter=w.rSetter=function(t,e){"r"!==e&&("fill"===e&&t&&(S=!0),w[e]=t),H(e,t)},w.anchorXSetter=function(t,e){n=w.anchorX=t,H(e,Math.round(t)-L()-g)},w.anchorYSetter=function(t,e){r=w.anchorY=t,H(e,t-v)},w.xSetter=function(t){w.x=t,O&&(t-=O*((f||u.width)+2*C),w["forceAnimate:x"]=!0),g=Math.round(t),w.attr("translateX",g)},w.ySetter=function(t){v=w.y=Math.round(t),w.attr("translateY",v)};var N=w.css;return d={css:function(t){if(t){var e={};t=E(t),w.textProps.forEach(function(i){void 0!==t[i]&&(e[i]=t[i],delete t[i])}),k.css(e),"width"in e&&V(),"fontSize"in e&&(V(),I())}return N.call(w,t)},getBBox:function(){return{width:u.width+2*C,height:u.height+2*C,x:u.x-C,y:u.y-C}},destroy:function(){T(w.element,"mouseenter"),T(w.element,"mouseleave"),k&&(k=k.destroy()),p&&(p=p.destroy()),$.prototype.destroy.call(w),w=M=V=I=H=null}},x||(d.shadow=function(t){return t&&(V(),p&&p.shadow(t)),w}),s(w,d)}}),t.Renderer=e}),e(i,"parts/Html.js",[i["parts/Globals.js"],i["parts/Utilities.js"]],function(t,e){var i=e.attr,a=e.defined,o=e.extend,n=e.pick,s=e.pInt,r=t.createElement,l=t.css,d=t.isFirefox,h=t.isMS,c=t.isWebKit,p=t.SVGElement;e=t.SVGRenderer;var u=t.win;o(p.prototype,{htmlCss:function(t){var e="SPAN"===this.element.tagName&&t&&"width"in t,i=n(e&&t.width,void 0);if(e){delete t.width,this.textWidth=i;var a=!0}return t&&"ellipsis"===t.textOverflow&&(t.whiteSpace="nowrap",t.overflow="hidden"),this.styles=o(this.styles,t),l(this.element,t),a&&this.htmlUpdateTransform(),this},htmlGetBBox:function(){var t=this.element;return{x:t.offsetLeft,y:t.offsetTop,width:t.offsetWidth,height:t.offsetHeight}},htmlUpdateTransform:function(){if(this.added){var t=this.renderer,e=this.element,i=this.translateX||0,o=this.translateY||0,n=this.x||0,r=this.y||0,d=this.textAlign||"left",h={left:0,center:.5,right:1}[d],c=this.styles,p=c&&c.whiteSpace;if(l(e,{marginLeft:i,marginTop:o}),!t.styledMode&&this.shadows&&this.shadows.forEach(function(t){l(t,{marginLeft:i+1,marginTop:o+1})}),this.inverted&&[].forEach.call(e.childNodes,function(i){t.invertChild(i,e)}),"SPAN"===e.tagName){c=this.rotation;var u,f=this.textWidth&&s(this.textWidth),m=[c,d,e.innerHTML,this.textWidth,this.textAlign].join();(u=f!==this.oldTextWidth)&&!(u=f>this.oldTextWidth)&&((u=this.textPxLength)||(l(e,{width:"",whiteSpace:p||"nowrap"}),u=e.offsetWidth),u=u>f),u&&(/[ \-]/.test(e.textContent||e.innerText)||"ellipsis"===e.style.textOverflow)?(l(e,{width:f+"px",display:"block",whiteSpace:p||"normal"}),this.oldTextWidth=f,this.hasBoxWidthChanged=!0):this.hasBoxWidthChanged=!1,m!==this.cTT&&(p=t.fontMetrics(e.style.fontSize,e).b,!a(c)||c===(this.oldRotation||0)&&d===this.oldAlign||this.setSpanRotation(c,h,p),this.getSpanCorrection(!a(c)&&this.textPxLength||e.offsetWidth,p,h,c,d)),l(e,{left:n+(this.xCorr||0)+"px",top:r+(this.yCorr||0)+"px"}),this.cTT=m,this.oldRotation=c,this.oldAlign=d}}else this.alignOnAdd=!0},setSpanRotation:function(t,e,i){var a={},o=this.renderer.getTransformKey();a[o]=a.transform="rotate("+t+"deg)",a[o+(d?"Origin":"-origin")]=a.transformOrigin=100*e+"% "+i+"px",l(this.element,a)},getSpanCorrection:function(t,e,i){this.xCorr=-t*i,this.yCorr=-e}}),o(e.prototype,{getTransformKey:function(){return h&&!/Edge/.test(u.navigator.userAgent)?"-ms-transform":c?"-webkit-transform":d?"MozTransform":u.opera?"-o-transform":""},html:function(t,e,a){var s=this.createElement("span"),l=s.element,d=s.renderer,h=d.isSVG,c=function(t,e){["opacity","visibility"].forEach(function(i){t[i+"Setter"]=function(a,o,n){var s=t.div?t.div.style:e;p.prototype[i+"Setter"].call(this,a,o,n),s&&(s[o]=a)}}),t.addedSetters=!0};return s.textSetter=function(t){t!==l.innerHTML&&(delete this.bBox,delete this.oldTextWidth),this.textStr=t,l.innerHTML=n(t,""),s.doTransform=!0},h&&c(s,s.element.style),s.xSetter=s.ySetter=s.alignSetter=s.rotationSetter=function(t,e){"align"===e&&(e="textAlign"),s[e]=t,s.doTransform=!0},s.afterSetters=function(){this.doTransform&&(this.htmlUpdateTransform(),this.doTransform=!1)},s.attr({text:t,x:Math.round(e),y:Math.round(a)}).css({position:"absolute"}),d.styledMode||s.css({fontFamily:this.style.fontFamily,fontSize:this.style.fontSize}),l.style.whiteSpace="nowrap",s.css=s.htmlCss,h&&(s.add=function(t){var e=d.box.parentNode,a=[];if(this.parentGroup=t){var n=t.div;if(!n){for(;t;)a.push(t),t=t.parentGroup;a.reverse().forEach(function(t){function l(e,i){t[i]=e,"translateX"===i?h.left=e+"px":h.top=e+"px",t.doTransform=!0}var d=i(t.element,"class");n=t.div=t.div||r("div",d?{className:d}:void 0,{position:"absolute",left:(t.translateX||0)+"px",top:(t.translateY||0)+"px",display:t.display,opacity:t.opacity,pointerEvents:t.styles&&t.styles.pointerEvents},n||e);var h=n.style;o(t,{classSetter:function(t){return function(e){this.element.setAttribute("class",e),t.className=e}}(n),on:function(){return a[0].div&&s.on.apply({element:a[0].div},arguments),t},translateXSetter:l,translateYSetter:l}),t.addedSetters||c(t)})}}else n=e;return n.appendChild(l),s.added=!0,s.alignOnAdd&&s.htmlUpdateTransform(),s}),s}})}),e(i,"parts/Time.js",[i["parts/Globals.js"],i["parts/Utilities.js"]],function(t,e){var i=e.defined,a=e.extend,o=e.isObject,n=e.objectEach,s=e.pick,r=e.splat,l=t.merge,d=t.timeUnits,h=t.win;t.Time=function(t){this.update(t,!1)},t.Time.prototype={defaultOptions:{Date:void 0,getTimezoneOffset:void 0,timezone:void 0,timezoneOffset:0,useUTC:!0},update:function(t){var e=s(t&&t.useUTC,!0),i=this;this.options=t=l(!0,this.options||{},t),this.Date=t.Date||h.Date||Date,this.timezoneOffset=(this.useUTC=e)&&t.timezoneOffset,this.getTimezoneOffset=this.timezoneOffsetFunction(),(this.variableTimezone=!(e&&!t.getTimezoneOffset&&!t.timezone))||this.timezoneOffset?(this.get=function(t,e){var a=e.getTime(),o=a-i.getTimezoneOffset(e);return e.setTime(o),t=e["getUTC"+t](),e.setTime(a),t},this.set=function(t,e,a){if("Milliseconds"===t||"Seconds"===t||"Minutes"===t&&0==e.getTimezoneOffset()%60)e["set"+t](a);else{var o=i.getTimezoneOffset(e);o=e.getTime()-o,e.setTime(o),e["setUTC"+t](a),t=i.getTimezoneOffset(e),o=e.getTime()+t,e.setTime(o)}}):e?(this.get=function(t,e){return e["getUTC"+t]()},this.set=function(t,e,i){return e["setUTC"+t](i)}):(this.get=function(t,e){return e["get"+t]()},this.set=function(t,e,i){return e["set"+t](i)})},makeTime:function(e,i,a,o,n,r){if(this.useUTC){var l=this.Date.UTC.apply(0,arguments),d=this.getTimezoneOffset(l);l+=d;var h=this.getTimezoneOffset(l);d!==h?l+=h-d:d-36e5!==this.getTimezoneOffset(l-36e5)||t.isSafari||(l-=36e5)}else l=new this.Date(e,i,s(a,1),s(o,0),s(n,0),s(r,0)).getTime();return l},timezoneOffsetFunction:function(){var e=this,i=this.options,a=h.moment;if(!this.useUTC)return function(t){return 6e4*new Date(t).getTimezoneOffset()};if(i.timezone){if(a)return function(t){return 6e4*-a.tz(t,i.timezone).utcOffset()};t.error(25)}return this.useUTC&&i.getTimezoneOffset?function(t){return 6e4*i.getTimezoneOffset(t)}:function(){return 6e4*(e.timezoneOffset||0)}},dateFormat:function(e,o,r){if(!i(o)||isNaN(o))return t.defaultOptions.lang.invalidDate||"";e=s(e,"%Y-%m-%d %H:%M:%S");var l=this,d=new this.Date(o),h=this.get("Hours",d),c=this.get("Day",d),p=this.get("Date",d),u=this.get("Month",d),f=this.get("FullYear",d),m=t.defaultOptions.lang,g=m.weekdays,v=m.shortWeekdays,y=t.pad;return d=a({a:v?v[c]:g[c].substr(0,3),A:g[c],d:y(p),e:y(p,2," "),w:c,b:m.shortMonths[u],B:m.months[u],m:y(u+1),o:u+1,y:f.toString().substr(2,2),Y:f,H:y(h),k:h,I:y(h%12||12),l:h%12||12,M:y(l.get("Minutes",d)),p:12>h?"AM":"PM",P:12>h?"am":"pm",S:y(d.getSeconds()),L:y(Math.floor(o%1e3),3)},t.dateFormats),n(d,function(t,i){for(;-1!==e.indexOf("%"+i);)e=e.replace("%"+i,"function"==typeof t?t.call(l,o):t)}),r?e.substr(0,1).toUpperCase()+e.substr(1):e},resolveDTLFormat:function(t){return o(t,!0)?t:(t=r(t),{main:t[0],from:t[1],to:t[2]})},getTimeTicks:function(t,e,o,n){var r,l=this,h=[],c={},p=new l.Date(e),u=t.unitRange,f=t.count||1;if(n=s(n,1),i(e)){if(l.set("Milliseconds",p,u>=d.second?0:f*Math.floor(l.get("Milliseconds",p)/f)),u>=d.second&&l.set("Seconds",p,u>=d.minute?0:f*Math.floor(l.get("Seconds",p)/f)),u>=d.minute&&l.set("Minutes",p,u>=d.hour?0:f*Math.floor(l.get("Minutes",p)/f)),u>=d.hour&&l.set("Hours",p,u>=d.day?0:f*Math.floor(l.get("Hours",p)/f)),u>=d.day&&l.set("Date",p,u>=d.month?1:Math.max(1,f*Math.floor(l.get("Date",p)/f))),u>=d.month){l.set("Month",p,u>=d.year?0:f*Math.floor(l.get("Month",p)/f));var m=l.get("FullYear",p)}u>=d.year&&l.set("FullYear",p,m-m%f),u===d.week&&(m=l.get("Day",p),l.set("Date",p,l.get("Date",p)-m+n+(m<n?-7:0))),m=l.get("FullYear",p),n=l.get("Month",p);var g=l.get("Date",p),v=l.get("Hours",p);for(e=p.getTime(),l.variableTimezone&&(r=o-e>4*d.month||l.getTimezoneOffset(e)!==l.getTimezoneOffset(o)),e=p.getTime(),p=1;e<o;)h.push(e),e=u===d.year?l.makeTime(m+p*f,0):u===d.month?l.makeTime(m,n+p*f):!r||u!==d.day&&u!==d.week?r&&u===d.hour&&1<f?l.makeTime(m,n,g,v+p*f):e+u*f:l.makeTime(m,n,g+p*f*(u===d.day?1:7)),p++;h.push(e),u<=d.hour&&1e4>h.length&&h.forEach(function(t){0==t%18e5&&"000000000"===l.dateFormat("%H%M%S%L",t)&&(c[t]="day")})}return h.info=a(t,{higherRanks:c,totalRange:u*f}),h}}}),e(i,"parts/Options.js",[i["parts/Globals.js"]],function(t){var e=t.color,i=t.merge;t.defaultOptions={colors:"#7cb5ec #434348 #90ed7d #f7a35c #8085e9 #f15c80 #e4d354 #2b908f #f45b5b #91e8e1".split(" "),symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),decimalPoint:".",numericSymbols:"kMGTPE".split(""),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{},time:t.Time.prototype.defaultOptions,chart:{styledMode:!1,borderRadius:0,colorCount:10,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}},width:null,height:null,borderColor:"#335cad",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"},title:{text:"Chart title",align:"center",margin:15,widthAdjust:-44},subtitle:{text:"",align:"center",widthAdjust:-44},caption:{margin:15,text:"",align:"left",verticalAlign:"bottom"},plotOptions:{},labels:{style:{position:"absolute",color:"#333333"}},legend:{enabled:!0,align:"center",alignColumns:!0,layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{activeColor:"#003399",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",cursor:"pointer",fontSize:"12px",fontWeight:"bold",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#cccccc"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:t.svg,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},footerFormat:"",padding:8,snap:t.isTouchDevice?25:10,headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}"></span> {series.name}: <b>{point.y}</b><br/>',backgroundColor:e("#f7f7f7").setOpacity(.85).get(),borderWidth:1,shadow:!0,style:{color:"#333333",cursor:"default",fontSize:"12px",pointerEvents:"none",whiteSpace:"nowrap"}},credits:{enabled:!0,href:"https://web.archive.org/web/20200819065000/https://www.highcharts.com?credits",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"9px"},text:"Highcharts.com"}},t.setOptions=function(e){return t.defaultOptions=i(!0,t.defaultOptions,e),(e.time||e.global)&&t.time.update(i(t.defaultOptions.global,t.defaultOptions.time,e.global,e.time)),t.defaultOptions},t.getOptions=function(){return t.defaultOptions},t.defaultPlotOptions=t.defaultOptions.plotOptions,t.time=new t.Time(i(t.defaultOptions.global,t.defaultOptions.time)),t.dateFormat=function(e,i,a){return t.time.dateFormat(e,i,a)}}),e(i,"parts/Tick.js",[i["parts/Globals.js"],i["parts/Utilities.js"]],function(t,e){var i=e.defined,a=e.destroyObjectProperties,o=e.extend,n=e.isNumber,s=e.pick,r=t.correctFloat,l=t.fireEvent,d=t.merge,h=t.deg2rad;t.Tick=function(t,e,i,a,o){this.axis=t,this.pos=e,this.type=i||"",this.isNewLabel=this.isNew=!0,this.parameters=o||{},this.tickmarkOffset=this.parameters.tickmarkOffset,this.options=this.parameters.options,i||a||this.addLabel()},t.Tick.prototype={addLabel:function(){var t=this,e=t.axis,a=e.options,n=e.chart,l=e.categories,h=e.names,c=t.pos,p=s(t.options&&t.options.labels,a.labels),u=e.tickPositions,f=c===u[0],m=c===u[u.length-1];l=this.parameters.category||(l?s(l[c],h[c],c):c);var g=t.label;u=u.info;var v,y;if(e.isDatetimeAxis&&u)var _=n.time.resolveDTLFormat(a.dateTimeLabelFormats[!a.grid&&u.higherRanks[c]||u.unitName]),b=_.main;t.isFirst=f,t.isLast=m,t.formatCtx={axis:e,chart:n,isFirst:f,isLast:m,dateTimeLabelFormat:b,tickPositionInfo:u,value:e.isLog?r(e.lin2log(l)):l,pos:c},a=e.labelFormatter.call(t.formatCtx,this.formatCtx),(y=_&&_.list)&&(t.shortenLabel=function(){for(v=0;v<y.length;v++)if(g.attr({text:e.labelFormatter.call(o(t.formatCtx,{dateTimeLabelFormat:y[v]}))}),g.getBBox().width<e.getSlotWidth(t)-2*s(p.padding,5))return;g.attr({text:""})}),i(g)?g&&g.textStr!==a&&(!g.textWidth||p.style&&p.style.width||g.styles.width||g.css({width:null}),g.attr({text:a}),g.textPxLength=g.getBBox().width):((t.label=g=i(a)&&p.enabled?n.renderer.text(a,0,0,p.useHTML).add(e.labelGroup):null)&&(n.styledMode||g.css(d(p.style)),g.textPxLength=g.getBBox().width),t.rotation=0)},getLabelSize:function(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0},handleOverflow:function(t){var e=this.axis,i=e.options.labels,a=t.x,o=e.chart.chartWidth,n=e.chart.spacing,r=s(e.labelLeft,Math.min(e.pos,n[3]));n=s(e.labelRight,Math.max(e.isRadial?0:e.pos+e.len,o-n[1]));var l,d=this.label,c=this.rotation,p={left:0,center:.5,right:1}[e.labelAlign||d.attr("align")],u=d.getBBox().width,f=e.getSlotWidth(this),m=f,g=1,v={};c||"justify"!==s(i.overflow,"justify")?0>c&&a-p*u<r?l=Math.round(a/Math.cos(c*h)-r):0<c&&a+p*u>n&&(l=Math.round((o-a)/Math.cos(c*h))):(o=a+(1-p)*u,a-p*u<r?m=t.x+m*(1-p)-r:o>n&&(m=n-t.x+m*p,g=-1),m=Math.min(f,m),m<f&&"center"===e.labelAlign&&(t.x+=g*(f-m-p*(f-Math.min(u,m)))),(u>m||e.autoRotation&&(d.styles||{}).width)&&(l=m)),l&&(this.shortenLabel?this.shortenLabel():(v.width=Math.floor(l),(i.style||{}).textOverflow||(v.textOverflow="ellipsis"),d.css(v)))},getPosition:function(e,i,a,o){var n=this.axis,s=n.chart,r=o&&s.oldChartHeight||s.chartHeight;return e={x:e?t.correctFloat(n.translate(i+a,null,null,o)+n.transB):n.left+n.offset+(n.opposite?(o&&s.oldChartWidth||s.chartWidth)-n.right-n.left:0),y:e?r-n.bottom+n.offset-(n.opposite?n.height:0):t.correctFloat(r-n.translate(i+a,null,null,o)-n.transB)},e.y=Math.max(Math.min(e.y,1e5),-1e5),l(this,"afterGetPosition",{pos:e}),e},getLabelPosition:function(t,e,a,o,n,s,r,d){var c=this.axis,p=c.transA,u=c.isLinked&&c.linkedParent?c.linkedParent.reversed:c.reversed,f=c.staggerLines,m=c.tickRotCorr||{x:0,y:0},g=n.y,v=o||c.reserveSpaceDefault?0:-c.labelOffset*("center"===c.labelAlign?.5:1),y={};return i(g)||(g=0===c.side?a.rotation?-8:-a.getBBox().height:2===c.side?m.y+8:Math.cos(a.rotation*h)*(m.y-a.getBBox(!1,0).height/2)),t=t+n.x+v+m.x-(s&&o?s*p*(u?-1:1):0),e=e+g-(s&&!o?s*p*(u?1:-1):0),f&&(a=r/(d||1)%f,c.opposite&&(a=f-a-1),e+=c.labelOffset/f*a),y.x=t,y.y=Math.round(e),l(this,"afterGetLabelPosition",{pos:y,tickmarkOffset:s,index:r}),y},getMarkPath:function(t,e,i,a,o,n){return n.crispLine(["M",t,e,"L",t+(o?0:-i),e+(o?i:0)],a)},renderGridLine:function(t,e,i){var a=this.axis,o=a.options,n=this.gridLine,r={},l=this.pos,d=this.type,h=s(this.tickmarkOffset,a.tickmarkOffset),c=a.chart.renderer,p=d?d+"Grid":"grid",u=o[p+"LineWidth"],f=o[p+"LineColor"];o=o[p+"LineDashStyle"],n||(a.chart.styledMode||(r.stroke=f,r["stroke-width"]=u,o&&(r.dashstyle=o)),d||(r.zIndex=1),t&&(e=0),this.gridLine=n=c.path().attr(r).addClass("highcharts-"+(d?d+"-":"")+"grid-line").add(a.gridGroup)),n&&(i=a.getPlotLinePath({value:l+h,lineWidth:n.strokeWidth()*i,force:"pass",old:t}))&&n[t||this.isNew?"attr":"animate"]({d:i,opacity:e})},renderMark:function(t,e,i){var a=this.axis,o=a.options,n=a.chart.renderer,r=this.type,l=r?r+"Tick":"tick",d=a.tickSize(l),h=this.mark,c=!h,p=t.x;t=t.y;var u=s(o[l+"Width"],!r&&a.isXAxis?1:0);o=o[l+"Color"],d&&(a.opposite&&(d[0]=-d[0]),c&&(this.mark=h=n.path().addClass("highcharts-"+(r?r+"-":"")+"tick").add(a.axisGroup),a.chart.styledMode||h.attr({stroke:o,"stroke-width":u})),h[c?"attr":"animate"]({d:this.getMarkPath(p,t,d[0],h.strokeWidth()*i,a.horiz,n),opacity:e}))},renderLabel:function(t,e,i,a){var o=this.axis,r=o.horiz,l=o.options,d=this.label,h=l.labels,c=h.step;o=s(this.tickmarkOffset,o.tickmarkOffset);var p=!0,u=t.x;t=t.y,d&&n(u)&&(d.xy=t=this.getLabelPosition(u,t,d,r,h,o,a,c),this.isFirst&&!this.isLast&&!s(l.showFirstLabel,1)||this.isLast&&!this.isFirst&&!s(l.showLastLabel,1)?p=!1:!r||h.step||h.rotation||e||0===i||this.handleOverflow(t),c&&a%c&&(p=!1),p&&n(t.y)?(t.opacity=i,d[this.isNewLabel?"attr":"animate"](t),this.isNewLabel=!1):(d.attr("y",-9999),this.isNewLabel=!0))},render:function(e,i,a){var o=this.axis,n=o.horiz,r=this.pos,l=s(this.tickmarkOffset,o.tickmarkOffset);r=this.getPosition(n,r,l,i),l=r.x;var d=r.y;o=n&&l===o.pos+o.len||!n&&d===o.pos?-1:1,a=s(a,1),this.isActive=!0,this.renderGridLine(i,a,o),this.renderMark(r,a,o),this.renderLabel(r,i,a,e),this.isNew=!1,t.fireEvent(this,"afterRender")},destroy:function(){a(this,this.axis)}}}),e(i,"parts/Axis.js",[i["parts/Globals.js"],i["parts/Utilities.js"]],function(t,e){var i=e.arrayMax,a=e.arrayMin,o=e.defined,n=e.destroyObjectProperties,s=e.extend,r=e.isArray,l=e.isNumber,d=e.isString,h=e.objectEach,c=e.pick,p=e.splat,u=e.syncTimeout,f=t.addEvent,m=t.animObject,g=t.color,v=t.correctFloat,y=t.defaultOptions,_=t.deg2rad,b=t.fireEvent,M=t.format,x=t.getMagnitude,w=t.merge,k=t.normalizeTickInterval,O=t.removeEvent,C=t.seriesTypes,E=t.Tick;return e=function(){this.init.apply(this,arguments)},s(e.prototype,{defaultOptions:{dateTimeLabelFormats:{millisecond:{main:"%H:%M:%S.%L",range:!1},second:{main:"%H:%M:%S",range:!1},minute:{main:"%H:%M",range:!1},hour:{main:"%H:%M",range:!1},day:{main:"%e. %b"},week:{main:"%e. %b"},month:{main:"%b '%y"},year:{main:"%Y"}},endOnTick:!1,labels:{enabled:!0,indentation:10,x:0,style:{color:"#666666",cursor:"default",fontSize:"11px"}},maxPadding:.01,minorTickLength:2,minorTickPosition:"outside",minPadding:.01,showEmpty:!0,startOfWeek:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickmarkPlacement:"between",tickPosition:"outside",title:{align:"middle",style:{color:"#666666"}},type:"linear",minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#ccd6eb",lineWidth:1,gridLineColor:"#e6e6e6",tickColor:"#ccd6eb"},defaultYAxisOptions:{endOnTick:!0,maxPadding:.05,minPadding:.05,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8},startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{allowOverlap:!1,enabled:!1,crop:!0,overflow:"justify",formatter:function(){return t.numberFormat(this.total,-1)},style:{color:"#000000",fontSize:"11px",fontWeight:"bold",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0},defaultLeftAxisOptions:{labels:{x:-15},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:15},title:{rotation:90}},defaultBottomAxisOptions:{labels:{autoRotation:[-45],x:0},margin:15,title:{rotation:0}},defaultTopAxisOptions:{labels:{autoRotation:[-45],x:0},margin:15,title:{rotation:0}},init:function(e,i){var a=i.isX,n=this;n.chart=e,n.horiz=e.inverted&&!n.isZAxis?!a:a,n.isXAxis=a,n.coll=n.coll||(a?"xAxis":"yAxis"),b(this,"init",{userOptions:i}),n.opposite=i.opposite,n.side=i.side||(n.horiz?n.opposite?0:2:n.opposite?1:3),n.setOptions(i);var s=this.options,r=s.type;n.labelFormatter=s.labels.formatter||n.defaultLabelFormatter,n.userOptions=i,n.minPixelPadding=0,n.reversed=s.reversed,n.visible=!1!==s.visible,n.zoomEnabled=!1!==s.zoomEnabled,n.hasNames="category"===r||!0===s.categories,n.categories=s.categories||n.hasNames,n.names||(n.names=[],n.names.keys={}),n.plotLinesAndBandsGroups={},n.isLog="logarithmic"===r,n.isDatetimeAxis="datetime"===r,n.positiveValuesOnly=n.isLog&&!n.allowNegativeLog,n.isLinked=o(s.linkedTo),n.ticks={},n.labelEdge=[],n.minorTicks={},n.plotLinesAndBands=[],n.alternateBands={},n.len=0,n.minRange=n.userMinRange=s.minRange||s.maxZoom,n.range=s.range,n.offset=s.offset||0,n.stacks={},n.oldStacks={},n.stacksTouched=0,n.max=null,n.min=null,n.crosshair=c(s.crosshair,p(e.options.tooltip.crosshairs)[a?0:1],!1),i=n.options.events,-1===e.axes.indexOf(n)&&(a?e.axes.splice(e.xAxis.length,0,n):e.axes.push(n),e[n.coll].push(n)),n.series=n.series||[],e.inverted&&!n.isZAxis&&a&&void 0===n.reversed&&(n.reversed=!0),h(i,function(e,i){t.isFunction(e)&&f(n,i,e)}),n.lin2log=s.linearToLogConverter||n.lin2log,n.isLog&&(n.val2lin=n.log2lin,n.lin2val=n.lin2log),b(this,"afterInit")},setOptions:function(t){this.options=w(this.defaultOptions,"yAxis"===this.coll&&this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],w(y[this.coll],t)),b(this,"afterSetOptions",{userOptions:t})},defaultLabelFormatter:function(){var e=this.axis,i=this.value,a=e.chart.time,o=e.categories,n=this.dateTimeLabelFormat,s=y.lang,r=s.numericSymbols;s=s.numericSymbolMagnitude||1e3;var l=r&&r.length,d=e.options.labels.format;if(e=e.isLog?Math.abs(i):e.tickInterval,d)var h=M(d,this,a);else if(o)h=i;else if(n)h=a.dateFormat(n,i);else if(l&&1e3<=e)for(;l--&&void 0===h;)a=Math.pow(s,l+1),e>=a&&0==10*i%a&&null!==r[l]&&0!==i&&(h=t.numberFormat(i/a,-1)+r[l]);return void 0===h&&(h=1e4<=Math.abs(i)?t.numberFormat(i,-1):t.numberFormat(i,-1,void 0,"")),h},getSeriesExtremes:function(){var t,e=this,i=e.chart;b(this,"getSeriesExtremes",null,function(){e.hasVisibleSeries=!1,e.dataMin=e.dataMax=e.threshold=null,e.softThreshold=!e.isXAxis,e.buildStacks&&e.buildStacks(),e.series.forEach(function(a){if(a.visible||!i.options.chart.ignoreHiddenSeries){var n=a.options,s=n.threshold;if(e.hasVisibleSeries=!0,e.positiveValuesOnly&&0>=s&&(s=null),e.isXAxis){if(n=a.xData,n.length){t=a.getXExtremes(n);var r=t.min,d=t.max;l(r)||r instanceof Date||(n=n.filter(l),t=a.getXExtremes(n),r=t.min,d=t.max),n.length&&(e.dataMin=Math.min(c(e.dataMin,r),r),e.dataMax=Math.max(c(e.dataMax,d),d))}}else a.getExtremes(),d=a.dataMax,r=a.dataMin,o(r)&&o(d)&&(e.dataMin=Math.min(c(e.dataMin,r),r),e.dataMax=Math.max(c(e.dataMax,d),d)),o(s)&&(e.threshold=s),(!n.softThreshold||e.positiveValuesOnly)&&(e.softThreshold=!1)}})}),b(this,"afterGetSeriesExtremes")},translate:function(t,e,i,a,o,n){var s=this.linkedParent||this,r=1,d=0,h=a?s.oldTransA:s.transA;a=a?s.oldMin:s.min;var c=s.minPixelPadding;return o=(s.isOrdinal||s.isBroken||s.isLog&&o)&&s.lin2val,h||(h=s.transA),i&&(r*=-1,d=s.len),s.reversed&&(r*=-1,d-=r*(s.sector||s.len)),e?(t=(t*r+d-c)/h+a,o&&(t=s.lin2val(t))):(o&&(t=s.val2lin(t)),t=l(a)?r*(t-a)*h+d+r*c+(l(n)?h*n:0):void 0),t},toPixels:function(t,e){return this.translate(t,!1,!this.horiz,null,!0)+(e?0:this.pos)},toValue:function(t,e){return this.translate(t-(e?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(t){var e,i,a,o,n,s=this,r=s.chart,d=s.left,h=s.top,p=t.old,u=t.value,f=t.translatedValue,m=t.lineWidth,g=t.force,v=p&&r.oldChartHeight||r.chartHeight,y=p&&r.oldChartWidth||r.chartWidth,_=s.transB,M=function(t,e,i){return("pass"!==g&&t<e||t>i)&&(g?t=Math.min(Math.max(e,t),i):n=!0),t};return t={value:u,lineWidth:m,old:p,force:g,acrossPanes:t.acrossPanes,translatedValue:f},b(this,"getPlotLinePath",t,function(t){f=c(f,s.translate(u,null,null,p)),f=Math.min(Math.max(-1e5,f),1e5),e=a=Math.round(f+_),i=o=Math.round(v-f-_),l(f)?s.horiz?(i=h,o=v-s.bottom,e=a=M(e,d,d+s.width)):(e=d,a=y-s.right,i=o=M(i,h,h+s.height)):(n=!0,g=!1),t.path=n&&!g?null:r.renderer.crispLine(["M",e,i,"L",a,o],m||1)}),t.path},getLinearTickPositions:function(t,e,i){var a=v(Math.floor(e/t)*t);i=v(Math.ceil(i/t)*t);var o,n=[];if(v(a+t)===a&&(o=20),this.single)return[e];for(e=a;e<=i&&(n.push(e),(e=v(e+t,o))!==s);)var s=e;return n},getMinorTickInterval:function(){var t=this.options;return!0===t.minorTicks?c(t.minorTickInterval,"auto"):!1===t.minorTicks?null:t.minorTickInterval},getMinorTickPositions:function(){var t=this,e=t.options,i=t.tickPositions,a=t.minorTickInterval,o=[],n=t.pointRangePadding||0,s=t.min-n;n=t.max+n;var r=n-s;if(r&&r/a<t.len/3)if(t.isLog)this.paddedTicks.forEach(function(e,i,n){i&&o.push.apply(o,t.getLogTickPositions(a,n[i-1],n[i],!0))});else if(t.isDatetimeAxis&&"auto"===this.getMinorTickInterval())o=o.concat(t.getTimeTicks(t.normalizeTimeTickInterval(a),s,n,e.startOfWeek));else for(e=s+(i[0]-s)%a;e<=n&&e!==o[0];e+=a)o.push(e);return 0!==o.length&&t.trimTicks(o),o},adjustForMinRange:function(){var t,e,n,s,r,l=this.options,d=this.min,h=this.max;if(this.isXAxis&&void 0===this.minRange&&!this.isLog&&(o(l.min)||o(l.max)?this.minRange=null:(this.series.forEach(function(i){for(s=i.xData,e=r=i.xIncrement?1:s.length-1;0<e;e--)n=s[e]-s[e-1],(void 0===t||n<t)&&(t=n)}),this.minRange=Math.min(5*t,this.dataMax-this.dataMin))),h-d<this.minRange){var p=this.dataMax-this.dataMin>=this.minRange,u=this.minRange,f=(u-h+d)/2;f=[d-f,c(l.min,d-f)],p&&(f[2]=this.isLog?this.log2lin(this.dataMin):this.dataMin),d=i(f),h=[d+u,c(l.max,d+u)],p&&(h[2]=this.isLog?this.log2lin(this.dataMax):this.dataMax),h=a(h),h-d<u&&(f[0]=h-u,f[1]=c(l.min,h-u),d=i(f))}this.min=d,this.max=h},getClosest:function(){var t;return this.categories?t=1:this.series.forEach(function(e){var i=e.closestPointRange,a=e.visible||!e.chart.options.chart.ignoreHiddenSeries;!e.noSharedTooltip&&o(i)&&a&&(t=o(t)?Math.min(t,i):i)}),t},nameToX:function(t){var e=r(this.categories),i=e?this.categories:this.names,a=t.options.x;if(t.series.requireSorting=!1,o(a)||(a=!1===this.options.uniqueNames?t.series.autoIncrement():e?i.indexOf(t.name):c(i.keys[t.name],-1)),-1===a){if(!e)var n=i.length}else n=a;return void 0!==n&&(this.names[n]=t.name,this.names.keys[t.name]=n),n},updateNames:function(){var t=this,e=this.names;0<e.length&&(Object.keys(e.keys).forEach(function(t){delete e.keys[t]}),e.length=0,this.minRange=this.userMinRange,(this.series||[]).forEach(function(e){e.xIncrement=null,e.points&&!e.isDirtyData||(t.max=Math.max(t.max,e.xData.length-1),e.processData(),e.generatePoints()),e.data.forEach(function(i,a){if(i&&i.options&&void 0!==i.name){var o=t.nameToX(i);void 0!==o&&o!==i.x&&(i.x=o,e.xData[a]=o)}})}))},setAxisTranslation:function(t){var e=this,i=e.max-e.min,a=e.axisPointRange||0,o=0,n=0,s=e.linkedParent,r=!!e.categories,l=e.transA,h=e.isXAxis;if(h||r||a){var p=e.getClosest();s?(o=s.minPointOffset,n=s.pointRangePadding):e.series.forEach(function(t){var i=r?1:h?c(t.options.pointRange,p,0):e.axisPointRange||0,s=t.options.pointPlacement;a=Math.max(a,i),e.single&&!r||(t=C.xrange&&t instanceof C.xrange?!h:h,o=Math.max(o,t&&d(s)?0:i/2),n=Math.max(n,t&&"on"===s?0:i))}),s=e.ordinalSlope&&p?e.ordinalSlope/p:1,e.minPointOffset=o*=s,e.pointRangePadding=n*=s,e.pointRange=Math.min(a,e.single&&r?1:i),h&&(e.closestPointRange=p)}t&&(e.oldTransA=l),e.translationSlope=e.transA=l=e.staticScale||e.len/(i+n||1),e.transB=e.horiz?e.left:e.bottom,e.minPixelPadding=l*o,b(this,"afterSetAxisTranslation")},minFromRange:function(){return this.max-this.range},setTickInterval:function(e){var i=this,a=i.chart,n=i.options,s=i.isLog,r=i.isDatetimeAxis,d=i.isXAxis,h=i.isLinked,p=n.maxPadding,u=n.minPadding,f=n.tickInterval,m=n.tickPixelInterval,g=i.categories,y=l(i.threshold)?i.threshold:null,_=i.softThreshold;r||g||h||this.getTickAmount();var M=c(i.userMin,n.min),w=c(i.userMax,n.max);if(h){i.linkedParent=a[i.coll][n.linkedTo];var O=i.linkedParent.getExtremes();i.min=c(O.min,O.dataMin),i.max=c(O.max,O.dataMax),n.type!==i.linkedParent.options.type&&t.error(11,1,a)}else{if(!_&&o(y))if(i.dataMin>=y)O=y,u=0;else if(i.dataMax<=y){var C=y;p=0}i.min=c(M,O,i.dataMin),i.max=c(w,C,i.dataMax)}s&&(i.positiveValuesOnly&&!e&&0>=Math.min(i.min,c(i.dataMin,i.min))&&t.error(10,1,a),i.min=v(i.log2lin(i.min),16),i.max=v(i.log2lin(i.max),16)),i.range&&o(i.max)&&(i.userMin=i.min=M=Math.max(i.dataMin,i.minFromRange()),i.userMax=w=i.max,i.range=null),b(i,"foundExtremes"),i.beforePadding&&i.beforePadding(),i.adjustForMinRange(),!(g||i.axisPointRange||i.usePercentage||h)&&o(i.min)&&o(i.max)&&(a=i.max-i.min)&&(!o(M)&&u&&(i.min-=a*u),!o(w)&&p&&(i.max+=a*p)),l(n.softMin)&&!l(i.userMin)&&n.softMin<i.min&&(i.min=M=n.softMin),l(n.softMax)&&!l(i.userMax)&&n.softMax>i.max&&(i.max=w=n.softMax),l(n.floor)&&(i.min=Math.min(Math.max(i.min,n.floor),Number.MAX_VALUE)),l(n.ceiling)&&(i.max=Math.max(Math.min(i.max,n.ceiling),c(i.userMax,-Number.MAX_VALUE))),_&&o(i.dataMin)&&(y=y||0,!o(M)&&i.min<y&&i.dataMin>=y?i.min=i.options.minRange?Math.min(y,i.max-i.minRange):y:!o(w)&&i.max>y&&i.dataMax<=y&&(i.max=i.options.minRange?Math.max(y,i.min+i.minRange):y)),i.tickInterval=i.min===i.max||void 0===i.min||void 0===i.max?1:h&&!f&&m===i.linkedParent.options.tickPixelInterval?f=i.linkedParent.tickInterval:c(f,this.tickAmount?(i.max-i.min)/Math.max(this.tickAmount-1,1):void 0,g?1:(i.max-i.min)*m/Math.max(i.len,m)),d&&!e&&i.series.forEach(function(t){t.processData(i.min!==i.oldMin||i.max!==i.oldMax)}),i.setAxisTranslation(!0),i.beforeSetTickPositions&&i.beforeSetTickPositions(),i.postProcessTickInterval&&(i.tickInterval=i.postProcessTickInterval(i.tickInterval)),i.pointRange&&!f&&(i.tickInterval=Math.max(i.pointRange,i.tickInterval)),e=c(n.minTickInterval,i.isDatetimeAxis&&i.closestPointRange),!f&&i.tickInterval<e&&(i.tickInterval=e),r||s||f||(i.tickInterval=k(i.tickInterval,null,x(i.tickInterval),c(n.allowDecimals,!(.5<i.tickInterval&&5>i.tickInterval&&1e3<i.max&&9999>i.max)),!!this.tickAmount)),this.tickAmount||(i.tickInterval=i.unsquish()),this.setTickPositions()},setTickPositions:function(){var e=this.options,i=e.tickPositions,a=this.getMinorTickInterval(),n=e.tickPositioner,s=e.startOnTick,r=e.endOnTick;this.tickmarkOffset=this.categories&&"between"===e.tickmarkPlacement&&1===this.tickInterval?.5:0,this.minorTickInterval="auto"===a&&this.tickInterval?this.tickInterval/5:a,this.single=this.min===this.max&&o(this.min)&&!this.tickAmount&&(parseInt(this.min,10)===this.min||!1!==e.allowDecimals),this.tickPositions=a=i&&i.slice(),!a&&(!this.ordinalPositions&&(this.max-this.min)/this.tickInterval>Math.max(2*this.len,200)?(a=[this.min,this.max],t.error(19,!1,this.chart)):a=this.isDatetimeAxis?this.getTimeTicks(this.normalizeTimeTickInterval(this.tickInterval,e.units),this.min,this.max,e.startOfWeek,this.ordinalPositions,this.closestPointRange,!0):this.isLog?this.getLogTickPositions(this.tickInterval,this.min,this.max):this.getLinearTickPositions(this.tickInterval,this.min,this.max),a.length>this.len&&(a=[a[0],a.pop()],a[0]===a[1]&&(a.length=1)),this.tickPositions=a,n&&(n=n.apply(this,[this.min,this.max])))&&(this.tickPositions=a=n),this.paddedTicks=a.slice(0),this.trimTicks(a,s,r),this.isLinked||(this.single&&2>a.length&&!this.categories&&(this.min-=.5,this.max+=.5),i||n||this.adjustTickAmount()),b(this,"afterSetTickPositions")},trimTicks:function(t,e,i){var a=t[0],n=t[t.length-1],s=this.minPointOffset||0;if(b(this,"trimTicks"),!this.isLinked){if(e&&-1/0!==a)this.min=a;else for(;this.min-s>t[0];)t.shift();if(i)this.max=n;else for(;this.max+s<t[t.length-1];)t.pop();0===t.length&&o(a)&&!this.options.tickPositions&&t.push((n+a)/2)}},alignToOthers:function(){var t,e={},i=this.options;return!1===this.chart.options.chart.alignTicks||!1===i.alignTicks||!1===i.startOnTick||!1===i.endOnTick||this.isLog||this.chart[this.coll].forEach(function(i){var a=i.options;a=[i.horiz?a.left:a.top,a.width,a.height,a.pane].join(),i.series.length&&(e[a]?t=!0:e[a]=1)}),t},getTickAmount:function(){var t=this.options,e=t.tickAmount,i=t.tickPixelInterval;!o(t.tickInterval)&&this.len<i&&!this.isRadial&&!this.isLog&&t.startOnTick&&t.endOnTick&&(e=2),!e&&this.alignToOthers()&&(e=Math.ceil(this.len/i)+1),4>e&&(this.finalTickAmt=e,e=5),this.tickAmount=e},adjustTickAmount:function(){var t,e=this.options,i=this.tickInterval,a=this.tickPositions,n=this.tickAmount,s=this.finalTickAmt,r=a&&a.length,l=c(this.threshold,this.softThreshold?0:null);if(this.hasData()){if(r<n){for(t=this.min;a.length<n;)a.length%2||t===l?a.push(v(a[a.length-1]+i)):a.unshift(v(a[0]-i));this.transA*=(r-1)/(n-1),this.min=e.startOnTick?a[0]:Math.min(this.min,a[0]),this.max=e.endOnTick?a[a.length-1]:Math.max(this.max,a[a.length-1])}else r>n&&(this.tickInterval*=2,this.setTickPositions());if(o(s)){for(i=e=a.length;i--;)(3===s&&1==i%2||2>=s&&0<i&&i<e-1)&&a.splice(i,1);this.finalTickAmt=void 0}}},setScale:function(){var t,e=this.series.some(function(t){return t.isDirtyData||t.isDirty||t.xAxis&&t.xAxis.isDirty});this.oldMin=this.min,this.oldMax=this.max,this.oldAxisLength=this.len,this.setAxisSize(),(t=this.len!==this.oldAxisLength)||e||this.isLinked||this.forceRedraw||this.userMin!==this.oldUserMin||this.userMax!==this.oldUserMax||this.alignToOthers()?(this.resetStacks&&this.resetStacks(),this.forceRedraw=!1,this.getSeriesExtremes(),this.setTickInterval(),this.oldUserMin=this.userMin,this.oldUserMax=this.userMax,this.isDirty||(this.isDirty=t||this.min!==this.oldMin||this.max!==this.oldMax)):this.cleanStacks&&this.cleanStacks(),b(this,"afterSetScale")},setExtremes:function(t,e,i,a,o){var n=this,r=n.chart;i=c(i,!0),n.series.forEach(function(t){delete t.kdTree}),o=s(o,{min:t,max:e}),b(n,"setExtremes",o,function(){n.userMin=t,n.userMax=e,n.eventArgs=o,i&&r.redraw(a)})},zoom:function(t,e){var i=this.dataMin,a=this.dataMax,n=this.options,s=Math.min(i,c(n.min,i)),r=Math.max(a,c(n.max,a));return t={newMin:t,newMax:e},b(this,"zoom",t,function(t){var e=t.newMin,n=t.newMax;e===this.min&&n===this.max||(this.allowZoomOutside||(o(i)&&(e<s&&(e=s),e>r&&(e=r)),o(a)&&(n<s&&(n=s),n>r&&(n=r))),this.displayBtn=void 0!==e||void 0!==n,this.setExtremes(e,n,!1,void 0,{trigger:"zoom"})),t.zoomed=!0}),t.zoomed},setAxisSize:function(){var e=this.chart,i=this.options,a=i.offsets||[0,0,0,0],o=this.horiz,n=this.width=Math.round(t.relativeLength(c(i.width,e.plotWidth-a[3]+a[1]),e.plotWidth)),s=this.height=Math.round(t.relativeLength(c(i.height,e.plotHeight-a[0]+a[2]),e.plotHeight)),r=this.top=Math.round(t.relativeLength(c(i.top,e.plotTop+a[0]),e.plotHeight,e.plotTop));i=this.left=Math.round(t.relativeLength(c(i.left,e.plotLeft+a[3]),e.plotWidth,e.plotLeft)),this.bottom=e.chartHeight-s-r,this.right=e.chartWidth-n-i,this.len=Math.max(o?n:s,0),this.pos=o?i:r},getExtremes:function(){var t=this.isLog;return{min:t?v(this.lin2log(this.min)):this.min,max:t?v(this.lin2log(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},getThreshold:function(t){var e=this.isLog,i=e?this.lin2log(this.min):this.min;return e=e?this.lin2log(this.max):this.max,null===t||-1/0===t?t=i:1/0===t?t=e:i>t?t=i:e<t&&(t=e),this.translate(t,0,1,0,1)},autoLabelAlign:function(t){var e=(c(t,0)-90*this.side+720)%360;return t={align:"center"},b(this,"autoLabelAlign",t,function(t){15<e&&165>e?t.align="right":195<e&&345>e&&(t.align="left")}),t.align},tickSize:function(t){var e=this.options,i=e[t+"Length"],a=c(e[t+"Width"],"tick"===t&&this.isXAxis&&!this.categories?1:0);if(a&&i){"inside"===e[t+"Position"]&&(i=-i);var o=[i,a]}return t={tickSize:o},b(this,"afterTickSize",t),t.tickSize},labelMetrics:function(){var t=this.tickPositions&&this.tickPositions[0]||0;return this.chart.renderer.fontMetrics(this.options.labels.style&&this.options.labels.style.fontSize,this.ticks[t]&&this.ticks[t].label)},unsquish:function(){var t,e,i,a=this.options.labels,n=this.horiz,s=this.tickInterval,r=s,l=this.len/(((this.categories?1:0)+this.max-this.min)/s),d=a.rotation,h=this.labelMetrics(),p=Number.MAX_VALUE,u=this.max-this.min,f=function(t){var e=t/(l||1);return e=1<e?Math.ceil(e):1,e*s>u&&1/0!==t&&1/0!==l&&u&&(e=Math.ceil(u/s)),v(e*s)};return n?(i=!a.staggerLines&&!a.step&&(o(d)?[d]:l<c(a.autoRotationLimit,80)&&a.autoRotation))&&i.forEach(function(i){if(i===d||i&&-90<=i&&90>=i){e=f(Math.abs(h.h/Math.sin(_*i)));var a=e+Math.abs(i/360);a<p&&(p=a,t=i,r=e)}}):a.step||(r=f(h.h)),this.autoRotation=i,this.labelRotation=c(t,d),r},getSlotWidth:function(t){var e=this.chart,i=this.horiz,a=this.options.labels,o=Math.max(this.tickPositions.length-(this.categories?0:1),1),n=e.margin[3];return t&&t.slotWidth||i&&2>(a.step||0)&&!a.rotation&&(this.staggerLines||1)*this.len/o||!i&&(a.style&&parseInt(a.style.width,10)||n&&n-e.spacing[3]||.33*e.chartWidth)},renderUnsquish:function(){var t=this.chart,e=t.renderer,i=this.tickPositions,a=this.ticks,o=this.options.labels,n=o&&o.style||{},s=this.horiz,r=this.getSlotWidth(),l=Math.max(1,Math.round(r-2*(o.padding||5))),h={},c=this.labelMetrics(),p=o.style&&o.style.textOverflow,u=0;if(d(o.rotation)||(h.rotation=o.rotation||0),i.forEach(function(t){(t=a[t])&&t.label&&t.label.textPxLength>u&&(u=t.label.textPxLength)}),this.maxLabelLength=u,this.autoRotation)u>l&&u>c.h?h.rotation=this.labelRotation:this.labelRotation=0;else if(r){var f=l;if(!p){var m="clip";for(l=i.length;!s&&l--;){var g=i[l];(g=a[g].label)&&(g.styles&&"ellipsis"===g.styles.textOverflow?g.css({textOverflow:"clip"}):g.textPxLength>r&&g.css({width:r+"px"}),g.getBBox().height>this.len/i.length-(c.h-c.f)&&(g.specificTextOverflow="ellipsis"))}}}h.rotation&&(f=u>.5*t.chartHeight?.33*t.chartHeight:u,p||(m="ellipsis")),(this.labelAlign=o.align||this.autoLabelAlign(this.labelRotation))&&(h.align=this.labelAlign),i.forEach(function(t){var e=(t=a[t])&&t.label,i=n.width,o={};e&&(e.attr(h),t.shortenLabel?t.shortenLabel():f&&!i&&"nowrap"!==n.whiteSpace&&(f<e.textPxLength||"SPAN"===e.element.tagName)?(o.width=f,p||(o.textOverflow=e.specificTextOverflow||m),e.css(o)):e.styles&&e.styles.width&&!o.width&&!i&&e.css({width:null}),delete e.specificTextOverflow,t.rotation=h.rotation)},this),this.tickRotCorr=e.rotCorr(c.b,this.labelRotation||0,0!==this.side)},hasData:function(){return this.series.some(function(t){return t.hasData()})||this.options.showEmpty&&o(this.min)&&o(this.max)},addTitle:function(t){var e,i=this.chart.renderer,a=this.horiz,o=this.opposite,n=this.options.title,s=this.chart.styledMode;this.axisTitle||((e=n.textAlign)||(e=(a?{low:"left",middle:"center",high:"right"}:{low:o?"right":"left",middle:"center",high:o?"left":"right"})[n.align]),this.axisTitle=i.text(n.text,0,0,n.useHTML).attr({zIndex:7,rotation:n.rotation||0,align:e}).addClass("highcharts-axis-title"),s||this.axisTitle.css(w(n.style)),this.axisTitle.add(this.axisGroup),this.axisTitle.isNew=!0),s||n.style.width||this.isRadial||this.axisTitle.css({width:this.len}),this.axisTitle[t?"show":"hide"](t)},generateTick:function(t){var e=this.ticks;e[t]?e[t].addLabel():e[t]=new E(this,t)},getOffset:function(){var t,e=this,i=e.chart,a=i.renderer,n=e.options,s=e.tickPositions,r=e.ticks,l=e.horiz,d=e.side,p=i.inverted&&!e.isZAxis?[1,0,3,2][d]:d,u=0,f=0,m=n.title,g=n.labels,v=0,y=i.axisOffset;i=i.clipOffset;var _=[-1,1,1,-1][d],M=n.className,x=e.axisParent,w=e.hasData();if(e.showAxis=t=w||c(n.showEmpty,!0),e.staggerLines=e.horiz&&g.staggerLines,e.axisGroup||(e.gridGroup=a.g("grid").attr({zIndex:n.gridZIndex||1}).addClass("highcharts-"+this.coll.toLowerCase()+"-grid "+(M||"")).add(x),e.axisGroup=a.g("axis").attr({zIndex:n.zIndex||2}).addClass("highcharts-"+this.coll.toLowerCase()+" "+(M||"")).add(x),e.labelGroup=a.g("axis-labels").attr({zIndex:g.zIndex||7}).addClass("highcharts-"+e.coll.toLowerCase()+"-labels "+(M||"")).add(x)),w||e.isLinked?(s.forEach(function(t,i){e.generateTick(t,i)}),e.renderUnsquish(),e.reserveSpaceDefault=0===d||2===d||{1:"left",3:"right"}[d]===e.labelAlign,c(g.reserveSpace,"center"===e.labelAlign||null,e.reserveSpaceDefault)&&s.forEach(function(t){v=Math.max(r[t].getLabelSize(),v)}),e.staggerLines&&(v*=e.staggerLines),e.labelOffset=v*(e.opposite?-1:1)):h(r,function(t,e){t.destroy(),delete r[e]}),m&&m.text&&!1!==m.enabled&&(e.addTitle(t),t&&!1!==m.reserveSpace)){e.titleOffset=u=e.axisTitle.getBBox()[l?"height":"width"];var k=m.offset;f=o(k)?0:c(m.margin,l?5:10)}e.renderLine(),e.offset=_*c(n.offset,y[d]?y[d]+(n.margin||0):0),e.tickRotCorr=e.tickRotCorr||{x:0,y:0},a=0===d?-e.labelMetrics().h:2===d?e.tickRotCorr.y:0,f=Math.abs(v)+f,v&&(f=f-a+_*(l?c(g.y,e.tickRotCorr.y+8*_):g.x)),e.axisTitleMargin=c(k,f),e.getMaxLabelDimensions&&(e.maxLabelDimensions=e.getMaxLabelDimensions(r,s)),l=this.tickSize("tick"),y[d]=Math.max(y[d],e.axisTitleMargin+u+_*e.offset,f,s&&s.length&&l?l[0]+_*e.offset:0),n=n.offset?0:2*Math.floor(e.axisLine.strokeWidth()/2),i[p]=Math.max(i[p],n),b(this,"afterGetOffset")},getLinePath:function(t){var e=this.chart,i=this.opposite,a=this.offset,o=this.horiz,n=this.left+(i?this.width:0)+a;return a=e.chartHeight-this.bottom-(i?this.height:0)+a,i&&(t*=-1),e.renderer.crispLine(["M",o?this.left:n,o?a:this.top,"L",o?e.chartWidth-this.right:n,o?a:e.chartHeight-this.bottom],t)},renderLine:function(){this.axisLine||(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.chart.styledMode||this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))},getTitlePosition:function(){var t=this.horiz,e=this.left,i=this.top,a=this.len,o=this.options.title,n=t?e:i,s=this.opposite,r=this.offset,l=o.x||0,d=o.y||0,h=this.axisTitle,c=this.chart.renderer.fontMetrics(o.style&&o.style.fontSize,h);return h=Math.max(h.getBBox(null,0).height-c.h-1,0),a={low:n+(t?0:a),middle:n+a/2,high:n+(t?a:0)}[o.align],e=(t?i+this.height:e)+(t?1:-1)*(s?-1:1)*this.axisTitleMargin+[-h,h,c.f,-h][this.side],t={x:t?a+l:e+(s?this.width:0)+r+l,y:t?e+d-(s?this.height:0)+r:a+d},b(this,"afterGetTitlePosition",{titlePosition:t}),t},renderMinorTick:function(t){var e=this.chart.hasRendered&&l(this.oldMin),i=this.minorTicks;i[t]||(i[t]=new E(this,t,"minor")),e&&i[t].isNew&&i[t].render(null,!0),i[t].render(null,!1,1)},renderTick:function(t,e){var i=this.isLinked,a=this.ticks,o=this.chart.hasRendered&&l(this.oldMin);(!i||t>=this.min&&t<=this.max)&&(a[t]||(a[t]=new E(this,t)),o&&a[t].isNew&&a[t].render(e,!0,-1),a[t].render(e))},render:function(){var e,i,a=this,o=a.chart,n=a.options,s=a.isLog,r=a.isLinked,d=a.tickPositions,c=a.axisTitle,p=a.ticks,f=a.minorTicks,g=a.alternateBands,v=n.stackLabels,y=n.alternateGridColor,_=a.tickmarkOffset,M=a.axisLine,x=a.showAxis,w=m(o.renderer.globalAnimation);a.labelEdge.length=0,a.overlap=!1,[p,f,g].forEach(function(t){h(t,function(t){t.isActive=!1})}),(a.hasData()||r)&&(a.minorTickInterval&&!a.categories&&a.getMinorTickPositions().forEach(function(t){a.renderMinorTick(t)}),d.length&&(d.forEach(function(t,e){a.renderTick(t,e)}),_&&(0===a.min||a.single)&&(p[-1]||(p[-1]=new E(a,-1,null,!0)),p[-1].render(-1))),y&&d.forEach(function(n,r){i=void 0!==d[r+1]?d[r+1]+_:a.max-_,0==r%2&&n<a.max&&i<=a.max+(o.polar?-_:_)&&(g[n]||(g[n]=new t.PlotLineOrBand(a)),e=n+_,g[n].options={from:s?a.lin2log(e):e,to:s?a.lin2log(i):i,color:y},g[n].render(),g[n].isActive=!0)}),a._addedPlotLB||((n.plotLines||[]).concat(n.plotBands||[]).forEach(function(t){a.addPlotBandOrLine(t)}),a._addedPlotLB=!0)),[p,f,g].forEach(function(t){var e,i=[],a=w.duration;h(t,function(t,e){t.isActive||(t.render(e,!1,0),t.isActive=!1,i.push(e))}),u(function(){for(e=i.length;e--;)t[i[e]]&&!t[i[e]].isActive&&(t[i[e]].destroy(),delete t[i[e]])},t!==g&&o.hasRendered&&a?a:0)}),M&&(M[M.isPlaced?"animate":"attr"]({d:this.getLinePath(M.strokeWidth())}),M.isPlaced=!0,M[x?"show":"hide"](x)),c&&x&&(n=a.getTitlePosition(),l(n.y)?(c[c.isNew?"attr":"animate"](n),c.isNew=!1):(c.attr("y",-9999),c.isNew=!0)),v&&v.enabled&&a.renderStackTotals(),a.isDirty=!1,b(this,"afterRender")},redraw:function(){this.visible&&(this.render(),this.plotLinesAndBands.forEach(function(t){t.render()})),this.series.forEach(function(t){t.isDirty=!0})},keepProps:"extKey hcEvents names series userMax userMin".split(" "),destroy:function(t){var e,i=this,a=i.stacks,o=i.plotLinesAndBands;if(b(this,"destroy",{keepEvents:t}),t||O(i),h(a,function(t,e){n(t),a[e]=null}),[i.ticks,i.minorTicks,i.alternateBands].forEach(function(t){n(t)}),o)for(t=o.length;t--;)o[t].destroy();"stackTotalGroup axisLine axisTitle axisGroup gridGroup labelGroup cross scrollbar".split(" ").forEach(function(t){i[t]&&(i[t]=i[t].destroy())});for(e in i.plotLinesAndBandsGroups)i.plotLinesAndBandsGroups[e]=i.plotLinesAndBandsGroups[e].destroy();h(i,function(t,e){-1===i.keepProps.indexOf(e)&&delete i[e]})},drawCrosshair:function(t,e){var i,a,n=this.crosshair,s=c(n.snap,!0),r=this.cross;if(b(this,"drawCrosshair",{e:t,point:e}),t||(t=this.cross&&this.cross.e),this.crosshair&&!1!==(o(e)||!s)){if(s?o(e)&&(a=c("colorAxis"!==this.coll?e.crosshairPos:null,this.isXAxis?e.plotX:this.len-e.plotY)):a=t&&(this.horiz?t.chartX-this.pos:this.len-t.chartY+this.pos),o(a)&&(i=this.getPlotLinePath({value:e&&(this.isXAxis?e.x:c(e.stackY,e.y)),translatedValue:a})||null),!o(i))return void this.hideCrosshair();s=this.categories&&!this.isRadial,r||(this.cross=r=this.chart.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(s?"category ":"thin ")+n.className).attr({zIndex:c(n.zIndex,2)}).add(),this.chart.styledMode||(r.attr({stroke:n.color||(s?g("#ccd6eb").setOpacity(.25).get():"#cccccc"),"stroke-width":c(n.width,1)}).css({"pointer-events":"none"}),n.dashStyle&&r.attr({dashstyle:n.dashStyle}))),r.show().attr({d:i}),s&&!n.width&&r.attr({"stroke-width":this.transA}),this.cross.e=t}else this.hideCrosshair();b(this,"afterDrawCrosshair",{e:t,point:e})},hideCrosshair:function(){this.cross&&this.cross.hide(),b(this,"afterHideCrosshair")}}),t.Axis=e}),e(i,"parts/DateTimeAxis.js",[i["parts/Globals.js"]],function(t){var e=t.Axis,i=t.getMagnitude,a=t.normalizeTickInterval,o=t.timeUnits;e.prototype.getTimeTicks=function(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)},e.prototype.normalizeTimeTickInterval=function(t,e){var n=e||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]];e=n[n.length-1];var s,r=o[e[0]],l=e[1];for(s=0;s<n.length&&(e=n[s],r=o[e[0]],l=e[1],!(n[s+1]&&t<=(r*l[l.length-1]+o[n[s+1][0]])/2));s++);return r===o.year&&t<5*r&&(l=[1,2,5]),t=a(t/r,l,"year"===e[0]?Math.max(i(t/r),1):1),{unitRange:r,count:t,unitName:e[0]}}}),e(i,"parts/LogarithmicAxis.js",[i["parts/Globals.js"],i["parts/Utilities.js"]],function(t,e){var i=e.pick;e=t.Axis;var a=t.getMagnitude,o=t.normalizeTickInterval;e.prototype.getLogTickPositions=function(t,e,n,s){var r=this.options,l=this.len,d=[];if(s||(this._minorAutoInterval=null),.5<=t)t=Math.round(t),d=this.getLinearTickPositions(t,e,n);else if(.08<=t){l=Math.floor(e);var h,c;for(r=.3<t?[1,2,4]:.15<t?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];l<n+1&&!c;l++){var p=r.length;for(h=0;h<p&&!c;h++){var u=this.log2lin(this.lin2log(l)*r[h]);u>e&&(!s||f<=n)&&void 0!==f&&d.push(f),f>n&&(c=!0);var f=u}}}else e=this.lin2log(e),n=this.lin2log(n),t=s?this.getMinorTickInterval():r.tickInterval,t=i("auto"===t?null:t,this._minorAutoInterval,r.tickPixelInterval/(s?5:1)*(n-e)/((s?l/this.tickPositions.length:l)||1)),t=o(t,null,a(t)),d=this.getLinearTickPositions(t,e,n).map(this.log2lin),s||(this._minorAutoInterval=t/5);return s||(this.tickInterval=t),d},e.prototype.log2lin=function(t){return Math.log(t)/Math.LN10},e.prototype.lin2log=function(t){return Math.pow(10,t)}}),e(i,"parts/PlotLineOrBand.js",[i["parts/Globals.js"],i["parts/Axis.js"],i["parts/Utilities.js"]],function(t,e,i){var a=i.arrayMax,o=i.arrayMin,n=i.defined,s=i.destroyObjectProperties,r=i.erase,l=i.extend,d=i.objectEach,h=i.pick,c=t.merge;t.PlotLineOrBand=function(t,e){this.axis=t,e&&(this.options=e,this.id=e.id)},t.PlotLineOrBand.prototype={render:function(){t.fireEvent(this,"render");var e=this,i=e.axis,a=i.horiz,o=e.options,s=o.label,r=e.label,l=o.to,p=o.from,u=o.value,f=n(p)&&n(l),m=n(u),g=e.svgElem,v=!g,y=[],_=o.color,b=h(o.zIndex,0),M=o.events;y={class:"highcharts-plot-"+(f?"band ":"line ")+(o.className||"")};var x={},w=i.chart.renderer,k=f?"bands":"lines";if(i.isLog&&(p=i.log2lin(p),l=i.log2lin(l),u=i.log2lin(u)),i.chart.styledMode||(m?(y.stroke=_||"#999999",y["stroke-width"]=h(o.width,1),o.dashStyle&&(y.dashstyle=o.dashStyle)):f&&(y.fill=_||"#e6ebf5",o.borderWidth&&(y.stroke=o.borderColor,y["stroke-width"]=o.borderWidth))),x.zIndex=b,k+="-"+b,(_=i.plotLinesAndBandsGroups[k])||(i.plotLinesAndBandsGroups[k]=_=w.g("plot-"+k).attr(x).add()),v&&(e.svgElem=g=w.path().attr(y).add(_)),m)y=i.getPlotLinePath({value:u,lineWidth:g.strokeWidth(),acrossPanes:o.acrossPanes});else{if(!f)return;y=i.getPlotBandPath(p,l,o)}return(v||!g.d)&&y&&y.length?(g.attr({d:y}),M&&d(M,function(t,i){g.on(i,function(t){M[i].apply(e,[t])})})):g&&(y?(g.show(!0),g.animate({d:y})):g.d&&(g.hide(),r&&(e.label=r=r.destroy()))),s&&(n(s.text)||n(s.formatter))&&y&&y.length&&0<i.width&&0<i.height&&!y.isFlat?(s=c({align:a&&f&&"center",x:a?!f&&4:10,verticalAlign:!a&&f&&"middle",y:a?f?16:10:f?6:-4,rotation:a&&!f&&90},s),this.renderLabel(s,y,f,b)):r&&r.hide(),e},renderLabel:function(t,e,i,n){var s=this.label,r=this.axis.chart.renderer;s||(s={align:t.textAlign||t.align,rotation:t.rotation,class:"highcharts-plot-"+(i?"band":"line")+"-label "+(t.className||"")},s.zIndex=n,n=this.getLabelText(t),this.label=s=r.text(n,0,0,t.useHTML).attr(s).add(),this.axis.chart.styledMode||s.css(t.style)),r=e.xBounds||[e[1],e[4],i?e[6]:e[1]],e=e.yBounds||[e[2],e[5],i?e[7]:e[2]],i=o(r),n=o(e),s.align(t,!1,{x:i,y:n,width:a(r)-i,height:a(e)-n}),s.show(!0)},getLabelText:function(t){return n(t.formatter)?t.formatter.call(this):t.text},destroy:function(){r(this.axis.plotLinesAndBands,this),delete this.axis,s(this)}},l(e.prototype,{getPlotBandPath:function(t,e){var i=this.getPlotLinePath({value:e,force:!0,acrossPanes:this.options.acrossPanes}),a=this.getPlotLinePath({value:t,force:!0,acrossPanes:this.options.acrossPanes}),o=[],n=this.horiz,s=1;if(t=t<this.min&&e<this.min||t>this.max&&e>this.max,a&&i){if(t){var r=a.toString()===i.toString();s=0}for(t=0;t<a.length;t+=6)n&&i[t+1]===a[t+1]?(i[t+1]+=s,i[t+4]+=s):n||i[t+2]!==a[t+2]||(i[t+2]+=s,i[t+5]+=s),o.push("M",a[t+1],a[t+2],"L",a[t+4],a[t+5],i[t+4],i[t+5],i[t+1],i[t+2],"z"),o.isFlat=r}return o},addPlotBand:function(t){return this.addPlotBandOrLine(t,"plotBands")},addPlotLine:function(t){return this.addPlotBandOrLine(t,"plotLines")},addPlotBandOrLine:function(e,i){var a=new t.PlotLineOrBand(this,e).render(),o=this.userOptions;if(a){if(i){var n=o[i]||[];n.push(e),o[i]=n}this.plotLinesAndBands.push(a)}return a},removePlotBandOrLine:function(t){for(var e=this.plotLinesAndBands,i=this.options,a=this.userOptions,o=e.length;o--;)e[o].id===t&&e[o].destroy();[i.plotLines||[],a.plotLines||[],i.plotBands||[],a.plotBands||[]].forEach(function(e){for(o=e.length;o--;)e[o].id===t&&r(e,e[o])})},removePlotBand:function(t){this.removePlotBandOrLine(t)},removePlotLine:function(t){this.removePlotBandOrLine(t)}})}),e(i,"parts/Tooltip.js",[i["parts/Globals.js"],i["parts/Utilities.js"]],function(t,e){var i=e.defined,a=e.discardElement,o=e.extend,n=e.isNumber,s=e.isString,r=e.pick,l=e.splat,d=e.syncTimeout,h=t.doc,c=t.format,p=t.merge,u=t.timeUnits;t.Tooltip=function(){this.init.apply(this,arguments)},t.Tooltip.prototype={init:function(t,e){this.chart=t,this.options=e,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.split=e.split&&!t.inverted,this.shared=e.shared||this.split,this.outside=r(e.outside,!(!t.scrollablePixelsX&&!t.scrollablePixelsY))},cleanSplit:function(t){this.chart.series.forEach(function(e){var i=e&&e.tt;i&&(!i.isActive||t?e.tt=i.destroy():i.isActive=!1)})},applyFilter:function(){var t=this.chart;t.renderer.definition({tagName:"filter",id:"drop-shadow-"+t.index,opacity:.5,children:[{tagName:"feGaussianBlur",in:"SourceAlpha",stdDeviation:1},{tagName:"feOffset",dx:1,dy:1},{tagName:"feComponentTransfer",children:[{tagName:"feFuncA",type:"linear",slope:.3}]},{tagName:"feMerge",children:[{tagName:"feMergeNode"},{tagName:"feMergeNode",in:"SourceGraphic"}]}]}),t.renderer.definition({tagName:"style",textContent:".highcharts-tooltip-"+t.index+"{filter:url(#drop-shadow-"+t.index+")}"})},getLabel:function(){var e,a=this,o=this.chart.renderer,n=this.chart.styledMode,s=this.options,r="tooltip"+(i(s.className)?" "+s.className:"");if(!this.label){if(this.outside&&(this.container=e=t.doc.createElement("div"),e.className="highcharts-tooltip-container",t.css(e,{position:"absolute",top:"1px",pointerEvents:s.style&&s.style.pointerEvents,zIndex:3}),t.doc.body.appendChild(e),this.renderer=o=new t.Renderer(e,0,0,{},void 0,void 0,o.styledMode)),this.split?this.label=o.g(r):(this.label=o.label("",0,0,s.shape||"callout",null,null,s.useHTML,null,r).attr({padding:s.padding,r:s.borderRadius}),n||this.label.attr({fill:s.backgroundColor,"stroke-width":s.borderWidth}).css(s.style).shadow(s.shadow)),n&&(this.applyFilter(),this.label.addClass("highcharts-tooltip-"+this.chart.index)),a.outside&&!a.split){var l={x:this.label.xSetter,y:this.label.ySetter};this.label.xSetter=function(t,i){l[i].call(this.label,a.distance),e.style.left=t+"px"},this.label.ySetter=function(t,i){l[i].call(this.label,a.distance),e.style.top=t+"px"}}this.label.attr({zIndex:8}).add()}return this.label},update:function(t){this.destroy(),p(!0,this.chart.options.tooltip.userOptions,t),this.init(this.chart,p(!0,this.options,t))},destroy:function(){this.label&&(this.label=this.label.destroy()),this.split&&this.tt&&(this.cleanSplit(this.chart,!0),this.tt=this.tt.destroy()),this.renderer&&(this.renderer=this.renderer.destroy(),a(this.container)),t.clearTimeout(this.hideTimer),t.clearTimeout(this.tooltipTimeout)},move:function(e,i,a,n){var s=this,r=s.now,l=!1!==s.options.animation&&!s.isHidden&&(1<Math.abs(e-r.x)||1<Math.abs(i-r.y)),d=s.followPointer||1<s.len;o(r,{x:l?(2*r.x+e)/3:e,y:l?(r.y+i)/2:i,anchorX:d?void 0:l?(2*r.anchorX+a)/3:a,anchorY:d?void 0:l?(r.anchorY+n)/2:n}),s.getLabel().attr(r),l&&(t.clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){s&&s.move(e,i,a,n)},32))},hide:function(e){var i=this;t.clearTimeout(this.hideTimer),e=r(e,this.options.hideDelay,500),this.isHidden||(this.hideTimer=d(function(){i.getLabel()[e?"fadeOut":"hide"](),i.isHidden=!0},e))},getAnchor:function(t,e){var i,a,o=this.chart,n=o.pointer,s=o.inverted,r=o.plotTop,d=o.plotLeft,h=0,c=0;return t=l(t),this.followPointer&&e?(void 0===e.chartX&&(e=n.normalize(e)),t=[e.chartX-o.plotLeft,e.chartY-r]):t[0].tooltipPos?t=t[0].tooltipPos:(t.forEach(function(t){i=t.series.yAxis,a=t.series.xAxis,h+=t.plotX+(!s&&a?a.left-d:0),c+=(t.plotLow?(t.plotLow+t.plotHigh)/2:t.plotY)+(!s&&i?i.top-r:0)}),h/=t.length,c/=t.length,t=[s?o.plotWidth-c:h,this.shared&&!s&&1<t.length&&e?e.chartY-r:s?o.plotHeight-h:c]),t.map(Math.round)},getPosition:function(t,e,i){var a,o=this.chart,n=this.distance,s={},l=o.inverted&&i.h||0,d=this.outside,c=d?h.documentElement.clientWidth-2*n:o.chartWidth,p=d?Math.max(h.body.scrollHeight,h.documentElement.scrollHeight,h.body.offsetHeight,h.documentElement.offsetHeight,h.documentElement.clientHeight):o.chartHeight,u=o.pointer.getChartPosition(),f=o.containerScaling,m=function(t){return f?t*f.scaleX:t},g=function(t){return f?t*f.scaleY:t},v=function(a){var s="x"===a;return[a,s?c:p,s?t:e].concat(d?[s?m(t):g(e),s?u.left-n+m(i.plotX+o.plotLeft):u.top-n+g(i.plotY+o.plotTop),0,s?c:p]:[s?t:e,s?i.plotX+o.plotLeft:i.plotY+o.plotTop,s?o.plotLeft:o.plotTop,s?o.plotLeft+o.plotWidth:o.plotTop+o.plotHeight])},y=v("y"),_=v("x"),b=!this.followPointer&&r(i.ttBelow,!o.inverted==!!i.negative),M=function(t,e,i,a,o,r,d){var h="y"===t?g(n):m(n),c=(i-a)/2,p=a<o-n,u=o+n+a<e,f=o-h-i+c;if(o=o+h-c,b&&u)s[t]=o;else if(!b&&p)s[t]=f;else if(p)s[t]=Math.min(d-a,0>f-l?f:f-l);else{if(!u)return!1;s[t]=Math.max(r,o+l+i>e?o:o+l)}},x=function(t,e,i,a,o){var r;return o<n||o>e-n?r=!1:s[t]=o<i/2?1:o>e-a/2?e-a-2:o-i/2,r},w=function(t){var e=y;y=_,_=e,a=t},k=function(){!1!==M.apply(0,y)?!1!==x.apply(0,_)||a||(w(!0),k()):a?s.x=s.y=0:(w(!0),k())};return(o.inverted||1<this.len)&&w(),k(),s},defaultFormatter:function(t){var e=this.points||l(this),i=[t.tooltipFooterHeaderFormatter(e[0])];return i=i.concat(t.bodyFormatter(e)),i.push(t.tooltipFooterHeaderFormatter(e[0],!0)),i},refresh:function(e,i){var a=this.chart,o=this.options,n=e,s={},d=[],h=o.formatter||this.defaultFormatter;s=this.shared;var c=a.styledMode;if(o.enabled){t.clearTimeout(this.hideTimer),this.followPointer=l(n)[0].series.tooltipOptions.followPointer;var p=this.getAnchor(n,i);i=p[0];var u=p[1];!s||n.series&&n.series.noSharedTooltip?s=n.getLabelConfig():(a.pointer.applyInactiveState(n),n.forEach(function(t){t.setState("hover"),d.push(t.getLabelConfig())}),s={x:n[0].category,y:n[0].y},s.points=d,n=n[0]),this.len=d.length,a=h.call(s,this),h=n.series,this.distance=r(h.tooltipOptions.distance,16),!1===a?this.hide():(this.split?this.renderSplit(a,l(e)):(e=this.getLabel(),o.style.width&&!c||e.css({width:this.chart.spacingBox.width}),e.attr({text:a&&a.join?a.join(""):a}),e.removeClass(/highcharts-color-[\d]+/g).addClass("highcharts-color-"+r(n.colorIndex,h.colorIndex)),c||e.attr({stroke:o.borderColor||n.color||h.color||"#666666"}),this.updatePosition({plotX:i,plotY:u,negative:n.negative,ttBelow:n.ttBelow,h:p[2]||0})),this.isHidden&&this.label&&this.label.attr({opacity:1}).show(),this.isHidden=!1),t.fireEvent(this,"refresh")}},renderSplit:function(e,i){var a,o=this,n=[],l=this.chart,d=l.renderer,h=!0,c=this.options,p=0,u=this.getLabel(),f=l.plotTop;s(e)&&(e=[!1,e]),e.slice(0,i.length+1).forEach(function(t,e){if(!1!==t&&""!==t){e=i[e-1]||{isHeader:!0,plotX:i[0].plotX,plotY:l.plotHeight};var s=e.series||o,m=s.tt,g=e.series||{},v="highcharts-color-"+r(e.colorIndex,g.colorIndex,"none");m||(m={padding:c.padding,r:c.borderRadius},l.styledMode||(m.fill=c.backgroundColor,m["stroke-width"]=c.borderWidth),s.tt=m=d.label(null,null,null,(e.isHeader?c.headerShape:c.shape)||"callout",null,null,c.useHTML).addClass(e.isHeader?"highcharts-tooltip-header ":"highcharts-tooltip-box "+v).attr(m).add(u)),m.isActive=!0,m.attr({text:t}),l.styledMode||m.css(c.style).shadow(c.shadow).attr({stroke:c.borderColor||e.color||g.color||"#333333"}),t=m.getBBox(),v=t.width+m.strokeWidth(),e.isHeader?(p=t.height,l.xAxis[0].opposite&&(a=!0,f-=p),t=Math.max(0,Math.min(e.plotX+l.plotLeft-v/2,l.chartWidth+(l.scrollablePixelsX?l.scrollablePixelsX-l.marginRight:0)-v))):t=e.plotX+l.plotLeft-r(c.distance,16)-v,0>t&&(h=!1),e.isHeader?g=a?-p:l.plotHeight+p:(g=g.yAxis,g=g.pos-f+Math.max(0,Math.min(e.plotY||0,g.len))),n.push({target:g,rank:e.isHeader?1:0,size:s.tt.getBBox().height+1,point:e,x:t,tt:m})}}),this.cleanSplit(),c.positioner&&n.forEach(function(t){var e=c.positioner.call(o,t.tt.getBBox().width,t.size,t.point);t.x=e.x,t.align=0,t.target=e.y,t.rank=r(e.rank,t.rank)}),t.distribute(n,l.plotHeight+p),n.forEach(function(t){var e=t.point,i=e.series,a=i&&i.yAxis;t.tt.attr({visibility:void 0===t.pos?"hidden":"inherit",x:h||e.isHeader||c.positioner?t.x:e.plotX+l.plotLeft+o.distance,y:t.pos+f,anchorX:e.isHeader?e.plotX+l.plotLeft:e.plotX+i.xAxis.pos,anchorY:e.isHeader?l.plotTop+l.plotHeight/2:a.pos+Math.max(0,Math.min(e.plotY,a.len))})});var m=o.container;if(e=o.renderer,o.outside&&m&&e){var g=l.pointer.getChartPosition();m.style.left=g.left+"px",m.style.top=g.top+"px",m=u.getBBox(),e.setSize(m.width+m.x,m.height+m.y,!1)}},updatePosition:function(e){var i=this.chart,a=i.pointer,o=this.getLabel(),n=e.plotX+i.plotLeft,s=e.plotY+i.plotTop;if(a=a.getChartPosition(),e=(this.options.positioner||this.getPosition).call(this,o.width,o.height,e),this.outside){var r=(this.options.borderWidth||0)+2*this.distance;this.renderer.setSize(o.width+r,o.height+r,!1),(i=i.containerScaling)&&(t.css(this.container,{transform:"scale("+i.scaleX+", "+i.scaleY+")"}),n*=i.scaleX,s*=i.scaleY),n+=a.left-e.x,s+=a.top-e.y}this.move(Math.round(e.x),Math.round(e.y||0),n,s)},getDateFormat:function(t,e,i,a){var o=this.chart.time,n=o.dateFormat("%m-%d %H:%M:%S.%L",e),s={millisecond:15,second:12,minute:9,hour:6,day:3},r="millisecond";for(l in u){if(t===u.week&&+o.dateFormat("%w",e)===i&&"00:00:00.000"===n.substr(6)){var l="week";break}if(u[l]>t){l=r;break}if(s[l]&&n.substr(s[l])!=="01-01 00:00:00.000".substr(s[l]))break;"week"!==l&&(r=l)}if(l)var d=o.resolveDTLFormat(a[l]).main;return d},getXDateFormat:function(t,e,i){e=e.dateTimeLabelFormats;var a=i&&i.closestPointRange;return(a?this.getDateFormat(a,t.x,i.options.startOfWeek,e):e.day)||e.year},tooltipFooterHeaderFormatter:function(e,i){var a=i?"footer":"header",o=e.series,s=o.tooltipOptions,r=s.xDateFormat,l=o.xAxis,d=l&&"datetime"===l.options.type&&n(e.key),h=s[a+"Format"];return i={isFooter:i,labelConfig:e},t.fireEvent(this,"headerFormatter",i,function(t){d&&!r&&(r=this.getXDateFormat(e,s,l)),d&&r&&(e.point&&e.point.tooltipDateKeys||["key"]).forEach(function(t){h=h.replace("{point."+t+"}","{point."+t+":"+r+"}")}),o.chart.styledMode&&(h=this.styledModeFormat(h)),t.text=c(h,{point:e,series:o},this.chart.time)}),i.text},bodyFormatter:function(t){return t.map(function(t){var e=t.series.tooltipOptions;return(e[(t.point.formatPrefix||"point")+"Formatter"]||t.point.tooltipFormatter).call(t.point,e[(t.point.formatPrefix||"point")+"Format"]||"")})},styledModeFormat:function(t){return t.replace('style="font-size: 10px"','class="highcharts-header"').replace(/style="color:{(point|series)\.color}"/g,'class="highcharts-color-{$1.colorIndex}"')}}}),e(i,"parts/Pointer.js",[i["parts/Globals.js"],i["parts/Utilities.js"]],function(t,e){var i=e.attr,a=e.defined,o=e.extend,n=e.isNumber,s=e.isObject,r=e.objectEach,l=e.pick,d=e.splat,h=t.addEvent,c=t.charts,p=t.color,u=t.css,f=t.find,m=t.fireEvent,g=t.offset,v=t.Tooltip;t.Pointer=function(t,e){this.init(t,e)},t.Pointer.prototype={init:function(t,e){this.options=e,this.chart=t,this.runChartClick=e.chart.events&&!!e.chart.events.click,this.pinchDown=[],this.lastValidTouch={},v&&(t.tooltip=new v(t,e.tooltip),this.followTouchMove=l(e.tooltip.followTouchMove,!0)),this.setDOMEvents()},zoomOption:function(t){var e=this.chart,i=e.options.chart,a=i.zoomType||"";e=e.inverted,/touch/.test(t.type)&&(a=l(i.pinchType,a)),this.zoomX=t=/x/.test(a),this.zoomY=a=/y/.test(a),this.zoomHor=t&&!e||a&&e,this.zoomVert=a&&!e||t&&e,this.hasZoom=t||a},getChartPosition:function(){return this.chartPosition||(this.chartPosition=g(this.chart.container))},normalize:function(t,e){var i=t.touches?t.touches.length?t.touches.item(0):t.changedTouches[0]:t;e||(e=this.getChartPosition());var a=i.pageX-e.left;return e=i.pageY-e.top,(i=this.chart.containerScaling)&&(a/=i.scaleX,e/=i.scaleY),o(t,{chartX:Math.round(a),chartY:Math.round(e)})},getCoordinates:function(t){var e={xAxis:[],yAxis:[]};return this.chart.axes.forEach(function(i){e[i.isXAxis?"xAxis":"yAxis"].push({axis:i,value:i.toValue(t[i.horiz?"chartX":"chartY"])})}),e},findNearestKDPoint:function(t,e,i){var a;return t.forEach(function(t){var o=!(t.noSharedTooltip&&e)&&0>t.options.findNearestPointBy.indexOf("y");if(t=t.searchPoint(i,o),(o=s(t,!0))&&!(o=!s(a,!0))){o=a.distX-t.distX;var n=a.dist-t.dist,r=(t.series.group&&t.series.group.zIndex)-(a.series.group&&a.series.group.zIndex);o=0<(0!==o&&e?o:0!==n?n:0!==r?r:a.series.index>t.series.index?-1:1)}o&&(a=t)}),a},getPointFromEvent:function(t){t=t.target;for(var e;t&&!e;)e=t.point,t=t.parentNode;return e},getChartCoordinatesFromPoint:function(t,e){var i=t.series,a=i.xAxis;i=i.yAxis;var o=l(t.clientX,t.plotX),n=t.shapeArgs;return a&&i?e?{chartX:a.len+a.pos-o,chartY:i.len+i.pos-t.plotY}:{chartX:o+a.pos,chartY:t.plotY+i.pos}:n&&n.x&&n.y?{chartX:n.x,chartY:n.y}:void 0},getHoverData:function(t,e,i,a,o,n){var r,d=[];a=!(!a||!t);var h=e&&!e.stickyTracking?[e]:i.filter(function(t){return t.visible&&!(!o&&t.directTouch)&&l(t.options.enableMouseTracking,!0)&&t.stickyTracking});return e=(r=a||!n?t:this.findNearestKDPoint(h,o,n))&&r.series,r&&(o&&!e.noSharedTooltip?(h=i.filter(function(t){return t.visible&&!(!o&&t.directTouch)&&l(t.options.enableMouseTracking,!0)&&!t.noSharedTooltip}),h.forEach(function(t){var e=f(t.points,function(t){return t.x===r.x&&!t.isNull});s(e)&&(t.chart.isBoosting&&(e=t.getPoint(e)),d.push(e))})):d.push(r)),{hoverPoint:r,hoverSeries:e,hoverPoints:d}},runPointActions:function(e,i){var a=this.chart,o=a.tooltip&&a.tooltip.options.enabled?a.tooltip:void 0,n=!!o&&o.shared,s=i||a.hoverPoint,r=s&&s.series||a.hoverSeries;r=this.getHoverData(s,r,a.series,(!e||"touchmove"!==e.type)&&(!!i||r&&r.directTouch&&this.isDirectTouch),n,e),s=r.hoverPoint;var d=r.hoverPoints;if(i=(r=r.hoverSeries)&&r.tooltipOptions.followPointer,n=n&&r&&!r.noSharedTooltip,s&&(s!==a.hoverPoint||o&&o.isHidden)){if((a.hoverPoints||[]).forEach(function(t){-1===d.indexOf(t)&&t.setState()}),a.hoverSeries!==r&&r.onMouseOver(),this.applyInactiveState(d),(d||[]).forEach(function(t){t.setState("hover")}),a.hoverPoint&&a.hoverPoint.firePointEvent("mouseOut"),!s.series)return;s.firePointEvent("mouseOver"),a.hoverPoints=d,a.hoverPoint=s,o&&o.refresh(n?d:s,e)}else i&&o&&!o.isHidden&&(s=o.getAnchor([{}],e),o.updatePosition({plotX:s[0],plotY:s[1]}));this.unDocMouseMove||(this.unDocMouseMove=h(a.container.ownerDocument,"mousemove",function(e){var i=c[t.hoverChartIndex];i&&i.pointer.onDocumentMouseMove(e)})),a.axes.forEach(function(i){var a=l(i.crosshair.snap,!0),o=a?t.find(d,function(t){return t.series[i.coll]===i}):void 0;o||!a?i.drawCrosshair(e,o):i.hideCrosshair()})},applyInactiveState:function(t){var e,i=[];(t||[]).forEach(function(t){e=t.series,i.push(e),e.linkedParent&&i.push(e.linkedParent),e.linkedSeries&&(i=i.concat(e.linkedSeries)),e.navigatorSeries&&i.push(e.navigatorSeries)}),this.chart.series.forEach(function(t){-1===i.indexOf(t)?t.setState("inactive",!0):t.options.inactiveOtherPoints&&t.setAllPointsToState("inactive")})},reset:function(t,e){var i=this.chart,a=i.hoverSeries,o=i.hoverPoint,n=i.hoverPoints,s=i.tooltip,r=s&&s.shared?n:o;t&&r&&d(r).forEach(function(e){e.series.isCartesian&&void 0===e.plotX&&(t=!1)}),t?s&&r&&d(r).length&&(s.refresh(r),s.shared&&n?n.forEach(function(t){t.setState(t.state,!0),t.series.isCartesian&&(t.series.xAxis.crosshair&&t.series.xAxis.drawCrosshair(null,t),t.series.yAxis.crosshair&&t.series.yAxis.drawCrosshair(null,t))}):o&&(o.setState(o.state,!0),i.axes.forEach(function(t){t.crosshair&&t.drawCrosshair(null,o)}))):(o&&o.onMouseOut(),n&&n.forEach(function(t){t.setState()}),a&&a.onMouseOut(),s&&s.hide(e),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),i.axes.forEach(function(t){t.hideCrosshair()}),this.hoverX=i.hoverPoints=i.hoverPoint=null)},scaleGroups:function(t,e){var i,a=this.chart;a.series.forEach(function(o){i=t||o.getPlotBox(),o.xAxis&&o.xAxis.zoomEnabled&&o.group&&(o.group.attr(i),o.markerGroup&&(o.markerGroup.attr(i),o.markerGroup.clip(e?a.clipRect:null)),o.dataLabelsGroup&&o.dataLabelsGroup.attr(i))}),a.clipRect.attr(e||a.clipBox)},dragStart:function(t){var e=this.chart;e.mouseIsDown=t.type,e.cancelClick=!1,e.mouseDownX=this.mouseDownX=t.chartX,e.mouseDownY=this.mouseDownY=t.chartY},drag:function(t){var e=this.chart,i=e.options.chart,a=t.chartX,o=t.chartY,n=this.zoomHor,s=this.zoomVert,r=e.plotLeft,l=e.plotTop,d=e.plotWidth,h=e.plotHeight,c=this.selectionMarker,u=this.mouseDownX,f=this.mouseDownY,m=i.panKey&&t[i.panKey+"Key"];if((!c||!c.touch)&&(a<r?a=r:a>r+d&&(a=r+d),o<l?o=l:o>l+h&&(o=l+h),this.hasDragged=Math.sqrt(Math.pow(u-a,2)+Math.pow(f-o,2)),10<this.hasDragged)){var g=e.isInsidePlot(u-r,f-l);e.hasCartesianSeries&&(this.zoomX||this.zoomY)&&g&&!m&&!c&&(this.selectionMarker=c=e.renderer.rect(r,l,n?1:d,s?1:h,0).attr({class:"highcharts-selection-marker",zIndex:7}).add(),e.styledMode||c.attr({fill:i.selectionMarkerFill||p("#335cad").setOpacity(.25).get()})),c&&n&&(a-=u,c.attr({width:Math.abs(a),x:(0<a?0:a)+u})),c&&s&&(a=o-f,c.attr({height:Math.abs(a),y:(0<a?0:a)+f})),g&&!c&&i.panning&&e.pan(t,i.panning)}},drop:function(t){var e=this,i=this.chart,s=this.hasPinched;if(this.selectionMarker){var r,l={originalEvent:t,xAxis:[],yAxis:[]},d=this.selectionMarker,h=d.attr?d.attr("x"):d.x,c=d.attr?d.attr("y"):d.y,p=d.attr?d.attr("width"):d.width,f=d.attr?d.attr("height"):d.height;(this.hasDragged||s)&&(i.axes.forEach(function(i){if(i.zoomEnabled&&a(i.min)&&(s||e[{xAxis:"zoomX",yAxis:"zoomY"}[i.coll]])){var o=i.horiz,n="touchend"===t.type?i.minPixelPadding:0,d=i.toValue((o?h:c)+n);o=i.toValue((o?h+p:c+f)-n),l[i.coll].push({axis:i,min:Math.min(d,o),max:Math.max(d,o)}),r=!0}}),r&&m(i,"selection",l,function(t){i.zoom(o(t,s?{animation:!1}:null))})),n(i.index)&&(this.selectionMarker=this.selectionMarker.destroy()),s&&this.scaleGroups()}i&&n(i.index)&&(u(i.container,{cursor:i._cursor}),i.cancelClick=10<this.hasDragged,i.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function(t){t=this.normalize(t),2!==t.button&&(this.zoomOption(t),t.preventDefault&&t.preventDefault(),this.dragStart(t))},onDocumentMouseUp:function(e){c[t.hoverChartIndex]&&c[t.hoverChartIndex].pointer.drop(e)},onDocumentMouseMove:function(t){var e=this.chart,i=this.chartPosition;t=this.normalize(t,i),!i||this.inClass(t.target,"highcharts-tracker")||e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)||this.reset()},onContainerMouseLeave:function(e){var i=c[t.hoverChartIndex];i&&(e.relatedTarget||e.toElement)&&(i.pointer.reset(),i.pointer.chartPosition=void 0)},onContainerMouseMove:function(e){var i=this.chart;a(t.hoverChartIndex)&&c[t.hoverChartIndex]&&c[t.hoverChartIndex].mouseIsDown||(t.hoverChartIndex=i.index),e=this.normalize(e),e.preventDefault||(e.returnValue=!1),"mousedown"===i.mouseIsDown&&this.drag(e),!this.inClass(e.target,"highcharts-tracker")&&!i.isInsidePlot(e.chartX-i.plotLeft,e.chartY-i.plotTop)||i.openMenu||this.runPointActions(e)},inClass:function(t,e){for(var a;t;){if(a=i(t,"class")){if(-1!==a.indexOf(e))return!0;if(-1!==a.indexOf("highcharts-container"))return!1}t=t.parentNode}},onTrackerMouseOut:function(t){var e=this.chart.hoverSeries;t=t.relatedTarget||t.toElement,this.isDirectTouch=!1,!e||!t||e.stickyTracking||this.inClass(t,"highcharts-tooltip")||this.inClass(t,"highcharts-series-"+e.index)&&this.inClass(t,"highcharts-tracker")||e.onMouseOut()},onContainerClick:function(t){var e=this.chart,i=e.hoverPoint,a=e.plotLeft,n=e.plotTop;t=this.normalize(t),e.cancelClick||(i&&this.inClass(t.target,"highcharts-tracker")?(m(i.series,"click",o(t,{point:i})),e.hoverPoint&&i.firePointEvent("click",t)):(o(t,this.getCoordinates(t)),e.isInsidePlot(t.chartX-a,t.chartY-n)&&m(e,"click",t)))},setDOMEvents:function(){var e=this,i=e.chart.container,a=i.ownerDocument;i.onmousedown=function(t){e.onContainerMouseDown(t)},i.onmousemove=function(t){e.onContainerMouseMove(t)},i.onclick=function(t){e.onContainerClick(t)},this.unbindContainerMouseLeave=h(i,"mouseleave",e.onContainerMouseLeave),t.unbindDocumentMouseUp||(t.unbindDocumentMouseUp=h(a,"mouseup",e.onDocumentMouseUp)),t.hasTouch&&(h(i,"touchstart",function(t){e.onContainerTouchStart(t)}),h(i,"touchmove",function(t){e.onContainerTouchMove(t)}),t.unbindDocumentTouchEnd||(t.unbindDocumentTouchEnd=h(a,"touchend",e.onDocumentTouchEnd)))},destroy:function(){var e=this;e.unDocMouseMove&&e.unDocMouseMove(),this.unbindContainerMouseLeave(),t.chartCount||(t.unbindDocumentMouseUp&&(t.unbindDocumentMouseUp=t.unbindDocumentMouseUp()),t.unbindDocumentTouchEnd&&(t.unbindDocumentTouchEnd=t.unbindDocumentTouchEnd())),clearInterval(e.tooltipTimeout),r(e,function(t,i){e[i]=null})}}}),e(i,"parts/TouchPointer.js",[i["parts/Globals.js"],i["parts/Utilities.js"]],function(t,e){var i=e.extend,a=e.pick,o=t.charts,n=t.noop;i(t.Pointer.prototype,{pinchTranslate:function(t,e,i,a,o,n){this.zoomHor&&this.pinchTranslateDirection(!0,t,e,i,a,o,n),this.zoomVert&&this.pinchTranslateDirection(!1,t,e,i,a,o,n)},pinchTranslateDirection:function(t,e,i,a,o,n,s,r){var l,d,h=this.chart,c=t?"x":"y",p=t?"X":"Y",u="chart"+p,f=t?"width":"height",m=h["plot"+(t?"Left":"Top")],g=r||1,v=h.inverted,y=h.bounds[t?"h":"v"],_=1===e.length,b=e[0][u],M=i[0][u],x=!_&&e[1][u],w=!_&&i[1][u];if(i=function(){!_&&20<Math.abs(b-x)&&(g=r||Math.abs(M-w)/Math.abs(b-x)),d=(m-M)/g+b,l=h["plot"+(t?"Width":"Height")]/g},i(),(e=d)<y.min){e=y.min;var k=!0}else e+l>y.max&&(e=y.max-l,k=!0);k?(M-=.8*(M-s[c][0]),_||(w-=.8*(w-s[c][1])),i()):s[c]=[M,w],v||(n[c]=d-m,n[f]=l),n=v?1/g:g,o[f]=l,o[c]=e,a[v?t?"scaleY":"scaleX":"scale"+p]=g,a["translate"+p]=n*m+(M-n*b)},pinch:function(t){var e=this,o=e.chart,s=e.pinchDown,r=t.touches,l=r.length,d=e.lastValidTouch,h=e.hasZoom,c=e.selectionMarker,p={},u=1===l&&(e.inClass(t.target,"highcharts-tracker")&&o.runTrackerClick||e.runChartClick),f={};1<l&&(e.initiated=!0),h&&e.initiated&&!u&&t.preventDefault(),[].map.call(r,function(t){return e.normalize(t)}),"touchstart"===t.type?([].forEach.call(r,function(t,e){s[e]={chartX:t.chartX,chartY:t.chartY}}),d.x=[s[0].chartX,s[1]&&s[1].chartX],d.y=[s[0].chartY,s[1]&&s[1].chartY],o.axes.forEach(function(t){if(t.zoomEnabled){var e=o.bounds[t.horiz?"h":"v"],i=t.minPixelPadding,n=t.toPixels(Math.min(a(t.options.min,t.dataMin),t.dataMin)),s=t.toPixels(Math.max(a(t.options.max,t.dataMax),t.dataMax)),r=Math.max(n,s);e.min=Math.min(t.pos,Math.min(n,s)-i),e.max=Math.max(t.pos+t.len,r+i)}}),e.res=!0):e.followTouchMove&&1===l?this.runPointActions(e.normalize(t)):s.length&&(c||(e.selectionMarker=c=i({destroy:n,touch:!0},o.plotBox)),e.pinchTranslate(s,r,p,c,f,d),e.hasPinched=h,e.scaleGroups(p,f),e.res&&(e.res=!1,this.reset(!1,0)))},touch:function(e,i){var o=this.chart;if(o.index!==t.hoverChartIndex&&this.onContainerMouseLeave({relatedTarget:!0}),t.hoverChartIndex=o.index,1===e.touches.length)if(e=this.normalize(e),o.isInsidePlot(e.chartX-o.plotLeft,e.chartY-o.plotTop)&&!o.openMenu){if(i&&this.runPointActions(e),"touchmove"===e.type){i=this.pinchDown;var n=!!i[0]&&4<=Math.sqrt(Math.pow(i[0].chartX-e.chartX,2)+Math.pow(i[0].chartY-e.chartY,2))}a(n,!0)&&this.pinch(e)}else i&&this.reset();else 2===e.touches.length&&this.pinch(e)},onContainerTouchStart:function(t){this.zoomOption(t),this.touch(t,!0)},onContainerTouchMove:function(t){this.touch(t)},onDocumentTouchEnd:function(e){o[t.hoverChartIndex]&&o[t.hoverChartIndex].pointer.drop(e)}})}),e(i,"parts/MSPointer.js",[i["parts/Globals.js"],i["parts/Utilities.js"]],function(t,e){var i=e.extend,a=e.objectEach,o=t.addEvent,n=t.charts,s=t.css,r=t.doc,l=t.noop;e=t.Pointer;var d=t.removeEvent,h=t.win,c=t.wrap;if(!t.hasTouch&&(h.PointerEvent||h.MSPointerEvent)){var p={},u=!!h.PointerEvent,f=function(){var t=[];return t.item=function(t){return this[t]},a(p,function(e){t.push({pageX:e.pageX,pageY:e.pageY,target:e.target})}),t},m=function(e,i,a,o){"touch"!==e.pointerType&&e.pointerType!==e.MSPOINTER_TYPE_TOUCH||!n[t.hoverChartIndex]||(o(e),o=n[t.hoverChartIndex].pointer,o[i]({type:a,target:e.currentTarget,preventDefault:l,touches:f()}))};i(e.prototype,{onContainerPointerDown:function(t){m(t,"onContainerTouchStart","touchstart",function(t){p[t.pointerId]={pageX:t.pageX,pageY:t.pageY,target:t.currentTarget}})},onContainerPointerMove:function(t){m(t,"onContainerTouchMove","touchmove",function(t){p[t.pointerId]={pageX:t.pageX,pageY:t.pageY},p[t.pointerId].target||(p[t.pointerId].target=t.currentTarget)})},onDocumentPointerUp:function(t){m(t,"onDocumentTouchEnd","touchend",function(t){delete p[t.pointerId]})},batchMSEvents:function(t){t(this.chart.container,u?"pointerdown":"MSPointerDown",this.onContainerPointerDown),t(this.chart.container,u?"pointermove":"MSPointerMove",this.onContainerPointerMove),t(r,u?"pointerup":"MSPointerUp",this.onDocumentPointerUp)}}),c(e.prototype,"init",function(t,e,i){t.call(this,e,i),this.hasZoom&&s(e.container,{"-ms-touch-action":"none","touch-action":"none"})}),c(e.prototype,"setDOMEvents",function(t){t.apply(this),(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(o)}),c(e.prototype,"destroy",function(t){this.batchMSEvents(d),t.call(this)})}}),e(i,"parts/Legend.js",[i["parts/Globals.js"],i["parts/Utilities.js"]],function(t,e){var i=e.defined,a=e.discardElement,o=e.isNumber,n=e.pick,s=e.setAnimation,r=t.addEvent,l=t.css,d=t.fireEvent;e=t.isFirefox;var h=t.marginNames,c=t.merge,p=t.stableSort,u=t.win,f=t.wrap;t.Legend=function(t,e){this.init(t,e)},t.Legend.prototype={init:function(t,e){this.chart=t,this.setOptions(e),e.enabled&&(this.render(),r(this.chart,"endResize",function(){this.legend.positionCheckboxes()}),this.proximate?this.unchartrender=r(this.chart,"render",function(){this.legend.proximatePositions(),this.legend.positionItems()}):this.unchartrender&&this.unchartrender())},setOptions:function(t){var e=n(t.padding,8);this.options=t,this.chart.styledMode||(this.itemStyle=t.itemStyle,this.itemHiddenStyle=c(this.itemStyle,t.itemHiddenStyle)),this.itemMarginTop=t.itemMarginTop||0,this.itemMarginBottom=t.itemMarginBottom||0,this.padding=e,this.initialItemY=e-5,this.symbolWidth=n(t.symbolWidth,16),this.pages=[],this.proximate="proximate"===t.layout&&!this.chart.inverted},update:function(t,e){var i=this.chart;this.setOptions(c(!0,this.options,t)),this.destroy(),i.isDirtyLegend=i.isDirtyBox=!0,n(e,!0)&&i.redraw(),d(this,"afterUpdate")},colorizeItem:function(t,e){if(t.legendGroup[e?"removeClass":"addClass"]("highcharts-legend-item-hidden"),!this.chart.styledMode){var i=this.options,a=t.legendItem,o=t.legendLine,n=t.legendSymbol,s=this.itemHiddenStyle.color;i=e?i.itemStyle.color:s;var r=e?t.color||s:s,l=t.options&&t.options.marker,h={fill:r};a&&a.css({fill:i,color:i}),o&&o.attr({stroke:r}),n&&(l&&n.isMarker&&(h=t.pointAttribs(),e||(h.stroke=h.fill=s)),n.attr(h))}d(this,"afterColorizeItem",{item:t,visible:e})},positionItems:function(){this.allItems.forEach(this.positionItem,this),this.chart.isResizing||this.positionCheckboxes()},positionItem:function(t){var e=this.options,a=e.symbolPadding;e=!e.rtl;var o=t._legendItemPos,n=o[0];o=o[1];var s=t.checkbox;(t=t.legendGroup)&&t.element&&t[i(t.translateY)?"animate":"attr"]({translateX:e?n:this.legendWidth-n-2*a-4,translateY:o}),s&&(s.x=n,s.y=o)},destroyItem:function(t){var e=t.checkbox;["legendItem","legendLine","legendSymbol","legendGroup"].forEach(function(e){t[e]&&(t[e]=t[e].destroy())}),e&&a(t.checkbox)},destroy:function(){function t(t){this[t]&&(this[t]=this[t].destroy())}this.getAllItems().forEach(function(e){["legendItem","legendGroup"].forEach(t,e)}),"clipRect up down pager nav box title group".split(" ").forEach(t,this),this.display=null},positionCheckboxes:function(){var t=this.group&&this.group.alignAttr,e=this.clipHeight||this.legendHeight,i=this.titleHeight;if(t){var a=t.translateY;this.allItems.forEach(function(o){var n=o.checkbox;if(n){var s=a+i+n.y+(this.scrollOffset||0)+3;l(n,{left:t.translateX+o.checkboxOffset+n.x-20+"px",top:s+"px",display:this.proximate||s>a-6&&s<a+e-6?"":"none"})}},this)}},renderTitle:function(){var t=this.options,e=this.padding,i=t.title,a=0;i.text&&(this.title||(this.title=this.chart.renderer.label(i.text,e-3,e-4,null,null,null,t.useHTML,null,"legend-title").attr({zIndex:1}),this.chart.styledMode||this.title.css(i.style),this.title.add(this.group)),i.width||this.title.css({width:this.maxLegendWidth+"px"}),t=this.title.getBBox(),a=t.height,this.offsetWidth=t.width,this.contentGroup.attr({translateY:a})),this.titleHeight=a},setText:function(e){var i=this.options;e.legendItem.attr({text:i.labelFormat?t.format(i.labelFormat,e,this.chart.time):i.labelFormatter.call(e)})},renderItem:function(t){var e=this.chart,i=e.renderer,a=this.options,o=this.symbolWidth,s=a.symbolPadding,r=this.itemStyle,l=this.itemHiddenStyle,d="horizontal"===a.layout?n(a.itemDistance,20):0,h=!a.rtl,p=t.legendItem,u=!t.series,f=!u&&t.series.drawLegendSymbol?t.series:t,m=f.options;m=this.createCheckboxForItem&&m&&m.showCheckbox,d=o+s+d+(m?20:0);var g=a.useHTML,v=t.options.className;p||(t.legendGroup=i.g("legend-item").addClass("highcharts-"+f.type+"-series highcharts-color-"+t.colorIndex+(v?" "+v:"")+(u?" highcharts-series-"+t.index:"")).attr({zIndex:1}).add(this.scrollGroup),t.legendItem=p=i.text("",h?o+s:-s,this.baseline||0,g),e.styledMode||p.css(c(t.visible?r:l)),p.attr({align:h?"left":"right",zIndex:2}).add(t.legendGroup),this.baseline||(this.fontMetrics=i.fontMetrics(e.styledMode?12:r.fontSize,p),this.baseline=this.fontMetrics.f+3+this.itemMarginTop,p.attr("y",this.baseline)),this.symbolHeight=a.symbolHeight||this.fontMetrics.f,f.drawLegendSymbol(this,t),this.setItemEvents&&this.setItemEvents(t,p,g)),m&&!t.checkbox&&this.createCheckboxForItem(t),this.colorizeItem(t,t.visible),!e.styledMode&&r.width||p.css({width:(a.itemWidth||this.widthOption||e.spacingBox.width)-d}),this.setText(t),e=p.getBBox(),t.itemWidth=t.checkboxOffset=a.itemWidth||t.legendItemWidth||e.width+d,this.maxItemWidth=Math.max(this.maxItemWidth,t.itemWidth),this.totalItemWidth+=t.itemWidth,this.itemHeight=t.itemHeight=Math.round(t.legendItemHeight||e.height||this.symbolHeight)},layoutItem:function(t){var e=this.options,i=this.padding,a="horizontal"===e.layout,o=t.itemHeight,s=this.itemMarginBottom,r=this.itemMarginTop,l=a?n(e.itemDistance,20):0,d=this.maxLegendWidth;e=e.alignColumns&&this.totalItemWidth>d?this.maxItemWidth:t.itemWidth,a&&this.itemX-i+e>d&&(this.itemX=i,this.lastLineHeight&&(this.itemY+=r+this.lastLineHeight+s),this.lastLineHeight=0),this.lastItemY=r+this.itemY+s,this.lastLineHeight=Math.max(o,this.lastLineHeight),t._legendItemPos=[this.itemX,this.itemY],a?this.itemX+=e:(this.itemY+=r+o+s,this.lastLineHeight=o),this.offsetWidth=this.widthOption||Math.max((a?this.itemX-i-(t.checkbox?0:l):e)+i,this.offsetWidth)},getAllItems:function(){var t=[];return this.chart.series.forEach(function(e){var a=e&&e.options;e&&n(a.showInLegend,!i(a.linkedTo)&&void 0,!0)&&(t=t.concat(e.legendItems||("point"===a.legendType?e.data:e)))}),d(this,"afterGetAllItems",{allItems:t}),t},getAlignment:function(){var t=this.options;return this.proximate?t.align.charAt(0)+"tv":t.floating?"":t.align.charAt(0)+t.verticalAlign.charAt(0)+t.layout.charAt(0)},adjustMargins:function(t,e){var a=this.chart,o=this.options,s=this.getAlignment();s&&[/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/].forEach(function(r,l){r.test(s)&&!i(t[l])&&(a[h[l]]=Math.max(a[h[l]],a.legend[(l+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][l]*o[l%2?"x":"y"]+n(o.margin,12)+e[l]+(a.titleOffset[l]||0)))})},proximatePositions:function(){var e=this.chart,i=[],a="left"===this.options.align;this.allItems.forEach(function(n){var s=a;if(n.yAxis&&n.points){n.xAxis.options.reversed&&(s=!s);var r=t.find(s?n.points:n.points.slice(0).reverse(),function(t){return o(t.plotY)});s=this.itemMarginTop+n.legendItem.getBBox().height+this.itemMarginBottom;var l=n.yAxis.top-e.plotTop;n.visible?(r=r?r.plotY:n.yAxis.height,r+=l-.3*s):r=l+n.yAxis.height,i.push({target:r,size:s,item:n})}},this),t.distribute(i,e.plotHeight),i.forEach(function(t){t.item._legendItemPos[1]=e.plotTop-e.spacing[0]+t.pos})},render:function(){var e,i=this.chart,a=i.renderer,o=this.group,n=this.box,s=this.options,r=this.padding;this.itemX=r,this.itemY=this.initialItemY,this.lastItemY=this.offsetWidth=0,this.widthOption=t.relativeLength(s.width,i.spacingBox.width-r);var l=i.spacingBox.width-2*r-s.x;-1<["rm","lm"].indexOf(this.getAlignment().substring(0,2))&&(l/=2),this.maxLegendWidth=this.widthOption||l,o||(this.group=o=a.g("legend").attr({zIndex:7}).add(),this.contentGroup=a.g().attr({zIndex:1}).add(o),this.scrollGroup=a.g().add(this.contentGroup)),this.renderTitle(),l=this.getAllItems(),p(l,function(t,e){return(t.options&&t.options.legendIndex||0)-(e.options&&e.options.legendIndex||0)}),s.reversed&&l.reverse(),this.allItems=l,this.display=e=!!l.length,this.itemHeight=this.totalItemWidth=this.maxItemWidth=this.lastLineHeight=0,l.forEach(this.renderItem,this),l.forEach(this.layoutItem,this),l=(this.widthOption||this.offsetWidth)+r;var h=this.lastItemY+this.lastLineHeight+this.titleHeight;h=this.handleOverflow(h),h+=r,n||(this.box=n=a.rect().addClass("highcharts-legend-box").attr({r:s.borderRadius}).add(o),n.isNew=!0),i.styledMode||n.attr({stroke:s.borderColor,"stroke-width":s.borderWidth||0,fill:s.backgroundColor||"none"}).shadow(s.shadow),0<l&&0<h&&(n[n.isNew?"attr":"animate"](n.crisp.call({},{x:0,y:0,width:l,height:h},n.strokeWidth())),n.isNew=!1),n[e?"show":"hide"](),i.styledMode&&"none"===o.getStyle("display")&&(l=h=0),this.legendWidth=l,this.legendHeight=h,e&&(a=i.spacingBox,n=a.y,/(lth|ct|rth)/.test(this.getAlignment())&&0<i.titleOffset[0]?n+=i.titleOffset[0]:/(lbh|cb|rbh)/.test(this.getAlignment())&&0<i.titleOffset[2]&&(n-=i.titleOffset[2]),n!==a.y&&(a=c(a,{y:n})),o.align(c(s,{width:l,height:h,verticalAlign:this.proximate?"top":s.verticalAlign}),!0,a)),this.proximate||this.positionItems(),d(this,"afterRender")},handleOverflow:function(t){var e=this,i=this.chart,a=i.renderer,o=this.options,s=o.y,r=this.padding;s=i.spacingBox.height+("top"===o.verticalAlign?-s:s)-r;var l,d,h=o.maxHeight,c=this.clipRect,p=o.navigation,u=n(p.animation,!0),f=p.arrowSize||12,m=this.nav,g=this.pages,v=this.allItems,y=function(t){"number"==typeof t?c.attr({height:t}):c&&(e.clipRect=c.destroy(),e.contentGroup.clip()),e.contentGroup.div&&(e.contentGroup.div.style.clip=t?"rect("+r+"px,9999px,"+(r+t)+"px,0)":"auto")},_=function(t){return e[t]=a.circle(0,0,1.3*f).translate(f/2,f/2).add(m),i.styledMode||e[t].attr("fill","rgba(0,0,0,0.0001)"),e[t]};return"horizontal"!==o.layout||"middle"===o.verticalAlign||o.floating||(s/=2),h&&(s=Math.min(s,h)),g.length=0,t>s&&!1!==p.enabled?(this.clipHeight=l=Math.max(s-20-this.titleHeight-r,0),this.currentPage=n(this.currentPage,1),this.fullHeight=t,v.forEach(function(t,e){var i=t._legendItemPos[1],a=Math.round(t.legendItem.getBBox().height),o=g.length;(!o||i-g[o-1]>l&&(d||i)!==g[o-1])&&(g.push(d||i),o++),t.pageIx=o-1,d&&(v[e-1].pageIx=o-1),e===v.length-1&&i+a-g[o-1]>l&&i!==d&&(g.push(i),t.pageIx=o),i!==d&&(d=i)}),c||(c=e.clipRect=a.clipRect(0,r,9999,0),e.contentGroup.clip(c)),y(l),m||(this.nav=m=a.g().attr({zIndex:1}).add(this.group),this.up=a.symbol("triangle",0,0,f,f).add(m),_("upTracker").on("click",function(){e.scroll(-1,u)}),this.pager=a.text("",15,10).addClass("highcharts-legend-navigation"),i.styledMode||this.pager.css(p.style),this.pager.add(m),this.down=a.symbol("triangle-down",0,0,f,f).add(m),_("downTracker").on("click",function(){e.scroll(1,u)})),e.scroll(0),t=s):m&&(y(),this.nav=m.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),t},scroll:function(t,e){var i=this.pages,a=i.length,o=this.currentPage+t;t=this.clipHeight;var n=this.options.navigation,r=this.pager,l=this.padding;o>a&&(o=a),0<o&&(void 0!==e&&s(e,this.chart),this.nav.attr({translateX:l,translateY:t+this.padding+7+this.titleHeight,visibility:"visible"}),[this.up,this.upTracker].forEach(function(t){t.attr({class:1===o?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})}),r.attr({text:o+"/"+a}),[this.down,this.downTracker].forEach(function(t){t.attr({x:18+this.pager.getBBox().width,class:o===a?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})},this),this.chart.styledMode||(this.up.attr({fill:1===o?n.inactiveColor:n.activeColor}),this.upTracker.css({cursor:1===o?"default":"pointer"}),this.down.attr({fill:o===a?n.inactiveColor:n.activeColor}),this.downTracker.css({cursor:o===a?"default":"pointer"})),this.scrollOffset=-i[o-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=o,this.positionCheckboxes())}},t.LegendSymbolMixin={drawRectangle:function(t,e){var i=t.symbolHeight,a=t.options.squareSymbol;e.legendSymbol=this.chart.renderer.rect(a?(t.symbolWidth-i)/2:0,t.baseline-i+1,a?i:t.symbolWidth,i,n(t.options.symbolRadius,i/2)).addClass("highcharts-point").attr({zIndex:3}).add(e.legendGroup)},drawLineMarker:function(t){var e=this.options,i=e.marker,a=t.symbolWidth,o=t.symbolHeight,s=o/2,r=this.chart.renderer,l=this.legendGroup;t=t.baseline-Math.round(.3*t.fontMetrics.b);var d={};this.chart.styledMode||(d={"stroke-width":e.lineWidth||0},e.dashStyle&&(d.dashstyle=e.dashStyle)),this.legendLine=r.path(["M",0,t,"L",a,t]).addClass("highcharts-graph").attr(d).add(l),i&&!1!==i.enabled&&a&&(e=Math.min(n(i.radius,s),s),0===this.symbol.indexOf("url")&&(i=c(i,{width:o,height:o}),e=0),this.legendSymbol=i=r.symbol(this.symbol,a/2-e,t-e,2*e,2*e,i).addClass("highcharts-point").add(l),i.isMarker=!0)}},(/Trident\/7\.0/.test(u.navigator&&u.navigator.userAgent)||e)&&f(t.Legend.prototype,"positionItem",function(t,e){var i=this,a=function(){e._legendItemPos&&t.call(i,e)};a(),i.bubbleLegend||setTimeout(a)})}),e(i,"parts/Chart.js",[i["parts/Globals.js"],i["parts/Utilities.js"]],function(t,e){var i=e.attr,a=e.defined,o=e.discardElement,n=e.erase,s=e.extend,r=e.isArray,l=e.isNumber,d=e.isObject,h=e.isString,c=e.objectEach,p=e.pick,u=e.pInt,f=e.setAnimation,m=e.splat,g=e.syncTimeout,v=t.addEvent,y=t.animate,_=t.animObject,b=t.doc,M=t.Axis,x=t.createElement,w=t.defaultOptions,k=t.charts,O=t.css,C=t.find,E=t.fireEvent,D=t.Legend,T=t.marginNames,A=t.merge,P=t.Pointer,S=t.removeEvent,L=t.seriesTypes,V=t.win,$=t.Chart=function(){this.getArgs.apply(this,arguments)};t.chart=function(t,e,i){return new $(t,e,i)},s($.prototype,{callbacks:[],getArgs:function(){var t=[].slice.call(arguments);(h(t[0])||t[0].nodeName)&&(this.renderTo=t.shift()),this.init(t[0],t[1])},init:function(e,i){var a,o=e.series,n=e.plotOptions||{};E(this,"init",{args:arguments},function(){e.series=null,a=A(w,e),c(a.plotOptions,function(t,e){d(t)&&(t.tooltip=n[e]&&A(n[e].tooltip)||void 0)}),a.tooltip.userOptions=e.chart&&e.chart.forExport&&e.tooltip.userOptions||e.tooltip,a.series=e.series=o,this.userOptions=e;var s=a.chart,r=s.events;this.margin=[],this.spacing=[],this.bounds={h:{},v:{}},this.labelCollectors=[],this.callback=i,this.isResizing=0,this.options=a,this.axes=[],this.series=[],this.time=e.time&&Object.keys(e.time).length?new t.Time(e.time):t.time,this.styledMode=s.styledMode,this.hasCartesianSeries=s.showAxes;var l=this;l.index=k.length,k.push(l),t.chartCount++,r&&c(r,function(e,i){t.isFunction(e)&&v(l,i,e)}),l.xAxis=[],l.yAxis=[],l.pointCount=l.colorCounter=l.symbolCounter=0,E(l,"afterInit"),l.firstRender()})},initSeries:function(e){var i=this.options.chart;i=e.type||i.type||i.defaultSeriesType;var a=L[i];return a||t.error(17,!0,this,{missingModuleFor:i}),i=new a,i.init(this,e),i},orderSeries:function(t){var e=this.series;for(t=t||0;t<e.length;t++)e[t]&&(e[t].index=t,e[t].name=e[t].getName())},isInsidePlot:function(t,e,i){var a=i?e:t;return t=i?t:e,0<=a&&a<=this.plotWidth&&0<=t&&t<=this.plotHeight},redraw:function(t){E(this,"beforeRedraw");var e=this.axes,i=this.series,a=this.pointer,o=this.legend,n=this.userOptions.legend,r=this.isDirtyLegend,l=this.hasCartesianSeries,d=this.isDirtyBox,h=this.renderer,c=h.isHidden(),p=[];for(this.setResponsive&&this.setResponsive(!1),f(t,this),c&&this.temporaryDisplay(),this.layOutTitles(),t=i.length;t--;){var u=i[t];if(u.options.stacking){var m=!0;if(u.isDirty){var g=!0;break}}}if(g)for(t=i.length;t--;)u=i[t],u.options.stacking&&(u.isDirty=!0);i.forEach(function(t){t.isDirty&&("point"===t.options.legendType?(t.updateTotals&&t.updateTotals(),r=!0):n&&(n.labelFormatter||n.labelFormat)&&(r=!0)),t.isDirtyData&&E(t,"updatedData")}),r&&o&&o.options.enabled&&(o.render(),this.isDirtyLegend=!1),m&&this.getStacks(),l&&e.forEach(function(t){t.updateNames(),t.setScale()}),this.getMargins(),l&&(e.forEach(function(t){t.isDirty&&(d=!0)}),e.forEach(function(t){var e=t.min+","+t.max;t.extKey!==e&&(t.extKey=e,p.push(function(){E(t,"afterSetExtremes",s(t.eventArgs,t.getExtremes())),delete t.eventArgs})),(d||m)&&t.redraw()})),d&&this.drawChartBox(),E(this,"predraw"),i.forEach(function(t){(d||t.isDirty)&&t.visible&&t.redraw(),t.isDirtyData=!1}),a&&a.reset(!0),h.draw(),E(this,"redraw"),E(this,"render"),c&&this.temporaryDisplay(!0),p.forEach(function(t){t.call()})},get:function(t){function e(e){return e.id===t||e.options&&e.options.id===t}var i,a=this.series,o=C(this.axes,e)||C(this.series,e);for(i=0;!o&&i<a.length;i++)o=C(a[i].points||[],e);return o},getAxes:function(){var t=this,e=this.options,i=e.xAxis=m(e.xAxis||{});e=e.yAxis=m(e.yAxis||{}),E(this,"getAxes"),i.forEach(function(t,e){t.index=e,t.isX=!0}),e.forEach(function(t,e){t.index=e}),i.concat(e).forEach(function(e){new M(t,e)}),E(this,"afterGetAxes")},getSelectedPoints:function(){var t=[];return this.series.forEach(function(e){t=t.concat((e[e.hasGroupedData?"points":"data"]||[]).filter(function(t){return p(t.selectedStaging,t.selected)}))}),t},getSelectedSeries:function(){return this.series.filter(function(t){return t.selected})},setTitle:function(t,e,i){this.applyDescription("title",t),this.applyDescription("subtitle",e),this.applyDescription("caption",void 0),this.layOutTitles(i)},applyDescription:function(t,e){var i=this,a="title"===t?{color:"#333333",fontSize:this.options.isStock?"16px":"18px"}:{color:"#666666"};a=this.options[t]=A(!this.styledMode&&{style:a},this.options[t],e);var o=this[t];o&&e&&(this[t]=o=o.destroy()),a&&!o&&(o=this.renderer.text(a.text,0,0,a.useHTML).attr({align:a.align,class:"highcharts-"+t,zIndex:a.zIndex||4}).add(),o.update=function(e){i[{title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"}[t]](e)},this.styledMode||o.css(a.style),this[t]=o)},layOutTitles:function(t){var e=[0,0,0],i=this.renderer,a=this.spacingBox;["title","subtitle","caption"].forEach(function(t){var o=this[t],n=this.options[t],r=n.verticalAlign||"top";if(t="title"===t?-3:"top"===r?e[0]+2:0,o){if(!this.styledMode)var l=n.style.fontSize;l=i.fontMetrics(l,o).b,o.css({width:(n.width||a.width+(n.widthAdjust||0))+"px"});var d=Math.round(o.getBBox(n.useHTML).height);o.align(s({y:"bottom"===r?l:t+l,height:d},n),!1,"spacingBox"),n.floating||("top"===r?e[0]=Math.ceil(e[0]+d):"bottom"===r&&(e[2]=Math.ceil(e[2]+d)))}},this),e[0]&&"top"===(this.options.title.verticalAlign||"top")&&(e[0]+=this.options.title.margin),e[2]&&"bottom"===this.options.caption.verticalAlign&&(e[2]+=this.options.caption.margin);var o=!this.titleOffset||this.titleOffset.join(",")!==e.join(",");this.titleOffset=e,E(this,"afterLayOutTitles"),!this.isDirtyBox&&o&&(this.isDirtyBox=this.isDirtyLegend=o,this.hasRendered&&p(t,!0)&&this.isDirtyBox&&this.redraw())},getChartSize:function(){var e=this.options.chart,i=e.width;e=e.height;var o=this.renderTo;a(i)||(this.containerWidth=t.getStyle(o,"width")),a(e)||(this.containerHeight=t.getStyle(o,"height")),this.chartWidth=Math.max(0,i||this.containerWidth||600),this.chartHeight=Math.max(0,t.relativeLength(e,this.chartWidth)||(1<this.containerHeight?this.containerHeight:400))},temporaryDisplay:function(e){var i=this.renderTo;if(e)for(;i&&i.style;)i.hcOrigStyle&&(t.css(i,i.hcOrigStyle),delete i.hcOrigStyle),i.hcOrigDetached&&(b.body.removeChild(i),i.hcOrigDetached=!1),i=i.parentNode;else for(;i&&i.style&&(b.body.contains(i)||i.parentNode||(i.hcOrigDetached=!0,b.body.appendChild(i)),("none"===t.getStyle(i,"display",!1)||i.hcOricDetached)&&(i.hcOrigStyle={display:i.style.display,height:i.style.height,overflow:i.style.overflow},e={display:"block",overflow:"hidden"},i!==this.renderTo&&(e.height=0),t.css(i,e),i.offsetWidth||i.style.setProperty("display","block","important")),(i=i.parentNode)!==b.body););},setClassName:function(t){this.container.className="highcharts-container "+(t||"")},getContainer:function(){var e,a,o=this.options,n=o.chart,r=this.renderTo,d=t.uniqueKey();r||(this.renderTo=r=n.renderTo),h(r)&&(this.renderTo=r=b.getElementById(r)),r||t.error(13,!0,this);var c=u(i(r,"data-highcharts-chart"));l(c)&&k[c]&&k[c].hasRendered&&k[c].destroy(),i(r,"data-highcharts-chart",this.index),r.innerHTML="",n.skipClone||r.offsetWidth||this.temporaryDisplay(),this.getChartSize(),c=this.chartWidth;var p=this.chartHeight;if(O(r,{overflow:"hidden"}),this.styledMode||(e=s({position:"relative",overflow:"hidden",width:c+"px",height:p+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},n.style)),this.container=r=x("div",{id:d},e,r),this._cursor=r.style.cursor,this.renderer=new(t[n.renderer]||t.Renderer)(r,c,p,null,n.forExport,o.exporting&&o.exporting.allowHTML,this.styledMode),this.setClassName(n.className),this.styledMode)for(a in o.defs)this.renderer.definition(o.defs[a]);else this.renderer.setStyle(n.style);this.renderer.chartIndex=this.index,E(this,"afterGetContainer")},getMargins:function(t){var e=this.spacing,i=this.margin,o=this.titleOffset;this.resetMargins(),o[0]&&!a(i[0])&&(this.plotTop=Math.max(this.plotTop,o[0]+e[0])),o[2]&&!a(i[2])&&(this.marginBottom=Math.max(this.marginBottom,o[2]+e[2])),this.legend&&this.legend.display&&this.legend.adjustMargins(i,e),E(this,"getMargins"),t||this.getAxisMargins()},getAxisMargins:function(){var t=this,e=t.axisOffset=[0,0,0,0],i=t.colorAxis,o=t.margin,n=function(t){t.forEach(function(t){t.visible&&t.getOffset()})};t.hasCartesianSeries?n(t.axes):i&&i.length&&n(i),T.forEach(function(i,n){a(o[n])||(t[i]+=e[n])}),t.setChartSize()},reflow:function(e){var i=this,o=i.options.chart,n=i.renderTo,s=a(o.width)&&a(o.height),r=o.width||t.getStyle(n,"width");o=o.height||t.getStyle(n,"height"),n=e?e.target:V,s||i.isPrinting||!r||!o||n!==V&&n!==b||(r===i.containerWidth&&o===i.containerHeight||(t.clearTimeout(i.reflowTimeout),i.reflowTimeout=g(function(){i.container&&i.setSize(void 0,void 0,!1)},e?100:0)),i.containerWidth=r,i.containerHeight=o)},setReflow:function(t){var e=this;!1===t||this.unbindReflow?!1===t&&this.unbindReflow&&(this.unbindReflow=this.unbindReflow()):(this.unbindReflow=v(V,"resize",function(t){e.options&&e.reflow(t)}),v(this,"destroy",this.unbindReflow))},setSize:function(t,e,i){var a=this,o=a.renderer;if(a.isResizing+=1,f(i,a),a.oldChartHeight=a.chartHeight,a.oldChartWidth=a.chartWidth,void 0!==t&&(a.options.chart.width=t),void 0!==e&&(a.options.chart.height=e),a.getChartSize(),!a.styledMode){var n=o.globalAnimation;(n?y:O)(a.container,{width:a.chartWidth+"px",height:a.chartHeight+"px"},n)}a.setChartSize(!0),o.setSize(a.chartWidth,a.chartHeight,i),a.axes.forEach(function(t){t.isDirty=!0,t.setScale()}),a.isDirtyLegend=!0,a.isDirtyBox=!0,a.layOutTitles(),a.getMargins(),a.redraw(i),a.oldChartHeight=null,E(a,"resize"),g(function(){a&&E(a,"endResize",null,function(){--a.isResizing})},_(n).duration||0)},setChartSize:function(t){var e,i,a,o,n=this.inverted,s=this.renderer,r=this.chartWidth,l=this.chartHeight,d=this.options.chart,h=this.spacing,c=this.clipOffset;this.plotLeft=e=Math.round(this.plotLeft),this.plotTop=i=Math.round(this.plotTop),this.plotWidth=a=Math.max(0,Math.round(r-e-this.marginRight)),this.plotHeight=o=Math.max(0,Math.round(l-i-this.marginBottom)),this.plotSizeX=n?o:a,this.plotSizeY=n?a:o,this.plotBorderWidth=d.plotBorderWidth||0,this.spacingBox=s.spacingBox={x:h[3],y:h[0],width:r-h[3]-h[1],height:l-h[0]-h[2]},this.plotBox=s.plotBox={x:e,y:i,width:a,height:o},r=2*Math.floor(this.plotBorderWidth/2),n=Math.ceil(Math.max(r,c[3])/2),s=Math.ceil(Math.max(r,c[0])/2),this.clipBox={x:n,y:s,width:Math.floor(this.plotSizeX-Math.max(r,c[1])/2-n),height:Math.max(0,Math.floor(this.plotSizeY-Math.max(r,c[2])/2-s))},t||this.axes.forEach(function(t){t.setAxisSize(),t.setAxisTranslation()}),E(this,"afterSetChartSize",{skipAxes:t})},resetMargins:function(){E(this,"resetMargins");var t=this,e=t.options.chart;["margin","spacing"].forEach(function(i){var a=e[i],o=d(a)?a:[a,a,a,a];["Top","Right","Bottom","Left"].forEach(function(a,n){t[i][n]=p(e[i+a],o[n])})}),T.forEach(function(e,i){t[e]=p(t.margin[i],t.spacing[i])}),t.axisOffset=[0,0,0,0],t.clipOffset=[0,0,0,0]},drawChartBox:function(){var t,e=this.options.chart,i=this.renderer,a=this.chartWidth,o=this.chartHeight,n=this.chartBackground,s=this.plotBackground,r=this.plotBorder,l=this.styledMode,d=this.plotBGImage,h=e.backgroundColor,c=e.plotBackgroundColor,p=e.plotBackgroundImage,u=this.plotLeft,f=this.plotTop,m=this.plotWidth,g=this.plotHeight,v=this.plotBox,y=this.clipRect,_=this.clipBox,b="animate";if(n||(this.chartBackground=n=i.rect().addClass("highcharts-background").add(),b="attr"),l)var M=t=n.strokeWidth();else M=e.borderWidth||0,t=M+(e.shadow?8:0),h={fill:h||"none"},(M||n["stroke-width"])&&(h.stroke=e.borderColor,h["stroke-width"]=M),n.attr(h).shadow(e.shadow);n[b]({x:t/2,y:t/2,width:a-t-M%2,height:o-t-M%2,r:e.borderRadius}),b="animate",s||(b="attr",this.plotBackground=s=i.rect().addClass("highcharts-plot-background").add()),s[b](v),l||(s.attr({fill:c||"none"}).shadow(e.plotShadow),p&&(d?d.animate(v):this.plotBGImage=i.image(p,u,f,m,g).add())),y?y.animate({width:_.width,height:_.height}):this.clipRect=i.clipRect(_),b="animate",r||(b="attr",this.plotBorder=r=i.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),l||r.attr({stroke:e.plotBorderColor,"stroke-width":e.plotBorderWidth||0,fill:"none"}),r[b](r.crisp({x:u,y:f,width:m,height:g},-r.strokeWidth())),this.isDirtyBox=!1,E(this,"afterDrawChartBox")},propFromSeries:function(){var t,e,i,a=this,o=a.options.chart,n=a.options.series;["inverted","angular","polar"].forEach(function(s){for(t=L[o.type||o.defaultSeriesType],i=o[s]||t&&t.prototype[s],e=n&&n.length;!i&&e--;)(t=L[n[e].type])&&t.prototype[s]&&(i=!0);a[s]=i})},linkSeries:function(){var t=this,e=t.series;e.forEach(function(t){t.linkedSeries.length=0}),e.forEach(function(e){var i=e.options.linkedTo;h(i)&&(i=":previous"===i?t.series[e.index-1]:t.get(i))&&i.linkedParent!==e&&(i.linkedSeries.push(e),e.linkedParent=i,e.visible=p(e.options.visible,i.options.visible,e.visible))}),E(this,"afterLinkSeries")},renderSeries:function(){this.series.forEach(function(t){t.translate(),t.render()})},renderLabels:function(){var t=this,e=t.options.labels;e.items&&e.items.forEach(function(i){var a=s(e.style,i.style),o=u(a.left)+t.plotLeft,n=u(a.top)+t.plotTop+12;delete a.left,delete a.top,t.renderer.text(i.html,o,n).attr({zIndex:2}).css(a).add()})},render:function(){var t=this.axes,e=this.colorAxis,i=this.renderer,a=this.options,o=0,n=function(t){t.forEach(function(t){t.visible&&t.render()})};this.setTitle(),this.legend=new D(this,a.legend),this.getStacks&&this.getStacks(),this.getMargins(!0),this.setChartSize(),a=this.plotWidth,t.some(function(t){if(t.horiz&&t.visible&&t.options.labels.enabled&&t.series.length)return o=21,!0});var s=this.plotHeight=Math.max(this.plotHeight-o,0);t.forEach(function(t){t.setScale()}),this.getAxisMargins();var r=1.1<a/this.plotWidth,l=1.05<s/this.plotHeight;(r||l)&&(t.forEach(function(t){(t.horiz&&r||!t.horiz&&l)&&t.setTickInterval(!0)}),this.getMargins()),this.drawChartBox(),this.hasCartesianSeries?n(t):e&&e.length&&n(e),this.seriesGroup||(this.seriesGroup=i.g("series-group").attr({zIndex:3}).add()),this.renderSeries(),this.renderLabels(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.updateContainerScaling(),this.hasRendered=!0},addCredits:function(t){var e=this;t=A(!0,this.options.credits,t),t.enabled&&!this.credits&&(this.credits=this.renderer.text(t.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){t.href&&(V.location.href=t.href)}).attr({align:t.position.align,zIndex:8}),e.styledMode||this.credits.css(t.style),this.credits.add().align(t.position),this.credits.update=function(t){e.credits=e.credits.destroy(),e.addCredits(t)})},updateContainerScaling:function(){var t=this.container;if(t.offsetWidth&&t.offsetHeight&&t.getBoundingClientRect){var e=t.getBoundingClientRect(),i=e.width/t.offsetWidth;t=e.height/t.offsetHeight,1!==i||1!==t?this.containerScaling={scaleX:i,scaleY:t}:delete this.containerScaling}},destroy:function(){var e,i=this,a=i.axes,s=i.series,r=i.container,l=r&&r.parentNode;for(E(i,"destroy"),i.renderer.forExport?n(k,i):k[i.index]=void 0,t.chartCount--,i.renderTo.removeAttribute("data-highcharts-chart"),S(i),e=a.length;e--;)a[e]=a[e].destroy();for(this.scroller&&this.scroller.destroy&&this.scroller.destroy(),e=s.length;e--;)s[e]=s[e].destroy();"title subtitle chartBackground plotBackground plotBGImage plotBorder seriesGroup clipRect credits pointer rangeSelector legend resetZoomButton tooltip renderer".split(" ").forEach(function(t){var e=i[t];e&&e.destroy&&(i[t]=e.destroy())}),r&&(r.innerHTML="",S(r),l&&o(r)),c(i,function(t,e){delete i[e]})},firstRender:function(){var t=this,e=t.options;t.isReadyToRender&&!t.isReadyToRender()||(t.getContainer(),t.resetMargins(),t.setChartSize(),t.propFromSeries(),t.getAxes(),(r(e.series)?e.series:[]).forEach(function(e){t.initSeries(e)}),t.linkSeries(),E(t,"beforeRender"),P&&(t.pointer=new P(t,e)),t.render(),!t.renderer.imgCount&&t.onload&&t.onload(),t.temporaryDisplay(!0))},onload:function(){this.callbacks.concat([this.callback]).forEach(function(t){t&&void 0!==this.index&&t.apply(this,[this])},this),E(this,"load"),E(this,"render"),a(this.index)&&this.setReflow(this.options.chart.reflow),this.onload=null}})}),e(i,"parts/ScrollablePlotArea.js",[i["parts/Globals.js"],i["parts/Utilities.js"]],function(t,e){var i=e.pick,a=t.addEvent;e=t.Chart,a(e,"afterSetChartSize",function(e){var i=this.options.chart.scrollablePlotArea,a=i&&i.minWidth;if(i=i&&i.minHeight,!this.renderer.forExport){if(a){if(this.scrollablePixelsX=a=Math.max(0,a-this.chartWidth)){this.plotWidth+=a,this.inverted?(this.clipBox.height+=a,this.plotBox.height+=a):(this.clipBox.width+=a,this.plotBox.width+=a);var o={1:{name:"right",value:a}}}}else i&&(this.scrollablePixelsY=a=Math.max(0,i-this.chartHeight))&&(this.plotHeight+=a,this.inverted?(this.clipBox.width+=a,this.plotBox.width+=a):(this.clipBox.height+=a,this.plotBox.height+=a),o={2:{name:"bottom",value:a}});o&&!e.skipAxes&&this.axes.forEach(function(e){o[e.side]?e.getPlotLinePath=function(){var i=o[e.side].name,a=this[i];this[i]=a-o[e.side].value;var n=t.Axis.prototype.getPlotLinePath.apply(this,arguments);return this[i]=a,n}:(e.setAxisSize(),e.setAxisTranslation())})}}),a(e,"render",function(){this.scrollablePixelsX||this.scrollablePixelsY?(this.setUpScrolling&&this.setUpScrolling(),this.applyFixed()):this.fixedDiv&&this.applyFixed()}),e.prototype.setUpScrolling=function(){var e={WebkitOverflowScrolling:"touch",overflowX:"hidden",overflowY:"hidden"};this.scrollablePixelsX&&(e.overflowX="auto"),this.scrollablePixelsY&&(e.overflowY="auto"),this.scrollingContainer=t.createElement("div",{className:"highcharts-scrolling"},e,this.renderTo),this.innerContainer=t.createElement("div",{className:"highcharts-inner-container"},null,this.scrollingContainer),this.innerContainer.appendChild(this.container),this.setUpScrolling=null},e.prototype.moveFixedElements=function(){var t,e=this.container,i=this.fixedRenderer,a=".highcharts-contextbutton .highcharts-credits .highcharts-legend .highcharts-legend-checkbox .highcharts-navigator-series .highcharts-navigator-xaxis .highcharts-navigator-yaxis .highcharts-navigator .highcharts-reset-zoom .highcharts-scrollbar .highcharts-subtitle .highcharts-title".split(" ");this.scrollablePixelsX&&!this.inverted?t=".highcharts-yaxis":this.scrollablePixelsX&&this.inverted?t=".highcharts-xaxis":this.scrollablePixelsY&&!this.inverted?t=".highcharts-xaxis":this.scrollablePixelsY&&this.inverted&&(t=".highcharts-yaxis"),a.push(t,t+"-labels"),a.forEach(function(t){[].forEach.call(e.querySelectorAll(t),function(t){(t.namespaceURI===i.SVG_NS?i.box:i.box.parentNode).appendChild(t),t.style.pointerEvents="auto"})})},e.prototype.applyFixed=function(){var e,o=!this.fixedDiv,n=this.options.chart.scrollablePlotArea;o?(this.fixedDiv=t.createElement("div",{className:"highcharts-fixed"},{position:"absolute",overflow:"hidden",pointerEvents:"none",zIndex:2},null,!0),this.renderTo.insertBefore(this.fixedDiv,this.renderTo.firstChild),this.renderTo.style.overflow="visible",this.fixedRenderer=e=new t.Renderer(this.fixedDiv,this.chartWidth,this.chartHeight),this.scrollableMask=e.path().attr({fill:t.color(this.options.chart.backgroundColor||"#fff").setOpacity(i(n.opacity,.85)).get(),zIndex:-1}).addClass("highcharts-scrollable-mask").add(),this.moveFixedElements(),a(this,"afterShowResetZoom",this.moveFixedElements),a(this,"afterLayOutTitles",this.moveFixedElements)):this.fixedRenderer.setSize(this.chartWidth,this.chartHeight),e=this.chartWidth+(this.scrollablePixelsX||0);var s=this.chartHeight+(this.scrollablePixelsY||0);t.stop(this.container),this.container.style.width=e+"px",this.container.style.height=s+"px",this.renderer.boxWrapper.attr({width:e,height:s,viewBox:[0,0,e,s].join(" ")}),this.chartBackground.attr({width:e,height:s}),this.scrollablePixelsY&&(this.scrollingContainer.style.height=this.chartHeight+"px"),o&&(n.scrollPositionX&&(this.scrollingContainer.scrollLeft=this.scrollablePixelsX*n.scrollPositionX),n.scrollPositionY&&(this.scrollingContainer.scrollTop=this.scrollablePixelsY*n.scrollPositionY)),s=this.axisOffset,o=this.plotTop-s[0]-1,n=this.plotLeft-s[3]-1,e=this.plotTop+this.plotHeight+s[2]+1,s=this.plotLeft+this.plotWidth+s[1]+1;var r=this.plotLeft+this.plotWidth-(this.scrollablePixelsX||0),l=this.plotTop+this.plotHeight-(this.scrollablePixelsY||0);o=this.scrollablePixelsX?["M",0,o,"L",this.plotLeft-1,o,"L",this.plotLeft-1,e,"L",0,e,"Z","M",r,o,"L",this.chartWidth,o,"L",this.chartWidth,e,"L",r,e,"Z"]:this.scrollablePixelsY?["M",n,0,"L",n,this.plotTop-1,"L",s,this.plotTop-1,"L",s,0,"Z","M",n,l,"L",n,this.chartHeight,"L",s,this.chartHeight,"L",s,l,"Z"]:["M",0,0],"adjustHeight"!==this.redrawTrigger&&this.scrollableMask.attr({d:o})}}),e(i,"parts/Point.js",[i["parts/Globals.js"],i["parts/Utilities.js"]],function(t,e){var i,a=e.defined,o=e.erase,n=e.extend,s=e.isArray,r=e.isNumber,l=e.isObject,d=e.pick,h=t.fireEvent,c=t.format,p=t.uniqueKey,u=t.removeEvent;t.Point=i=function(){},t.Point.prototype={init:function(t,e,i){return this.series=t,this.applyOptions(e,i),this.id=a(this.id)?this.id:p(),this.resolveColor(),t.chart.pointCount++,h(this,"afterInit"),this},resolveColor:function(){var t=this.series,e=t.chart.options.chart.colorCount,i=t.chart.styledMode;i||this.options.color||(this.color=t.color),t.options.colorByPoint?(i||(e=t.options.colors||t.chart.options.colors,this.color=this.color||e[t.colorCounter],e=e.length),i=t.colorCounter,++t.colorCounter===e&&(t.colorCounter=0)):i=t.colorIndex,this.colorIndex=d(this.colorIndex,i)},applyOptions:function(t,e){var a=this.series,o=a.options.pointValKey||a.pointValKey;return t=i.prototype.optionsToObject.call(this,t),n(this,t),this.options=this.options?n(this.options,t):t,t.group&&delete this.group,t.dataLabels&&delete this.dataLabels,o&&(this.y=this[o]),this.formatPrefix=(this.isNull=d(this.isValid&&!this.isValid(),null===this.x||!r(this.y)))?"null":"point",this.selected&&(this.state="select"),"name"in this&&void 0===e&&a.xAxis&&a.xAxis.hasNames&&(this.x=a.xAxis.nameToX(this)),void 0===this.x&&a&&(this.x=void 0===e?a.autoIncrement(this):e),this},setNestedProperty:function(t,e,i){return i.split(".").reduce(function(t,i,a,o){return t[i]=o.length-1===a?e:l(t[i],!0)?t[i]:{},t[i]},t),t},optionsToObject:function(e){var i={},a=this.series,o=a.options.keys,n=o||a.pointArrayMap||["y"],l=n.length,d=0,h=0;if(r(e)||null===e)i[n[0]]=e;else if(s(e))for(!o&&e.length>l&&(a=typeof e[0],"string"===a?i.name=e[0]:"number"===a&&(i.x=e[0]),d++);h<l;)o&&void 0===e[d]||(0<n[h].indexOf(".")?t.Point.prototype.setNestedProperty(i,e[d],n[h]):i[n[h]]=e[d]),d++,h++;else"object"==typeof e&&(i=e,e.dataLabels&&(a._hasPointLabels=!0),e.marker&&(a._hasPointMarkers=!0));return i},getClassName:function(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(void 0!==this.colorIndex?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+(this.zone&&this.zone.className?" "+this.zone.className.replace("highcharts-negative",""):"")},getZone:function(){var t=this.series,e=t.zones;t=t.zoneAxis||"y";var i,a=0;for(i=e[a];this[t]>=i.value;)i=e[++a];return this.nonZonedColor||(this.nonZonedColor=this.color),this.color=i&&i.color&&!this.options.color?i.color:this.nonZonedColor,i},hasNewShapeType:function(){return this.graphic&&this.graphic.element.nodeName!==this.shapeType},destroy:function(){var t,e=this.series.chart,i=e.hoverPoints;e.pointCount--,i&&(this.setState(),o(i,this),i.length||(e.hoverPoints=null)),this===e.hoverPoint&&this.onMouseOut(),(this.graphic||this.dataLabel||this.dataLabels)&&(u(this),this.destroyElements()),this.legendItem&&e.legend.destroyItem(this);for(t in this)this[t]=null},destroyElements:function(t){var e,i=this,a=[];for(t=t||{graphic:1,dataLabel:1},t.graphic&&a.push("graphic","shadowGroup"),t.dataLabel&&a.push("dataLabel","dataLabelUpper","connector"),e=a.length;e--;){var o=a[e];i[o]&&(i[o]=i[o].destroy())}["dataLabel","connector"].forEach(function(e){var a=e+"s";t[e]&&i[a]&&(i[a].forEach(function(t){t.element&&t.destroy()}),delete i[a])})},getLabelConfig:function(){return{x:this.category,y:this.y,color:this.color,colorIndex:this.colorIndex,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},tooltipFormatter:function(t){var e=this.series,i=e.tooltipOptions,a=d(i.valueDecimals,""),o=i.valuePrefix||"",n=i.valueSuffix||"";return e.chart.styledMode&&(t=e.chart.tooltip.styledModeFormat(t)),(e.pointArrayMap||["y"]).forEach(function(e){e="{point."+e,(o||n)&&(t=t.replace(RegExp(e+"}","g"),o+e+"}"+n)),t=t.replace(RegExp(e+"}","g"),e+":,."+a+"f}")}),c(t,{point:this,series:this.series},e.chart.time)},firePointEvent:function(t,e,i){var a=this,o=this.series.options;(o.point.events[t]||a.options&&a.options.events&&a.options.events[t])&&this.importEvents(),"click"===t&&o.allowPointSelect&&(i=function(t){a.select&&a.select(null,t.ctrlKey||t.metaKey||t.shiftKey)}),h(this,t,e,i)},visible:!0}}),e(i,"parts/Series.js",[i["parts/Globals.js"],i["parts/Utilities.js"]],function(t,e){var i=e.arrayMax,a=e.arrayMin,o=e.defined,n=e.erase,s=e.extend,r=e.isArray,l=e.isNumber,d=e.isString,h=e.objectEach,c=e.pick,p=e.splat,u=e.syncTimeout,f=t.addEvent,m=t.animObject,g=t.correctFloat,v=t.defaultOptions,y=t.defaultPlotOptions,_=t.fireEvent,b=t.merge,M=t.removeEvent,x=t.SVGElement,w=t.win;t.Series=t.seriesType("line",null,{lineWidth:2,allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},marker:{lineWidth:0,lineColor:"#ffffff",enabledThreshold:2,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:50},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{align:"center",formatter:function(){return null===this.y?"":t.numberFormat(this.y,-1)},padding:5,style:{fontSize:"11px",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0},cropThreshold:300,opacity:1,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:50},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{animation:{duration:0}},inactive:{animation:{duration:50},opacity:.2}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"},{axisTypes:["xAxis","yAxis"],coll:"series",colorCounter:0,cropShoulder:1,directTouch:!1,isCartesian:!0,parallelArrays:["x","y"],pointClass:t.Point,requireSorting:!0,sorted:!0,init:function(e,i){_(this,"init",{options:i});var a,o=this,n=e.series;this.eventOptions=this.eventOptions||{},o.chart=e,o.options=i=o.setOptions(i),o.linkedSeries=[],o.bindAxes(),s(o,{name:i.name,state:"",visible:!1!==i.visible,selected:!0===i.selected});var r=i.events;h(r,function(e,i){t.isFunction(e)&&o.eventOptions[i]!==e&&(t.isFunction(o.eventOptions[i])&&M(o,i,o.eventOptions[i]),o.eventOptions[i]=e,f(o,i,e))}),(r&&r.click||i.point&&i.point.events&&i.point.events.click||i.allowPointSelect)&&(e.runTrackerClick=!0),o.getColor(),o.getSymbol(),o.parallelArrays.forEach(function(t){o[t+"Data"]||(o[t+"Data"]=[])}),o.points||o.data||o.setData(i.data,!1),o.isCartesian&&(e.hasCartesianSeries=!0),n.length&&(a=n[n.length-1]),o._i=c(a&&a._i,-1)+1,e.orderSeries(this.insert(n)),_(this,"afterInit")},insert:function(t){var e,i=this.options.index;if(l(i)){for(e=t.length;e--;)if(i>=c(t[e].options.index,t[e]._i)){t.splice(e+1,0,this);break}-1===e&&t.unshift(this),e+=1}else t.push(this);return c(e,t.length-1)},bindAxes:function(){var e,i=this,a=i.options,o=i.chart;_(this,"bindAxes",null,function(){(i.axisTypes||[]).forEach(function(n){o[n].forEach(function(t){e=t.options,(a[n]===e.index||void 0!==a[n]&&a[n]===e.id||void 0===a[n]&&0===e.index)&&(i.insert(t.series),i[n]=t,t.isDirty=!0)}),i[n]||i.optionalAxis===n||t.error(18,!0,o)})})},updateParallelArrays:function(t,e){var i=t.series,a=arguments,o=l(e)?function(a){var o="y"===a&&i.toYData?i.toYData(t):t[a];i[a+"Data"][e]=o}:function(t){Array.prototype[e].apply(i[t+"Data"],Array.prototype.slice.call(a,2))};i.parallelArrays.forEach(o)},hasData:function(){return this.visible&&void 0!==this.dataMax&&void 0!==this.dataMin||this.visible&&this.yData&&0<this.yData.length},autoIncrement:function(){var t,e=this.options,i=this.xIncrement,a=e.pointIntervalUnit,o=this.chart.time;return i=c(i,e.pointStart,0),this.pointInterval=t=c(this.pointInterval,e.pointInterval,1),a&&(e=new o.Date(i),"day"===a?o.set("Date",e,o.get("Date",e)+t):"month"===a?o.set("Month",e,o.get("Month",e)+t):"year"===a&&o.set("FullYear",e,o.get("FullYear",e)+t),t=e.getTime()-i),this.xIncrement=i+t,i},setOptions:function(t){var e=this.chart,i=e.options,a=i.plotOptions,n=e.userOptions||{};t=b(t),e=e.styledMode;var s={plotOptions:a,userOptions:t};_(this,"setOptions",s);var r=s.plotOptions[this.type],l=n.plotOptions||{};return this.userOptions=s.userOptions,n=b(r,a.series,n.plotOptions&&n.plotOptions[this.type],t),this.tooltipOptions=b(v.tooltip,v.plotOptions.series&&v.plotOptions.series.tooltip,v.plotOptions[this.type].tooltip,i.tooltip.userOptions,a.series&&a.series.tooltip,a[this.type].tooltip,t.tooltip),this.stickyTracking=c(t.stickyTracking,l[this.type]&&l[this.type].stickyTracking,l.series&&l.series.stickyTracking,!(!this.tooltipOptions.shared||this.noSharedTooltip)||n.stickyTracking),null===r.marker&&delete n.marker,this.zoneAxis=n.zoneAxis,i=this.zones=(n.zones||[]).slice(),!n.negativeColor&&!n.negativeFillColor||n.zones||(a={value:n[this.zoneAxis+"Threshold"]||n.threshold||0,className:"highcharts-negative"},e||(a.color=n.negativeColor,a.fillColor=n.negativeFillColor),i.push(a)),i.length&&o(i[i.length-1].value)&&i.push(e?{}:{color:this.color,fillColor:this.fillColor}),_(this,"afterSetOptions",{options:n}),n},getName:function(){return c(this.options.name,"Series "+(this.index+1))},getCyclic:function(t,e,i){var a=this.chart,n=this.userOptions,s=t+"Index",r=t+"Counter",l=i?i.length:c(a.options.chart[t+"Count"],a[t+"Count"]);if(!e){var d=c(n[s],n["_"+s]);o(d)||(a.series.length||(a[r]=0),n["_"+s]=d=a[r]%l,a[r]+=1),i&&(e=i[d])}void 0!==d&&(this[s]=d),this[t]=e},getColor:function(){this.chart.styledMode?this.getCyclic("color"):this.options.colorByPoint?this.options.color=null:this.getCyclic("color",this.options.color||y[this.type].color,this.chart.options.colors)},getSymbol:function(){this.getCyclic("symbol",this.options.marker.symbol,this.chart.options.symbols)},findPointIndex:function(t,e){var i=t.id;t=t.x;var a,o=this.points;if(i){var n=(i=this.chart.get(i))&&i.index;void 0!==n&&(a=!0)}return void 0===n&&l(t)&&(n=this.xData.indexOf(t,e)),-1!==n&&void 0!==n&&this.cropped&&(n=n>=this.cropStart?n-this.cropStart:n),!a&&o[n]&&o[n].touched&&(n=void 0),n},drawLegendSymbol:t.LegendSymbolMixin.drawLineMarker,updateData:function(t){var e,i,a,n=this.options,s=this.points,r=[],d=this.requireSorting,h=t.length===s.length,c=!0;if(this.xIncrement=null,t.forEach(function(t,i){var c=o(t)&&this.pointClass.prototype.optionsToObject.call({series:this},t)||{},p=c.x;(c.id||l(p))&&(p=this.findPointIndex(c,a),-1===p||void 0===p?r.push(t):s[p]&&t!==n.data[p]?(s[p].update(t,!1,null,!1),s[p].touched=!0,d&&(a=p+1)):s[p]&&(s[p].touched=!0),(!h||i!==p||this.hasDerivedData)&&(e=!0))},this),e)for(t=s.length;t--;)(i=s[t])&&!i.touched&&i.remove(!1);else h?t.forEach(function(t,e){s[e].update&&t!==s[e].y&&s[e].update(t,!1,null,!1)}):c=!1;return s.forEach(function(t){t&&(t.touched=!1)}),!!c&&(r.forEach(function(t){this.addPoint(t,!1,null,null,!1)},this),!0)},setData:function(e,i,a,o){var n,s=this,h=s.points,p=h&&h.length||0,u=s.options,f=s.chart,m=null,g=s.xAxis;m=u.turboThreshold;var v,y=this.xData,_=this.yData,b=(n=s.pointArrayMap)&&n.length,M=u.keys,x=0,w=1;if(e=e||[],n=e.length,i=c(i,!0),!1!==o&&n&&p&&!s.cropped&&!s.hasGroupedData&&s.visible&&!s.isSeriesBoosting&&(v=this.updateData(e)),!v){if(s.xIncrement=null,s.colorCounter=0,this.parallelArrays.forEach(function(t){s[t+"Data"].length=0}),m&&n>m)if(m=s.getFirstValidPoint(e),l(m))for(a=0;a<n;a++)y[a]=this.autoIncrement(),_[a]=e[a];else if(r(m))if(b)for(a=0;a<n;a++)o=e[a],y[a]=o[0],_[a]=o.slice(1,b+1);else for(M&&(x=M.indexOf("x"),w=M.indexOf("y"),x=0<=x?x:0,w=0<=w?w:1),a=0;a<n;a++)o=e[a],y[a]=o[x],_[a]=o[w];else t.error(12,!1,f);else for(a=0;a<n;a++)void 0!==e[a]&&(o={series:s},s.pointClass.prototype.applyOptions.apply(o,[e[a]]),s.updateParallelArrays(o,a));for(_&&d(_[0])&&t.error(14,!0,f),s.data=[],s.options.data=s.userOptions.data=e,a=p;a--;)h[a]&&h[a].destroy&&h[a].destroy();g&&(g.minRange=g.userMinRange),s.isDirty=f.isDirtyBox=!0,s.isDirtyData=!!h,a=!1}"point"===u.legendType&&(this.processData(),this.generatePoints()),i&&f.redraw(a)},processData:function(e){var i=this.xData,a=this.yData,o=i.length,n=0,s=this.xAxis,r=this.options,l=r.cropThreshold,d=this.getExtremesFromAll||r.getExtremesFromAll,h=this.isCartesian;r=s&&s.val2lin;var c=s&&s.isLog,p=this.requireSorting;if(h&&!this.isDirty&&!s.isDirty&&!this.yAxis.isDirty&&!e)return!1;if(s){e=s.getExtremes();var u=e.min,f=e.max}if(h&&this.sorted&&!d&&(!l||o>l||this.forceCrop))if(i[o-1]<u||i[0]>f)i=[],a=[];else if(this.yData&&(i[0]<u||i[o-1]>f)){n=this.cropData(this.xData,this.yData,u,f),i=n.xData,a=n.yData,n=n.start;var m=!0}for(l=i.length||1;--l;)if(0<(o=c?r(i[l])-r(i[l-1]):i[l]-i[l-1])&&(void 0===g||o<g))var g=o;else 0>o&&p&&(t.error(15,!1,this.chart),p=!1);this.cropped=m,this.cropStart=n,this.processedXData=i,this.processedYData=a,this.closestPointRange=this.basePointRange=g},cropData:function(t,e,i,a,o){var n,s=t.length,r=0,l=s;for(o=c(o,this.cropShoulder),n=0;n<s;n++)if(t[n]>=i){r=Math.max(0,n-o);break}for(i=n;i<s;i++)if(t[i]>a){l=i+o;break}return{xData:t.slice(r,l),yData:e.slice(r,l),start:r,end:l}},generatePoints:function(){var t,e=this.options,i=e.data,a=this.data,o=this.processedXData,n=this.processedYData,r=this.pointClass,l=o.length,d=this.cropStart||0,h=this.hasGroupedData;e=e.keys;var c,u=[];for(a||h||(a=[],a.length=i.length,a=this.data=a),e&&h&&(this.options.keys=!1),c=0;c<l;c++){var f=d+c;if(h){var m=(new r).init(this,[o[c]].concat(p(n[c])));m.dataGroup=this.groupMap[c],m.dataGroup.options&&(m.options=m.dataGroup.options,s(m,m.dataGroup.options),delete m.dataLabels)}else(m=a[f])||void 0===i[f]||(a[f]=m=(new r).init(this,i[f],o[c]));m&&(m.index=f,u[c]=m)}if(this.options.keys=e,a&&(l!==(t=a.length)||h))for(c=0;c<t;c++)c!==d||h||(c+=l),a[c]&&(a[c].destroyElements(),a[c].plotX=void 0);this.data=a,this.points=u,_(this,"afterGeneratePoints")},getXExtremes:function(t){return{min:a(t),max:i(t)}},getExtremes:function(t){var e,o=this.xAxis,n=this.yAxis,s=this.processedXData||this.xData,d=[],h=0,c=0,p=0,u=this.requireSorting?this.cropShoulder:0,f=!!n&&n.positiveValuesOnly;for(t=t||this.stackedYData||this.processedYData||[],n=t.length,o&&(p=o.getExtremes(),c=p.min,p=p.max),e=0;e<n;e++){var m=s[e],g=t[e],v=(l(g)||r(g))&&(g.length||0<g||!f);if(m=this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||!o||(s[e+u]||m)>=c&&(s[e-u]||m)<=p,v&&m)if(v=g.length)for(;v--;)l(g[v])&&(d[h++]=g[v]);else d[h++]=g}this.dataMin=a(d),this.dataMax=i(d),_(this,"afterGetExtremes")},getFirstValidPoint:function(t){for(var e=null,i=t.length,a=0;null===e&&a<i;)e=t[a],a++;return e},translate:function(){this.processedXData||this.processData(),this.generatePoints();var t,e,i=this.options,a=i.stacking,n=this.xAxis,s=n.categories,d=this.yAxis,h=this.points,p=h.length,u=!!this.modifyValue,f=this.pointPlacementToXValue(),m=l(f),v=i.threshold,y=i.startFromThreshold?v:0,b=this.zoneAxis||"y",M=Number.MAX_VALUE;for(t=0;t<p;t++){var x=h[t],w=x.x,k=x.y,O=x.low,C=a&&d.stacks[(this.negStacks&&k<(y?0:v)?"-":"")+this.stackKey];if(d.positiveValuesOnly&&null!==k&&0>=k&&(x.isNull=!0),x.plotX=e=g(Math.min(Math.max(-1e5,n.translate(w,0,0,0,1,f,"flags"===this.type)),1e5)),a&&this.visible&&C&&C[w]){var E=this.getStackIndicator(E,w,this.index);if(!x.isNull)var D=C[w],T=D.points[E.key]}if(r(T)&&(O=T[0],k=T[1],O===y&&E.key===C[w].base&&(O=c(l(v)&&v,d.min)),d.positiveValuesOnly&&0>=O&&(O=null),x.total=x.stackTotal=D.total,x.percentage=D.total&&x.y/D.total*100,x.stackY=k,this.irregularWidths||D.setOffset(this.pointXOffset||0,this.barW||0)),x.yBottom=o(O)?Math.min(Math.max(-1e5,d.translate(O,0,1,0,1)),1e5):null,u&&(k=this.modifyValue(k,x)),x.plotY=k="number"==typeof k&&1/0!==k?Math.min(Math.max(-1e5,d.translate(k,0,1,0,1)),1e5):void 0,x.isInside=void 0!==k&&0<=k&&k<=d.len&&0<=e&&e<=n.len,x.clientX=m?g(n.translate(w,0,0,0,1,f)):e,x.negative=x[b]<(i[b+"Threshold"]||v||0),x.category=s&&void 0!==s[x.x]?s[x.x]:x.x,!x.isNull){void 0!==A&&(M=Math.min(M,Math.abs(e-A)));var A=e}x.zone=this.zones.length&&x.getZone()}this.closestPointRangePx=M,_(this,"afterTranslate")},getValidPoints:function(t,e,i){var a=this.chart;return(t||this.points||[]).filter(function(t){return!(e&&!a.isInsidePlot(t.plotX,t.plotY,a.inverted))&&(i||!t.isNull)})},getClipBox:function(t,e){var i=this.options,a=this.chart,o=a.inverted,n=this.xAxis,s=n&&this.yAxis;return t&&!1===i.clip&&s?t=o?{y:-a.chartWidth+s.len+s.pos,height:a.chartWidth,width:a.chartHeight,x:-a.chartHeight+n.len+n.pos}:{y:-s.pos,height:a.chartHeight,width:a.chartWidth,x:-n.pos}:(t=this.clipBox||a.clipBox,e&&(t.width=a.plotSizeX,t.x=0)),e?{width:t.width,x:t.x}:t},setClip:function(t){var e=this.chart,i=this.options,a=e.renderer,o=e.inverted,n=this.clipBox,s=this.getClipBox(t),r=this.sharedClipKey||["_sharedClip",t&&t.duration,t&&t.easing,s.height,i.xAxis,i.yAxis].join(),l=e[r],d=e[r+"m"];l||(t&&(s.width=0,o&&(s.x=e.plotSizeX+(!1!==i.clip?0:e.plotTop)),e[r+"m"]=d=a.clipRect(o?e.plotSizeX+99:-99,o?-e.plotLeft:-e.plotTop,99,o?e.chartWidth:e.chartHeight)),e[r]=l=a.clipRect(s),l.count={length:0}),t&&!l.count[this.index]&&(l.count[this.index]=!0,l.count.length+=1),(!1!==i.clip||t)&&(this.group.clip(t||n?l:e.clipRect),this.markerGroup.clip(d),this.sharedClipKey=r),t||(l.count[this.index]&&(delete l.count[this.index],--l.count.length),0===l.count.length&&r&&e[r]&&(n||(e[r]=e[r].destroy()),e[r+"m"]&&(e[r+"m"]=e[r+"m"].destroy())))},animate:function(t){var e=this.chart,i=m(this.options.animation);if(t)this.setClip(i);else{var a=this.sharedClipKey;t=e[a];var o=this.getClipBox(i,!0);t&&t.animate(o,i),e[a+"m"]&&e[a+"m"].animate({width:o.width+99,x:o.x-(e.inverted?0:99)},i),this.animate=null}},afterAnimate:function(){this.setClip(),_(this,"afterAnimate"),this.finishedAnimating=!0},drawPoints:function(){var t,e=this.points,i=this.chart,a=this.options.marker,o=this[this.specialGroup]||this.markerGroup,n=this.xAxis,s=c(a.enabled,!(n&&!n.isRadial)||null,this.closestPointRangePx>=a.enabledThreshold*a.radius);if(!1!==a.enabled||this._hasPointMarkers)for(n=0;n<e.length;n++){var r=e[n],l=(t=r.graphic)?"animate":"attr",d=r.marker||{},h=!!r.marker,p=s&&void 0===d.enabled||d.enabled,u=!1!==r.isInside;if(p&&!r.isNull){var f=c(d.symbol,this.symbol);p=this.markerAttribs(r,r.selected&&"select"),t?t[u?"show":"hide"](u).animate(p):u&&(0<p.width||r.hasImage)&&(r.graphic=t=i.renderer.symbol(f,p.x,p.y,p.width,p.height,h?d:a).add(o)),t&&!i.styledMode&&t[l](this.pointAttribs(r,r.selected&&"select")),t&&t.addClass(r.getClassName(),!0)}else t&&(r.graphic=t.destroy())}},markerAttribs:function(t,e){var i=this.options.marker,a=t.marker||{},o=a.symbol||i.symbol,n=c(a.radius,i.radius);return e&&(i=i.states[e],e=a.states&&a.states[e],n=c(e&&e.radius,i&&i.radius,n+(i&&i.radiusPlus||0))),t.hasImage=o&&0===o.indexOf("url"),t.hasImage&&(n=0),t={x:Math.floor(t.plotX)-n,y:t.plotY-n},n&&(t.width=t.height=2*n),t},pointAttribs:function(t,e){var i=this.options.marker,a=t&&t.options,o=a&&a.marker||{},n=this.color,s=a&&a.color,r=t&&t.color;a=c(o.lineWidth,i.lineWidth);var l=t&&t.zone&&t.zone.color;return t=1,n=s||l||r||n,s=o.fillColor||i.fillColor||n,n=o.lineColor||i.lineColor||n,e=e||"normal",i=i.states[e],e=o.states&&o.states[e]||{},a=c(e.lineWidth,i.lineWidth,a+c(e.lineWidthPlus,i.lineWidthPlus,0)),s=e.fillColor||i.fillColor||s,n=e.lineColor||i.lineColor||n,t=c(e.opacity,i.opacity,t),{stroke:n,"stroke-width":a,fill:s,opacity:t}},destroy:function(e){var i,a,o,s,r=this,l=r.chart,d=/AppleWebKit\/533/.test(w.navigator.userAgent),c=r.data||[];for(_(r,"destroy"),e||M(r),(r.axisTypes||[]).forEach(function(t){(s=r[t])&&s.series&&(n(s.series,r),s.isDirty=s.forceRedraw=!0)}),r.legendItem&&r.chart.legend.destroyItem(r),a=c.length;a--;)(o=c[a])&&o.destroy&&o.destroy();r.points=null,t.clearTimeout(r.animationTimeout),h(r,function(t,e){t instanceof x&&!t.survive&&(i=d&&"group"===e?"hide":"destroy",t[i]())}),l.hoverSeries===r&&(l.hoverSeries=null),n(l.series,r),l.orderSeries(),h(r,function(t,i){e&&"hcEvents"===i||delete r[i]})},getGraphPath:function(t,e,i){var a,n,s=this,r=s.options,l=r.step,d=[],h=[];return t=t||s.points,(a=t.reversed)&&t.reverse(),(l={right:1,center:2}[l]||l&&3)&&a&&(l=4-l),!r.connectNulls||e||i||(t=this.getValidPoints(t)),t.forEach(function(a,c){var p=a.plotX,u=a.plotY,f=t[c-1];(a.leftCliff||f&&f.rightCliff)&&!i&&(n=!0),a.isNull&&!o(e)&&0<c?n=!r.connectNulls:a.isNull&&!e?n=!0:(0===c||n?c=["M",a.plotX,a.plotY]:s.getPointSpline?c=s.getPointSpline(t,a,c):l?(c=1===l?["L",f.plotX,u]:2===l?["L",(f.plotX+p)/2,f.plotY,"L",(f.plotX+p)/2,u]:["L",p,f.plotY],c.push("L",p,u)):c=["L",p,u],h.push(a.x),l&&(h.push(a.x),2===l&&h.push(a.x)),d.push.apply(d,c),n=!1)}),d.xMap=h,s.graphPath=d},drawGraph:function(){var t=this,e=this.options,i=(this.gappedPath||this.getGraphPath).call(this),a=this.chart.styledMode,o=[["graph","highcharts-graph"]];a||o[0].push(e.lineColor||this.color||"#cccccc",e.dashStyle),o=t.getZonesGraphs(o),o.forEach(function(o,n){var s=o[0],r=t[s],l=r?"animate":"attr";r?(r.endX=t.preventGraphAnimation?null:i.xMap,r.animate({d:i})):i.length&&(t[s]=r=t.chart.renderer.path(i).addClass(o[1]).attr({zIndex:1}).add(t.group)),r&&!a&&(s={stroke:o[2],"stroke-width":e.lineWidth,fill:t.fillGraph&&t.color||"none"},o[3]?s.dashstyle=o[3]:"square"!==e.linecap&&(s["stroke-linecap"]=s["stroke-linejoin"]="round"),r[l](s).shadow(2>n&&e.shadow)),r&&(r.startX=i.xMap,r.isArea=i.isArea)})},getZonesGraphs:function(t){return this.zones.forEach(function(e,i){i=["zone-graph-"+i,"highcharts-graph highcharts-zone-graph-"+i+" "+(e.className||"")],this.chart.styledMode||i.push(e.color||this.color,e.dashStyle||this.options.dashStyle),t.push(i)},this),t},applyZones:function(){var t,e,i,a,o,n,s=this,r=this.chart,l=r.renderer,d=this.zones,h=this.clips||[],p=this.graph,u=this.area,f=Math.max(r.chartWidth,r.chartHeight),m=this[(this.zoneAxis||"y")+"Axis"],g=r.inverted,v=!1;if(d.length&&(p||u)&&m&&void 0!==m.min){var y=m.reversed,_=m.horiz;p&&!this.showLine&&p.hide(),u&&u.hide();var b=m.getExtremes();d.forEach(function(d,M){t=y?_?r.plotWidth:0:_?0:m.toPixels(b.min)||0,t=Math.min(Math.max(c(e,t),0),f),e=Math.min(Math.max(Math.round(m.toPixels(c(d.value,b.max),!0)||0),0),f),v&&(t=e=m.toPixels(b.max)),a=Math.abs(t-e),o=Math.min(t,e),n=Math.max(t,e),m.isXAxis?(i={x:g?n:o,y:0,width:a,height:f},_||(i.x=r.plotHeight-i.x)):(i={x:0,y:g?n:o,width:f,height:a},_&&(i.y=r.plotWidth-i.y)),g&&l.isVML&&(i=m.isXAxis?{x:0,y:y?o:n,height:i.width,width:r.chartWidth}:{x:i.y-r.plotLeft-r.spacingBox.x,y:0,width:i.height,height:r.chartHeight}),h[M]?h[M].animate(i):h[M]=l.clipRect(i),p&&s["zone-graph-"+M].clip(h[M]),u&&s["zone-area-"+M].clip(h[M]),v=d.value>b.max,s.resetZones&&0===e&&(e=void 0)}),this.clips=h}else s.visible&&(p&&p.show(!0),u&&u.show(!0))},invertGroups:function(t){function e(){["group","markerGroup"].forEach(function(e){i[e]&&(a.renderer.isVML&&i[e].attr({width:i.yAxis.len,height:i.xAxis.len}),i[e].width=i.yAxis.len,i[e].height=i.xAxis.len,i[e].invert(t))})}var i=this,a=i.chart;if(i.xAxis){var o=f(a,"resize",e);f(i,"destroy",o),e(),i.invertGroups=e}},plotGroup:function(t,e,i,a,n){var s=this[t],r=!s;return r&&(this[t]=s=this.chart.renderer.g().attr({zIndex:a||.1}).add(n)),s.addClass("highcharts-"+e+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(o(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(s.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),s.attr({visibility:i})[r?"attr":"animate"](this.getPlotBox()),s},getPlotBox:function(){var t=this.chart,e=this.xAxis,i=this.yAxis;return t.inverted&&(e=i,i=this.xAxis),{translateX:e?e.left:t.plotLeft,translateY:i?i.top:t.plotTop,scaleX:1,scaleY:1}},render:function(){var t=this,e=t.chart,i=t.options,a=!!t.animate&&e.renderer.isSVG&&m(i.animation).duration,o=t.visible?"inherit":"hidden",n=i.zIndex,s=t.hasRendered,r=e.seriesGroup,l=e.inverted;_(this,"render");var d=t.plotGroup("group","series",o,n,r);t.markerGroup=t.plotGroup("markerGroup","markers",o,n,r),a&&t.animate(!0),d.inverted=!(!t.isCartesian&&!t.invertable)&&l,t.drawGraph&&(t.drawGraph(),t.applyZones()),t.visible&&t.drawPoints(),t.drawDataLabels&&t.drawDataLabels(),t.redrawPoints&&t.redrawPoints(),t.drawTracker&&!1!==t.options.enableMouseTracking&&t.drawTracker(),t.invertGroups(l),!1===i.clip||t.sharedClipKey||s||d.clip(e.clipRect),a&&t.animate(),s||(t.animationTimeout=u(function(){t.afterAnimate()},a||0)),t.isDirty=!1,t.hasRendered=!0,_(t,"afterRender")},redraw:function(){var t=this.chart,e=this.isDirty||this.isDirtyData,i=this.group,a=this.xAxis,o=this.yAxis;i&&(t.inverted&&i.attr({width:t.plotWidth,height:t.plotHeight}),i.animate({translateX:c(a&&a.left,t.plotLeft),translateY:c(o&&o.top,t.plotTop)})),this.translate(),this.render(),e&&delete this.kdTree},kdAxisArray:["clientX","plotY"],searchPoint:function(t,e){var i=this.xAxis,a=this.yAxis,o=this.chart.inverted;return this.searchKDTree({clientX:o?i.len-t.chartY+i.pos:t.chartX-i.pos,plotY:o?a.len-t.chartX+a.pos:t.chartY-a.pos},e,t)},buildKDTree:function(t){function e(t,a,o){var n;if(n=t&&t.length){var s=i.kdAxisArray[a%o];return t.sort(function(t,e){return t[s]-e[s]}),n=Math.floor(n/2),{point:t[n],left:e(t.slice(0,n),a+1,o),right:e(t.slice(n+1),a+1,o)}}}this.buildingKdTree=!0;var i=this,a=-1<i.options.findNearestPointBy.indexOf("y")?2:1;delete i.kdTree,u(function(){i.kdTree=e(i.getValidPoints(null,!i.directTouch),a,a),i.buildingKdTree=!1},i.options.kdNow||t&&"touchstart"===t.type?0:1)},searchKDTree:function(t,e,i){function a(t,e,i,d){var h=e.point,c=n.kdAxisArray[i%d],p=h,u=o(t[s])&&o(h[s])?Math.pow(t[s]-h[s],2):null,f=o(t[r])&&o(h[r])?Math.pow(t[r]-h[r],2):null;return f=(u||0)+(f||0),h.dist=o(f)?Math.sqrt(f):Number.MAX_VALUE,h.distX=o(u)?Math.sqrt(u):Number.MAX_VALUE,c=t[c]-h[c],f=0>c?"left":"right",u=0>c?"right":"left",e[f]&&(f=a(t,e[f],i+1,d),p=f[l]<p[l]?f:h),e[u]&&Math.sqrt(c*c)<p[l]&&(t=a(t,e[u],i+1,d),p=t[l]<p[l]?t:p),p}var n=this,s=this.kdAxisArray[0],r=this.kdAxisArray[1],l=e?"distX":"dist";if(e=-1<n.options.findNearestPointBy.indexOf("y")?2:1,this.kdTree||this.buildingKdTree||this.buildKDTree(i),this.kdTree)return a(t,this.kdTree,e,e)},pointPlacementToXValue:function(){var t=this.xAxis,e=this.options.pointPlacement;return"between"===e&&(e=t.reversed?-.5:.5),l(e)&&(e*=c(this.options.pointRange||t.pointRange)),e}})}),e(i,"parts/Stacking.js",[i["parts/Globals.js"],i["parts/Utilities.js"]],function(t,e){var i=e.defined,a=e.destroyObjectProperties,o=e.objectEach,n=e.pick;e=t.Axis;var s=t.Chart,r=t.correctFloat,l=t.format,d=t.Series;t.StackItem=function(t,e,i,a,o){var n=t.chart.inverted;this.axis=t,this.isNegative=i,this.options=e=e||{},this.x=a,this.total=null,this.points={},this.stack=o,this.rightCliff=this.leftCliff=0,this.alignOptions={align:e.align||(n?i?"left":"right":"center"),verticalAlign:e.verticalAlign||(n?"middle":i?"bottom":"top"),y:e.y,x:e.x},this.textAlign=e.textAlign||(n?i?"right":"left":"center")},t.StackItem.prototype={destroy:function(){a(this,this.axis)},render:function(t){var e=this.axis.chart,i=this.options,a=i.format;a=a?l(a,this,e.time):i.formatter.call(this),this.label?this.label.attr({text:a,visibility:"hidden"}):(this.label=e.renderer.label(a,null,null,i.shape,null,null,i.useHTML,!1,"stack-labels"),a={text:a,align:this.textAlign,rotation:i.rotation,padding:n(i.padding,0),visibility:"hidden"},this.label.attr(a),e.styledMode||this.label.css(i.style),this.label.added||this.label.add(t)),this.label.labelrank=e.plotHeight},setOffset:function(t,e,a,o,s){var r=this.axis,l=r.chart;if(o=r.translate(r.usePercentage?100:o||this.total,0,0,0,1),a=r.translate(a||0),a=i(o)&&Math.abs(o-a),t=n(s,l.xAxis[0].translate(this.x))+t,r=i(o)&&this.getStackBox(l,this,t,o,e,a,r),e=this.label,t=this.isNegative,s="justify"===n(this.options.overflow,"justify"),e&&r){a=e.getBBox();var h=l.inverted?t?a.width:0:a.width/2,c=l.inverted?a.height/2:t?-4:a.height+4;this.alignOptions.x=n(this.options.x,0),e.align(this.alignOptions,null,r),o=e.alignAttr,e.show(),o.y-=c,s&&(o.x-=h,d.prototype.justifyDataLabel.call(this.axis,e,this.alignOptions,o,a,r),o.x+=h),o.x=e.alignAttr.x,e.attr({x:o.x,y:o.y}),n(!s&&this.options.crop,!0)&&((l=l.isInsidePlot(e.x+(l.inverted?0:-a.width/2),e.y)&&l.isInsidePlot(e.x+(l.inverted?t?-a.width:a.width:a.width/2),e.y+a.height))||e.hide())}},getStackBox:function(t,e,i,a,o,n,s){var r=e.axis.reversed,l=t.inverted;return t=s.height+s.pos-(l?t.plotLeft:t.plotTop),e=e.isNegative&&!r||!e.isNegative&&r,{x:l?e?a:a-n:i,y:l?t-i-o:e?t-a-n:t-a,width:l?n:o,height:l?o:n}}},s.prototype.getStacks=function(){var t=this,e=t.inverted;t.yAxis.forEach(function(t){t.stacks&&t.hasVisibleSeries&&(t.oldStacks=t.stacks)}),t.series.forEach(function(i){var a=i.xAxis&&i.xAxis.options||{};!i.options.stacking||!0!==i.visible&&!1!==t.options.chart.ignoreHiddenSeries||(i.stackKey=[i.type,n(i.options.stack,""),e?a.top:a.left,e?a.height:a.width].join())})},e.prototype.buildStacks=function(){var t,e=this.series,i=n(this.options.reversedStacks,!0),a=e.length;if(!this.isXAxis){for(this.usePercentage=!1,t=a;t--;)e[i?t:a-t-1].setStackedPoints();for(t=0;t<a;t++)e[t].modifyStacks()}},e.prototype.renderStackTotals=function(){var t=this.chart,e=t.renderer,i=this.stacks,a=this.stackTotalGroup;a||(this.stackTotalGroup=a=e.g("stack-labels").attr({visibility:"visible",zIndex:6}).add()),a.translate(t.plotLeft,t.plotTop),o(i,function(t){o(t,function(t){t.render(a)})})},e.prototype.resetStacks=function(){var t=this,e=t.stacks;t.isXAxis||o(e,function(e){o(e,function(i,a){i.touched<t.stacksTouched?(i.destroy(),delete e[a]):(i.total=null,i.cumulative=null)})})},e.prototype.cleanStacks=function(){if(!this.isXAxis){if(this.oldStacks)var t=this.stacks=this.oldStacks;o(t,function(t){o(t,function(t){t.cumulative=t.total})})}},d.prototype.setStackedPoints=function(){if(this.options.stacking&&(!0===this.visible||!1===this.chart.options.chart.ignoreHiddenSeries)){var e=this.processedXData,a=this.processedYData,o=[],s=a.length,l=this.options,d=l.threshold,h=n(l.startFromThreshold&&d,0),c=l.stack;l=l.stacking;var p,u,f=this.stackKey,m="-"+f,g=this.negStacks,v=this.yAxis,y=v.stacks,_=v.oldStacks;for(v.stacksTouched+=1,u=0;u<s;u++){var b=e[u],M=a[u],x=this.getStackIndicator(x,b,this.index),w=x.key,k=(p=g&&M<(h?0:d))?m:f;y[k]||(y[k]={}),y[k][b]||(_[k]&&_[k][b]?(y[k][b]=_[k][b],y[k][b].total=null):y[k][b]=new t.StackItem(v,v.options.stackLabels,p,b,c)),k=y[k][b],null!==M?(k.points[w]=k.points[this.index]=[n(k.cumulative,h)],i(k.cumulative)||(k.base=w),k.touched=v.stacksTouched,0<x.index&&!1===this.singleStacks&&(k.points[w][0]=k.points[this.index+","+b+",0"][0])):k.points[w]=k.points[this.index]=null,"percent"===l?(p=p?f:m,g&&y[p]&&y[p][b]?(p=y[p][b],k.total=p.total=Math.max(p.total,k.total)+Math.abs(M)||0):k.total=r(k.total+(Math.abs(M)||0))):k.total=r(k.total+(M||0)),k.cumulative=n(k.cumulative,h)+(M||0),null!==M&&(k.points[w].push(k.cumulative),o[u]=k.cumulative)}"percent"===l&&(v.usePercentage=!0),this.stackedYData=o,v.oldStacks={}}},d.prototype.modifyStacks=function(){var t,e=this,i=e.stackKey,a=e.yAxis.stacks,o=e.processedXData,n=e.options.stacking;e[n+"Stacker"]&&[i,"-"+i].forEach(function(i){for(var s,r,l=o.length;l--;)s=o[l],t=e.getStackIndicator(t,s,e.index,i),(r=(s=a[i]&&a[i][s])&&s.points[t.key])&&e[n+"Stacker"](r,s,l)})},d.prototype.percentStacker=function(t,e,i){e=e.total?100/e.total:0,t[0]=r(t[0]*e),t[1]=r(t[1]*e),this.stackedYData[i]=t[1]},d.prototype.getStackIndicator=function(t,e,a,o){return!i(t)||t.x!==e||o&&t.key!==o?t={x:e,index:0,key:o}:t.index++,t.key=[a,e,t.index].join(),t}}),e(i,"parts/Dynamics.js",[i["parts/Globals.js"],i["parts/Utilities.js"]],function(t,e){var i=e.defined,a=e.erase,o=e.extend,n=e.isArray,s=e.isNumber,r=e.isObject,l=e.isString,d=e.objectEach,h=e.pick,c=e.setAnimation,p=e.splat,u=t.addEvent,f=t.animate,m=t.Axis;e=t.Chart;var g=t.createElement,v=t.css,y=t.fireEvent,_=t.merge,b=t.Point,M=t.Series,x=t.seriesTypes;t.cleanRecursively=function(e,i){var a={};return d(e,function(o,n){r(e[n],!0)&&!e.nodeType&&i[n]?(o=t.cleanRecursively(e[n],i[n]),Object.keys(o).length&&(a[n]=o)):(r(e[n])||e[n]!==i[n])&&(a[n]=e[n])}),a},o(e.prototype,{addSeries:function(t,e,i){var a,o=this;return t&&(e=h(e,!0),y(o,"addSeries",{options:t},function(){a=o.initSeries(t),o.isDirtyLegend=!0,o.linkSeries(),y(o,"afterAddSeries",{series:a}),e&&o.redraw(i)})),a},addAxis:function(t,e,i,a){return this.createAxis(e?"xAxis":"yAxis",{axis:t,redraw:i,animation:a})},addColorAxis:function(t,e,i){return this.createAxis("colorAxis",{axis:t,redraw:e,animation:i})},createAxis:function(e,i){var a=this.options,o="colorAxis"===e,n=i.redraw,s=i.animation;i=_(i.axis,{index:this[e].length,isX:"xAxis"===e});var r=o?new t.ColorAxis(this,i):new m(this,i);return a[e]=p(a[e]||{}),a[e].push(i),o&&(this.isDirtyLegend=!0,this.axes.forEach(function(t){t.series=[]}),this.series.forEach(function(t){t.bindAxes(),t.isDirtyData=!0})),h(n,!0)&&this.redraw(s),r},showLoading:function(t){var e=this,i=e.options,a=e.loadingDiv,n=i.loading,s=function(){a&&v(a,{left:e.plotLeft+"px",top:e.plotTop+"px",width:e.plotWidth+"px",height:e.plotHeight+"px"})};a||(e.loadingDiv=a=g("div",{className:"highcharts-loading highcharts-loading-hidden"},null,e.container),e.loadingSpan=g("span",{className:"highcharts-loading-inner"},null,a),u(e,"redraw",s)),a.className="highcharts-loading",e.loadingSpan.innerHTML=h(t,i.lang.loading,""),e.styledMode||(v(a,o(n.style,{zIndex:10})),v(e.loadingSpan,n.labelStyle),e.loadingShown||(v(a,{opacity:0,display:""}),f(a,{opacity:n.style.opacity||.5},{duration:n.showDuration||0}))),e.loadingShown=!0,s()},hideLoading:function(){var t=this.options,e=this.loadingDiv;e&&(e.className="highcharts-loading highcharts-loading-hidden",this.styledMode||f(e,{opacity:0},{duration:t.loading.hideDuration||100,complete:function(){v(e,{display:"none"})}})),this.loadingShown=!1},propsRequireDirtyBox:"backgroundColor borderColor borderWidth borderRadius plotBackgroundColor plotBackgroundImage plotBorderColor plotBorderWidth plotShadow shadow".split(" "),propsRequireReflow:"margin marginTop marginRight marginBottom marginLeft spacing spacingTop spacingRight spacingBottom spacingLeft".split(" "),propsRequireUpdateSeries:"chart.inverted chart.polar chart.ignoreHiddenSeries chart.type colors plotOptions time tooltip".split(" "),collectionsWithUpdate:"xAxis yAxis zAxis colorAxis series pane".split(" "),update:function(e,a,o,n){var r,c,u,f=this,m={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"},g=e.isResponsiveOptions,v=[];if(y(f,"update",{options:e}),g||f.setResponsive(!1,!0),e=t.cleanRecursively(e,f.options),_(!0,f.userOptions,e),r=e.chart){if(_(!0,f.options.chart,r),"className"in r&&f.setClassName(r.className),"reflow"in r&&f.setReflow(r.reflow),"inverted"in r||"polar"in r||"type"in r){f.propFromSeries();var b=!0}"alignTicks"in r&&(b=!0),d(r,function(t,e){-1!==f.propsRequireUpdateSeries.indexOf("chart."+e)&&(c=!0),-1!==f.propsRequireDirtyBox.indexOf(e)&&(f.isDirtyBox=!0),g||-1===f.propsRequireReflow.indexOf(e)||(u=!0)}),!f.styledMode&&"style"in r&&f.renderer.setStyle(r.style)}!f.styledMode&&e.colors&&(this.options.colors=e.colors),e.plotOptions&&_(!0,this.options.plotOptions,e.plotOptions),e.time&&this.time===t.time&&(this.time=new t.Time(e.time)),d(e,function(t,e){f[e]&&"function"==typeof f[e].update?f[e].update(t,!1):"function"==typeof f[m[e]]&&f[m[e]](t),"chart"!==e&&-1!==f.propsRequireUpdateSeries.indexOf(e)&&(c=!0)}),this.collectionsWithUpdate.forEach(function(t){if(e[t]){if("series"===t){var a=[];f[t].forEach(function(t,e){t.options.isInternal||a.push(h(t.options.index,e))})}p(e[t]).forEach(function(e,n){(n=i(e.id)&&f.get(e.id)||f[t][a?a[n]:n])&&n.coll===t&&(n.update(e,!1),o&&(n.touched=!0)),!n&&o&&f.collectionsWithInit[t]&&(f.collectionsWithInit[t][0].apply(f,[e].concat(f.collectionsWithInit[t][1]||[]).concat([!1])).touched=!0)}),o&&f[t].forEach(function(t){t.touched||t.options.isInternal?delete t.touched:v.push(t)})}}),v.forEach(function(t){t.remove&&t.remove(!1)}),b&&f.axes.forEach(function(t){t.update({},!1)}),c&&f.series.forEach(function(t){t.update({},!1)}),e.loading&&_(!0,f.options.loading,e.loading),b=r&&r.width,r=r&&r.height,l(r)&&(r=t.relativeLength(r,b||f.chartWidth)),u||s(b)&&b!==f.chartWidth||s(r)&&r!==f.chartHeight?f.setSize(b,r,n):h(a,!0)&&f.redraw(n),y(f,"afterUpdate",{options:e,redraw:a,animation:n})},setSubtitle:function(t,e){this.applyDescription("subtitle",t),this.layOutTitles(e)},setCaption:function(t,e){this.applyDescription("caption",t),this.layOutTitles(e)}}),e.prototype.collectionsWithInit={xAxis:[e.prototype.addAxis,[!0]],yAxis:[e.prototype.addAxis,[!1]],colorAxis:[e.prototype.addColorAxis,[!1]],series:[e.prototype.addSeries]},o(b.prototype,{update:function(t,e,i,a){function o(){s.applyOptions(t),null===s.y&&d&&(s.graphic=d.destroy()),r(t,!0)&&(d&&d.element&&t&&t.marker&&void 0!==t.marker.symbol&&(s.graphic=d.destroy()),t&&t.dataLabels&&s.dataLabel&&(s.dataLabel=s.dataLabel.destroy()),s.connector&&(s.connector=s.connector.destroy())),n=s.index,l.updateParallelArrays(s,n),p.data[n]=r(p.data[n],!0)||r(t,!0)?s.options:h(t,p.data[n]),l.isDirty=l.isDirtyData=!0,!l.fixedBox&&l.hasCartesianSeries&&(c.isDirtyBox=!0),"point"===p.legendType&&(c.isDirtyLegend=!0),e&&c.redraw(i)}var n,s=this,l=s.series,d=s.graphic,c=l.chart,p=l.options;e=h(e,!0),!1===a?o():s.firePointEvent("update",{options:t},o)},remove:function(t,e){this.series.removePoint(this.series.data.indexOf(this),t,e)}}),o(M.prototype,{addPoint:function(t,e,i,a,o){var n=this.options,s=this.data,r=this.chart,l=this.xAxis;l=l&&l.hasNames&&l.names;var d,c=n.data,p=this.xData;e=h(e,!0);var u={series:this};this.pointClass.prototype.applyOptions.apply(u,[t]);var f=u.x,m=p.length;if(this.requireSorting&&f<p[m-1])for(d=!0;m&&p[m-1]>f;)m--;this.updateParallelArrays(u,"splice",m,0,0),this.updateParallelArrays(u,m),l&&u.name&&(l[f]=u.name),c.splice(m,0,t),d&&(this.data.splice(m,0,null),this.processData()),"point"===n.legendType&&this.generatePoints(),i&&(s[0]&&s[0].remove?s[0].remove(!1):(s.shift(),this.updateParallelArrays(u,"shift"),c.shift())),!1!==o&&y(this,"addPoint",{point:u}),this.isDirtyData=this.isDirty=!0,e&&r.redraw(a)},removePoint:function(t,e,i){var a=this,o=a.data,n=o[t],s=a.points,r=a.chart,l=function(){s&&s.length===o.length&&s.splice(t,1),o.splice(t,1),a.options.data.splice(t,1),a.updateParallelArrays(n||{series:a},"splice",t,1),n&&n.destroy(),a.isDirty=!0,a.isDirtyData=!0,e&&r.redraw()};c(i,r),e=h(e,!0),n?n.firePointEvent("remove",null,l):l()},remove:function(t,e,i,a){function o(){n.destroy(a),n.remove=null,s.isDirtyLegend=s.isDirtyBox=!0,s.linkSeries(),h(t,!0)&&s.redraw(e)}var n=this,s=n.chart;!1!==i?y(n,"remove",null,o):o()},update:function(e,i){e=t.cleanRecursively(e,this.userOptions),y(this,"update",{options:e});var a,n=this,s=n.chart,r=n.userOptions,l=n.initialType||n.type,d=e.type||r.type||s.options.chart.type,c=!(this.hasDerivedData||e.dataGrouping||d&&d!==this.type||void 0!==e.pointStart||e.pointInterval||e.pointIntervalUnit||e.keys),p=x[l].prototype,u=["group","markerGroup","dataLabelsGroup","transformGroup"],f=["eventOptions","navigatorSeries","baseSeries"],m=n.finishedAnimating&&{animation:!1},g={};c&&(f.push("data","isDirtyData","points","processedXData","processedYData","xIncrement","_hasPointMarkers","_hasPointLabels","mapMap","mapData","minY","maxY","minX","maxX"),!1!==e.visible&&f.push("area","graph"),n.parallelArrays.forEach(function(t){f.push(t+"Data")}),e.data&&this.setData(e.data,!1)),e=_(r,m,{index:void 0===r.index?n.index:r.index,pointStart:h(r.pointStart,n.xData[0])},!c&&{data:n.options.data},e),c&&e.data&&(e.data=n.options.data),f=u.concat(f),f.forEach(function(t){f[t]=n[t],delete n[t]}),n.remove(!1,null,!1,!0);for(a in p)n[a]=void 0;if(x[d||l]?o(n,x[d||l].prototype):t.error(17,!0,s,{missingModuleFor:d||l}),f.forEach(function(t){n[t]=f[t]}),n.init(s,e),c&&this.points){var v=n.options;!1===v.visible?(g.graphic=1,g.dataLabel=1):n._hasPointLabels||(d=v.marker,p=v.dataLabels,d&&(!1===d.enabled||"symbol"in d)&&(g.graphic=1),p&&!1===p.enabled&&(g.dataLabel=1)),this.points.forEach(function(t){t&&t.series&&(t.resolveColor(),Object.keys(g).length&&t.destroyElements(g),!1===v.showInLegend&&t.legendItem&&s.legend.destroyItem(t))},this)}e.zIndex!==r.zIndex&&u.forEach(function(t){n[t]&&n[t].attr({zIndex:e.zIndex})}),n.initialType=l,s.linkSeries(),y(this,"afterUpdate"),h(i,!0)&&s.redraw(!!c&&void 0)},setName:function(t){this.name=this.options.name=this.userOptions.name=t,this.chart.isDirtyLegend=!0}}),o(m.prototype,{update:function(t,e){var i=this.chart,a=t&&t.events||{};t=_(this.userOptions,t),i.options[this.coll].indexOf&&(i.options[this.coll][i.options[this.coll].indexOf(this.userOptions)]=t),d(i.options[this.coll].events,function(t,e){void 0===a[e]&&(a[e]=void 0)}),this.destroy(!0),this.init(i,o(t,{events:a})),i.isDirtyBox=!0,h(e,!0)&&i.redraw()},remove:function(t){for(var e=this.chart,i=this.coll,o=this.series,s=o.length;s--;)o[s]&&o[s].remove(!1);a(e.axes,this),a(e[i],this),n(e.options[i])?e.options[i].splice(this.options.index,1):delete e.options[i],e[i].forEach(function(t,e){t.options.index=t.userOptions.index=e}),this.destroy(),e.isDirtyBox=!0,h(t,!0)&&e.redraw()},setTitle:function(t,e){this.update({title:t},e)},setCategories:function(t,e){this.update({categories:t},e)}})}),e(i,"parts/AreaSeries.js",[i["parts/Globals.js"],i["parts/Utilities.js"]],function(t,e){var i=e.objectEach,a=e.pick,o=t.color,n=t.Series;(e=t.seriesType)("area","line",{softThreshold:!1,threshold:0},{singleStacks:!1,getStackPoints:function(t){var e,o=[],n=[],s=this.xAxis,r=this.yAxis,l=r.stacks[this.stackKey],d={},h=this.index,c=r.series,p=c.length,u=a(r.options.reversedStacks,!0)?1:-1;if(t=t||this.points,this.options.stacking){for(e=0;e<t.length;e++)t[e].leftNull=t[e].rightNull=void 0,d[t[e].x]=t[e];i(l,function(t,e){null!==t.total&&n.push(e)}),n.sort(function(t,e){return t-e});var f=c.map(function(t){return t.visible});n.forEach(function(t,i){var a,c,m=0;if(d[t]&&!d[t].isNull)o.push(d[t]),[-1,1].forEach(function(o){var s=1===o?"rightNull":"leftNull",r=0,m=l[n[i+o]];if(m)for(e=h;0<=e&&e<p;)a=m.points[e],a||(e===h?d[t][s]=!0:f[e]&&(c=l[t].points[e])&&(r-=c[1]-c[0])),e+=u;d[t][1===o?"rightCliff":"leftCliff"]=r});else{for(e=h;0<=e&&e<p;){if(a=l[t].points[e]){m=a[1];break}e+=u}m=r.translate(m,0,1,0,1),o.push({isNull:!0,plotX:s.translate(t,0,0,0,1),x:t,plotY:m,yBottom:m})}})}return o},getGraphPath:function(t){var e,i=n.prototype.getGraphPath,o=this.options,s=o.stacking,r=this.yAxis,l=[],d=[],h=this.index,c=r.stacks[this.stackKey],p=o.threshold,u=Math.round(r.getThreshold(o.threshold));o=a(o.connectNulls,"percent"===s);var f=function(e,i,a){var o=t[e];e=s&&c[o.x].points[h];var n=o[a+"Null"]||0;if(a=o[a+"Cliff"]||0,o=!0,a||n){var f=(n?e[0]:e[1])+a,m=e[0]+a;o=!!n}else!s&&t[i]&&t[i].isNull&&(f=m=p);void 0!==f&&(d.push({plotX:g,plotY:null===f?u:r.getThreshold(f),isNull:o,isCliff:!0}),l.push({plotX:g,plotY:null===m?u:r.getThreshold(m),doCurve:!1}))};for(t=t||this.points,s&&(t=this.getStackPoints(t)),e=0;e<t.length;e++){s||(t[e].leftCliff=t[e].rightCliff=t[e].leftNull=t[e].rightNull=void 0);var m=t[e].isNull,g=a(t[e].rectPlotX,t[e].plotX),v=a(t[e].yBottom,u);m&&!o||(o||f(e,e-1,"left"),m&&!s&&o||(d.push(t[e]),l.push({x:e,plotX:g,plotY:v})),o||f(e,e+1,"right"))}return e=i.call(this,d,!0,!0),l.reversed=!0,m=i.call(this,l,!0,!0),m.length&&(m[0]="L"),m=e.concat(m),i=i.call(this,d,!1,o),m.xMap=e.xMap,this.areaPath=m,i},drawGraph:function(){this.areaPath=[],n.prototype.drawGraph.apply(this);var t=this,e=this.areaPath,i=this.options,s=[["area","highcharts-area",this.color,i.fillColor]];this.zones.forEach(function(e,a){s.push(["zone-area-"+a,"highcharts-area highcharts-zone-area-"+a+" "+e.className,e.color||t.color,e.fillColor||i.fillColor])}),s.forEach(function(n){var s=n[0],r=t[s],l=r?"animate":"attr",d={};r?(r.endX=t.preventGraphAnimation?null:e.xMap,r.animate({d:e})):(d.zIndex=0,r=t[s]=t.chart.renderer.path(e).addClass(n[1]).add(t.group),r.isArea=!0),t.chart.styledMode||(d.fill=a(n[3],o(n[2]).setOpacity(a(i.fillOpacity,.75)).get())),r[l](d),r.startX=e.xMap,r.shiftUnit=i.step?2:1})},drawLegendSymbol:t.LegendSymbolMixin.drawRectangle})}),e(i,"parts/SplineSeries.js",[i["parts/Globals.js"],i["parts/Utilities.js"]],function(t,e){var i=e.pick;(t=t.seriesType)("spline","line",{},{getPointSpline:function(t,e,a){var o=e.plotX,n=e.plotY,s=t[a-1];if(a=t[a+1],s&&!s.isNull&&!1!==s.doCurve&&!e.isCliff&&a&&!a.isNull&&!1!==a.doCurve&&!e.isCliff){t=s.plotY;var r=a.plotX;a=a.plotY;var l=0,d=(1.5*o+s.plotX)/2.5,h=(1.5*n+t)/2.5;r=(1.5*o+r)/2.5;var c=(1.5*n+a)/2.5;r!==d&&(l=(c-h)*(r-o)/(r-d)+n-c),h+=l,c+=l,h>t&&h>n?(h=Math.max(t,n),c=2*n-h):h<t&&h<n&&(h=Math.min(t,n),c=2*n-h),c>a&&c>n?(c=Math.max(a,n),h=2*n-c):c<a&&c<n&&(c=Math.min(a,n),h=2*n-c),e.rightContX=r,e.rightContY=c}return e=["C",i(s.rightContX,s.plotX),i(s.rightContY,s.plotY),i(d,o),i(h,n),o,n],s.rightContX=s.rightContY=null,e}})}),e(i,"parts/AreaSplineSeries.js",[i["parts/Globals.js"]],function(t){var e=t.seriesTypes.area.prototype;(0,t.seriesType)("areaspline","spline",t.defaultPlotOptions.area,{getStackPoints:e.getStackPoints,getGraphPath:e.getGraphPath,drawGraph:e.drawGraph,drawLegendSymbol:t.LegendSymbolMixin.drawRectangle})}),e(i,"parts/ColumnSeries.js",[i["parts/Globals.js"],i["parts/Utilities.js"]],function(t,e){var i=e.defined,a=e.extend,o=e.isNumber,n=e.pick,s=t.animObject,r=t.color,l=t.merge,d=t.Series;e=t.seriesType;var h=t.svg;e("column","line",{borderRadius:0,crisp:!0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:"#cccccc",borderColor:"#000000"}},dataLabels:{align:null,verticalAlign:null,y:null},softThreshold:!1,startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"},{cropShoulder:0,directTouch:!0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){d.prototype.init.apply(this,arguments);var t=this,e=t.chart;e.hasRendered&&e.series.forEach(function(e){e.type===t.type&&(e.isDirty=!0)})},getColumnMetrics:function(){var t=this,e=t.options,i=t.xAxis,a=t.yAxis,o=i.options.reversedStacks;o=i.reversed&&!o||!i.reversed&&o;var s,r={},l=0;!1===e.grouping?l=1:t.chart.series.forEach(function(e){var i=e.yAxis,o=e.options;if(e.type===t.type&&(e.visible||!t.chart.options.chart.ignoreHiddenSeries)&&a.len===i.len&&a.pos===i.pos){if(o.stacking){s=e.stackKey,void 0===r[s]&&(r[s]=l++);var n=r[s]}else!1!==o.grouping&&(n=l++);e.columnIndex=n}});var d=Math.min(Math.abs(i.transA)*(i.ordinalSlope||e.pointRange||i.closestPointRange||i.tickInterval||1),i.len),h=d*e.groupPadding,c=(d-2*h)/(l||1);return e=Math.min(e.maxPointWidth||i.len,n(e.pointWidth,c*(1-2*e.pointPadding))),t.columnMetrics={width:e,offset:(c-e)/2+(h+((t.columnIndex||0)+(o?1:0))*c-d/2)*(o?-1:1)},t.columnMetrics},crispCol:function(t,e,i,a){var o=this.chart,n=this.borderWidth,s=-(n%2?.5:0);return n=n%2?.5:1,o.inverted&&o.renderer.isVML&&(n+=1),this.options.crisp&&(i=Math.round(t+i)+s,t=Math.round(t)+s,i-=t),a=Math.round(e+a)+n,s=.5>=Math.abs(e)&&.5<a,e=Math.round(e)+n,a-=e,s&&a&&(--e,a+=1),{x:t,y:e,width:i,height:a}},translate:function(){var t=this,e=t.chart,a=t.options,o=t.dense=2>t.closestPointRange*t.xAxis.transA;o=t.borderWidth=n(a.borderWidth,o?0:1);var s=t.yAxis,r=a.threshold,l=t.translatedThreshold=s.getThreshold(r),h=n(a.minPointLength,5),c=t.getColumnMetrics(),p=c.width,u=t.barW=Math.max(p,1+2*o),f=t.pointXOffset=c.offset,m=t.dataMin,g=t.dataMax;e.inverted&&(l-=.5),a.pointPadding&&(u=Math.ceil(u)),d.prototype.translate.apply(t),t.points.forEach(function(a){var o=n(a.yBottom,l),d=999+Math.abs(o),c=p;d=Math.min(Math.max(-d,a.plotY),s.len+d);var v=a.plotX+f,y=u,_=Math.min(d,o),b=Math.max(d,o)-_;if(h&&Math.abs(b)<h){b=h;var M=!s.reversed&&!a.negative||s.reversed&&a.negative;a.y===r&&t.dataMax<=r&&s.min<r&&m!==g&&(M=!M),_=Math.abs(_-l)>h?o-h:l-(M?h:0)}i(a.options.pointWidth)&&(c=y=Math.ceil(a.options.pointWidth),v-=Math.round((c-p)/2)),a.barX=v,a.pointWidth=c,a.tooltipPos=e.inverted?[s.len+s.pos-e.plotLeft-d,t.xAxis.len-v-y/2,b]:[v+y/2,d+s.pos-e.plotTop,b],a.shapeType=t.pointClass.prototype.shapeType||"rect",a.shapeArgs=t.crispCol.apply(t,a.isNull?[v,l,y,0]:[v,_,y,b])})},getSymbol:t.noop,drawLegendSymbol:t.LegendSymbolMixin.drawRectangle,drawGraph:function(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")},pointAttribs:function(t,e){var i=this.options,a=this.pointAttrToOptions||{},o=a.stroke||"borderColor",s=a["stroke-width"]||"borderWidth",d=t&&t.color||this.color,h=t&&t[o]||i[o]||this.color||d,c=t&&t[s]||i[s]||this[s]||0;a=t&&t.options.dashStyle||i.dashStyle;var p=n(i.opacity,1);if(t&&this.zones.length){var u=t.getZone();d=t.options.color||u&&(u.color||t.nonZonedColor)||this.color,u&&(h=u.borderColor||h,a=u.dashStyle||a,c=u.borderWidth||c)}return e&&(t=l(i.states[e],t.options.states&&t.options.states[e]||{}),e=t.brightness,d=t.color||void 0!==e&&r(d).brighten(t.brightness).get()||d,h=t[o]||h,c=t[s]||c,a=t.dashStyle||a,p=n(t.opacity,p)),o={fill:d,stroke:h,"stroke-width":c,opacity:p},a&&(o.dashstyle=a),o},drawPoints:function(){var t,e=this,i=this.chart,a=e.options,n=i.renderer,s=a.animationLimit||250;e.points.forEach(function(r){var d=r.graphic,h=d&&i.pointCount<s?"animate":"attr";o(r.plotY)&&null!==r.y?(t=r.shapeArgs,d&&r.hasNewShapeType()&&(d=d.destroy()),d?d[h](l(t)):r.graphic=d=n[r.shapeType](t).add(r.group||e.group),a.borderRadius&&d[h]({r:a.borderRadius}),i.styledMode||d[h](e.pointAttribs(r,r.selected&&"select")).shadow(!1!==r.allowShadow&&a.shadow,null,a.stacking&&!a.borderRadius),d.addClass(r.getClassName(),!0)):d&&(r.graphic=d.destroy())})},animate:function(t){var e=this,i=this.yAxis,o=e.options,n=this.chart.inverted,r={},l=n?"translateX":"translateY";if(h)if(t)r.scaleY=.001,t=Math.min(i.pos+i.len,Math.max(i.pos,i.toPixels(o.threshold))),n?r.translateX=t-i.len:r.translateY=t,e.clipBox&&e.setClip(),e.group.attr(r);else{var d=e.group.attr(l);e.group.animate({scaleY:1},a(s(e.options.animation),{step:function(t,a){r[l]=d+a.pos*(i.pos-d),e.group.attr(r)}})),e.animate=null}},remove:function(){var t=this,e=t.chart;e.hasRendered&&e.series.forEach(function(e){e.type===t.type&&(e.isDirty=!0)}),d.prototype.remove.apply(t,arguments)}})}),e(i,"parts/BarSeries.js",[i["parts/Globals.js"]],function(t){(t=t.seriesType)("bar","column",null,{inverted:!0})}),e(i,"parts/ScatterSeries.js",[i["parts/Globals.js"]],function(t){var e=t.Series;(0,t.seriesType)("scatter","line",{lineWidth:0,findNearestPointBy:"xy",jitter:{x:0,y:0},marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}"></span> <span style="font-size: 10px"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}},{sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1,drawGraph:function(){this.options.lineWidth&&e.prototype.drawGraph.call(this)},applyJitter:function(){var t=this,e=this.options.jitter,i=this.points.length;e&&this.points.forEach(function(a,o){["x","y"].forEach(function(n,s){var r="plot"+n.toUpperCase();if(e[n]&&!a.isNull){var l=t[n+"Axis"],d=e[n]*l.transA;if(l&&!l.isLog){var h=Math.max(0,a[r]-d);l=Math.min(l.len,a[r]+d),s=1e4*Math.sin(o+s*i),a[r]=h+(l-h)*(s-Math.floor(s)),"x"===n&&(a.clientX=a.plotX)}}})})}}),t.addEvent(e,"afterTranslate",function(){this.applyJitter&&this.applyJitter()})}),e(i,"mixins/centered-series.js",[i["parts/Globals.js"],i["parts/Utilities.js"]],function(t,e){var i=e.isNumber,a=e.pick,o=t.deg2rad,n=t.relativeLength;t.CenteredSeriesMixin={getCenter:function(){var t=this.options,e=this.chart,i=2*(t.slicedOffset||0),o=e.plotWidth-2*i;e=e.plotHeight-2*i;var s=t.center;s=[a(s[0],"50%"),a(s[1],"50%"),t.size||"100%",t.innerSize||0];var r,l=Math.min(o,e);for(r=0;4>r;++r){var d=s[r];t=2>r||2===r&&/%$/.test(d),s[r]=n(d,[o,e,l,s[2]][r])+(t?i:0)}return s[3]>s[2]&&(s[3]=s[2]),s},getStartAndEndRadians:function(t,e){return t=i(t)?t:0,e=i(e)&&e>t&&360>e-t?e:t+360,{start:o*(t+-90),end:o*(e+-90)}}}}),e(i,"parts/PieSeries.js",[i["parts/Globals.js"],i["parts/Utilities.js"]],function(t,e){var i=e.defined,a=e.isNumber,o=e.pick,n=e.setAnimation,s=t.addEvent;e=t.CenteredSeriesMixin;var r=e.getStartAndEndRadians,l=t.merge,d=t.noop,h=t.Point,c=t.Series,p=t.seriesType,u=t.fireEvent;p("pie","line",{center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{allowOverlap:!0,connectorPadding:5,distance:30,enabled:!0,formatter:function(){return this.point.isNull?void 0:this.point.name},softConnector:!0,x:0,connectorShape:"fixedOffset",crookDistance:"70%"},fillColor:void 0,ignoreHiddenPoint:!0,inactiveOtherPoints:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,lineWidth:void 0,states:{hover:{brightness:.1}}},{isCartesian:!1,requireSorting:!1,directTouch:!0,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],axisTypes:[],pointAttribs:t.seriesTypes.column.prototype.pointAttribs,animate:function(t){var e=this,i=e.points,a=e.startAngleRad;t||(i.forEach(function(t){var i=t.graphic,o=t.shapeArgs;i&&(i.attr({r:t.startR||e.center[3]/2,start:a,end:a}),i.animate({r:o.r,start:o.start,end:o.end},e.options.animation))}),e.animate=null)},hasData:function(){return!!this.processedXData.length},updateTotals:function(){var t,e=0,i=this.points,a=i.length,o=this.options.ignoreHiddenPoint;for(t=0;t<a;t++){var n=i[t];e+=o&&!n.visible?0:n.isNull?0:n.y}for(this.total=e,t=0;t<a;t++)n=i[t],n.percentage=0<e&&(n.visible||!o)?n.y/e*100:0,n.total=e},generatePoints:function(){c.prototype.generatePoints.call(this),this.updateTotals()},getX:function(t,e,i){var a=this.center,o=this.radii?this.radii[i.index]:a[2]/2;return a[0]+(e?-1:1)*Math.cos(Math.asin(Math.max(Math.min((t-a[1])/(o+i.labelDistance),1),-1)))*(o+i.labelDistance)+(0<i.labelDistance?(e?-1:1)*this.options.dataLabels.padding:0)},translate:function(e){this.generatePoints();var i=0,a=this.options,n=a.slicedOffset,s=n+(a.borderWidth||0),l=r(a.startAngle,a.endAngle),d=this.startAngleRad=l.start;l=(this.endAngleRad=l.end)-d;var h=this.points,c=a.dataLabels.distance;a=a.ignoreHiddenPoint;var p,f=h.length;for(e||(this.center=e=this.getCenter()),p=0;p<f;p++){var m=h[p],g=d+i*l;a&&!m.visible||(i+=m.percentage/100);var v=d+i*l;m.shapeType="arc",m.shapeArgs={x:e[0],y:e[1],r:e[2]/2,innerR:e[3]/2,start:Math.round(1e3*g)/1e3,end:Math.round(1e3*v)/1e3},m.labelDistance=o(m.options.dataLabels&&m.options.dataLabels.distance,c),m.labelDistance=t.relativeLength(m.labelDistance,m.shapeArgs.r),this.maxLabelDistance=Math.max(this.maxLabelDistance||0,m.labelDistance),v=(v+g)/2,v>1.5*Math.PI?v-=2*Math.PI:v<-Math.PI/2&&(v+=2*Math.PI),m.slicedTranslation={translateX:Math.round(Math.cos(v)*n),translateY:Math.round(Math.sin(v)*n)};var y=Math.cos(v)*e[2]/2,_=Math.sin(v)*e[2]/2;m.tooltipPos=[e[0]+.7*y,e[1]+.7*_],m.half=v<-Math.PI/2||v>Math.PI/2?1:0,m.angle=v,g=Math.min(s,m.labelDistance/5),m.labelPosition={natural:{x:e[0]+y+Math.cos(v)*m.labelDistance,y:e[1]+_+Math.sin(v)*m.labelDistance},final:{},alignment:0>m.labelDistance?"center":m.half?"right":"left",connectorPosition:{breakAt:{x:e[0]+y+Math.cos(v)*g,y:e[1]+_+Math.sin(v)*g},touchingSliceAt:{x:e[0]+y,y:e[1]+_}}}}u(this,"afterTranslate")},drawEmpty:function(){var t=this.options;if(0===this.total){var e=this.center[0],i=this.center[1];this.graph||(this.graph=this.chart.renderer.circle(e,i,0).addClass("highcharts-graph").add(this.group)),this.graph.animate({"stroke-width":t.borderWidth,cx:e,cy:i,r:this.center[2]/2,fill:t.fillColor||"none",stroke:t.color||"#cccccc"})}else this.graph&&(this.graph=this.graph.destroy())},redrawPoints:function(){var t,e,i,a,o=this,n=o.chart,s=n.renderer,r=o.options.shadow;this.drawEmpty(),!r||o.shadowGroup||n.styledMode||(o.shadowGroup=s.g("shadow").attr({zIndex:-1}).add(o.group)),o.points.forEach(function(d){var h={};if(e=d.graphic,!d.isNull&&e){if(a=d.shapeArgs,t=d.getTranslate(),!n.styledMode){var c=d.shadowGroup;r&&!c&&(c=d.shadowGroup=s.g("shadow").add(o.shadowGroup)),c&&c.attr(t),i=o.pointAttribs(d,d.selected&&"select")}d.delayedRendering?(e.setRadialReference(o.center).attr(a).attr(t),n.styledMode||e.attr(i).attr({"stroke-linejoin":"round"}).shadow(r,c),d.delayedRendering=!1):(e.setRadialReference(o.center),n.styledMode||l(!0,h,i),l(!0,h,a,t),e.animate(h)),e.attr({visibility:d.visible?"inherit":"hidden"}),e.addClass(d.getClassName())}else e&&(d.graphic=e.destroy())})},drawPoints:function(){var t=this.chart.renderer;this.points.forEach(function(e){e.graphic||(e.graphic=t[e.shapeType](e.shapeArgs).add(e.series.group),e.delayedRendering=!0)})},searchPoint:d,sortByAngle:function(t,e){t.sort(function(t,i){return void 0!==t.angle&&(i.angle-t.angle)*e})},drawLegendSymbol:t.LegendSymbolMixin.drawRectangle,getCenter:e.getCenter,getSymbol:d,drawGraph:null},{init:function(){h.prototype.init.apply(this,arguments);var t=this;t.name=o(t.name,"Slice");var e=function(e){t.slice("select"===e.type)};return s(t,"select",e),s(t,"unselect",e),t},isValid:function(){return a(this.y)&&0<=this.y},setVisible:function(t,e){var i=this,a=i.series,n=a.chart,s=a.options.ignoreHiddenPoint;e=o(e,s),t!==i.visible&&(i.visible=i.options.visible=t=void 0===t?!i.visible:t,a.options.data[a.data.indexOf(i)]=i.options,["graphic","dataLabel","connector","shadowGroup"].forEach(function(e){i[e]&&i[e][t?"show":"hide"](!0)}),i.legendItem&&n.legend.colorizeItem(i,t),t||"hover"!==i.state||i.setState(""),s&&(a.isDirty=!0),e&&n.redraw())},slice:function(t,e,a){var s=this.series;n(a,s.chart),o(e,!0),this.sliced=this.options.sliced=i(t)?t:!this.sliced,s.options.data[s.data.indexOf(this)]=this.options,this.graphic.animate(this.getTranslate()),this.shadowGroup&&this.shadowGroup.animate(this.getTranslate())},getTranslate:function(){return this.sliced?this.slicedTranslation:{translateX:0,translateY:0}},haloPath:function(t){var e=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(e.x,e.y,e.r+t,e.r+t,{innerR:e.r-1,start:e.start,end:e.end})},connectorShapes:{fixedOffset:function(t,e,i){var a=e.breakAt;return e=e.touchingSliceAt,["M",t.x,t.y].concat(i.softConnector?["C",t.x+("left"===t.alignment?-5:5),t.y,2*a.x-e.x,2*a.y-e.y,a.x,a.y]:["L",a.x,a.y]).concat(["L",e.x,e.y])},straight:function(t,e){return e=e.touchingSliceAt,["M",t.x,t.y,"L",e.x,e.y]},crookedLine:function(e,i,a){i=i.touchingSliceAt;var o=this.series,n=o.center[0],s=o.chart.plotWidth,r=o.chart.plotLeft;o=e.alignment;var l=this.shapeArgs.r;return a=t.relativeLength(a.crookDistance,1),a="left"===o?n+l+(s+r-n-l)*(1-a):r+(n-l)*a,n=["L",a,e.y],("left"===o?a>e.x||a<i.x:a<e.x||a>i.x)&&(n=[]),["M",e.x,e.y].concat(n).concat(["L",i.x,i.y])}},getConnectorPath:function(){var t=this.labelPosition,e=this.series.options.dataLabels,i=e.connectorShape,a=this.connectorShapes;return a[i]&&(i=a[i]),i.call(this,{x:t.final.x,y:t.final.y,alignment:t.alignment},t.connectorPosition,e)}})}),e(i,"parts/DataLabels.js",[i["parts/Globals.js"],i["parts/Utilities.js"]],function(t,e){var i=e.arrayMax,a=e.defined,o=e.extend,n=e.isArray,s=e.objectEach,r=e.pick,l=e.splat,d=t.format,h=t.merge;e=t.noop;var c=t.relativeLength,p=t.Series,u=t.seriesTypes,f=t.stableSort;t.distribute=function(e,i,a){function o(t,e){return t.target-e.target}var n,s=!0,l=e,d=[],h=0,c=l.reducedLen||i;for(n=e.length;n--;)h+=e[n].size;if(h>c){for(f(e,function(t,e){return(e.rank||0)-(t.rank||0)}),h=n=0;h<=c;)h+=e[n].size,n++;d=e.splice(n-1,e.length)}for(f(e,o),e=e.map(function(t){return{size:t.size,targets:[t.target],align:r(t.align,.5)}});s;){for(n=e.length;n--;)s=e[n],h=(Math.min.apply(0,s.targets)+Math.max.apply(0,s.targets))/2,s.pos=Math.min(Math.max(0,h-s.size*s.align),i-s.size);for(n=e.length,s=!1;n--;)0<n&&e[n-1].pos+e[n-1].size>e[n].pos&&(e[n-1].size+=e[n].size,e[n-1].targets=e[n-1].targets.concat(e[n].targets),e[n-1].align=.5,e[n-1].pos+e[n-1].size>i&&(e[n-1].pos=i-e[n-1].size),e.splice(n,1),s=!0)}l.push.apply(l,d),n=0,e.some(function(e){var o=0;if(e.targets.some(function(){if(l[n].pos=e.pos+o,Math.abs(l[n].pos-l[n].target)>a)return l.slice(0,n+1).forEach(function(t){delete t.pos}),l.reducedLen=(l.reducedLen||i)-.1*i,l.reducedLen>.1*i&&t.distribute(l,i,a),!0;o+=l[n].size,n++}))return!0}),f(l,o)},p.prototype.drawDataLabels=function(){function e(t,e){var i=e.filter;return!i||(e=i.operator,t=t[i.property],i=i.value,">"===e&&t>i||"<"===e&&t<i||">="===e&&t>=i||"<="===e&&t<=i||"=="===e&&t==i||"==="===e&&t===i)}function i(t,e){var i,a=[];if(n(t)&&!n(e))a=t.map(function(t){return h(t,e)});else if(n(e)&&!n(t))a=e.map(function(e){return h(t,e)});else if(n(t)||n(e))for(i=Math.max(t.length,e.length);i--;)a[i]=h(t[i],e[i]);else a=h(t,e);return a}var o,c=this,p=c.chart,u=c.options,f=u.dataLabels,m=c.points,g=c.hasRendered||0,v=t.animObject(u.animation).duration,y=Math.min(v,200),_=!p.renderer.forExport&&r(f.defer,0<y),b=p.renderer;if(f=i(i(p.options.plotOptions&&p.options.plotOptions.series&&p.options.plotOptions.series.dataLabels,p.options.plotOptions&&p.options.plotOptions[c.type]&&p.options.plotOptions[c.type].dataLabels),f),t.fireEvent(this,"drawDataLabels"),n(f)||f.enabled||c._hasPointLabels){var M=c.plotGroup("dataLabelsGroup","data-labels",_&&!g?"hidden":"inherit",f.zIndex||6);_&&(M.attr({opacity:+g}),g||setTimeout(function(){var t=c.dataLabelsGroup;t&&(c.visible&&M.show(!0),t[u.animation?"animate":"attr"]({opacity:1},{duration:y}))},v-y)),m.forEach(function(t){o=l(i(f,t.dlOptions||t.options&&t.options.dataLabels)),o.forEach(function(i,o){var n=i.enabled&&(!t.isNull||t.dataLabelOnNull)&&e(t,i),l=t.dataLabels?t.dataLabels[o]:t.dataLabel,h=t.connectors?t.connectors[o]:t.connector,f=r(i.distance,t.labelDistance),m=!l;if(n){var g=t.getLabelConfig(),v=r(i[t.formatPrefix+"Format"],i.format);g=a(v)?d(v,g,p.time):(i[t.formatPrefix+"Formatter"]||i.formatter).call(g,i),v=i.style;var y=i.rotation;p.styledMode||(v.color=r(i.color,v.color,c.color,"#000000"),"contrast"===v.color&&(t.contrastColor=b.getContrast(t.color||c.color),v.color=!a(f)&&i.inside||0>f||u.stacking?t.contrastColor:"#000000"),u.cursor&&(v.cursor=u.cursor));var _={r:i.borderRadius||0,rotation:y,padding:i.padding,zIndex:1};p.styledMode||(_.fill=i.backgroundColor,_.stroke=i.borderColor,_["stroke-width"]=i.borderWidth),s(_,function(t,e){void 0===t&&delete _[e]})}!l||n&&a(g)?n&&a(g)&&(l?_.text=g:(t.dataLabels=t.dataLabels||[],l=t.dataLabels[o]=y?b.text(g,0,-9999).addClass("highcharts-data-label"):b.label(g,0,-9999,i.shape,null,null,i.useHTML,null,"data-label"),o||(t.dataLabel=l),l.addClass(" highcharts-data-label-color-"+t.colorIndex+" "+(i.className||"")+(i.useHTML?" highcharts-tracker":""))),l.options=i,l.attr(_),p.styledMode||l.css(v).shadow(i.shadow),l.added||l.add(M),i.textPath&&!i.useHTML&&l.setTextPath(t.getDataLabelPath&&t.getDataLabelPath(l)||t.graphic,i.textPath),c.alignDataLabel(t,l,i,null,m)):(t.dataLabel=t.dataLabel&&t.dataLabel.destroy(),t.dataLabels&&(1===t.dataLabels.length?delete t.dataLabels:delete t.dataLabels[o]),o||delete t.dataLabel,h&&(t.connector=t.connector.destroy(),t.connectors&&(1===t.connectors.length?delete t.connectors:delete t.connectors[o])))})})}t.fireEvent(this,"afterDrawDataLabels")},p.prototype.alignDataLabel=function(t,e,i,a,n){var s=this.chart,l=this.isCartesian&&s.inverted,d=r(t.dlBox&&t.dlBox.centerX,t.plotX,-9999),h=r(t.plotY,-9999),c=e.getBBox(),p=i.rotation,u=i.align,f=this.visible&&(t.series.forceDL||s.isInsidePlot(d,Math.round(h),l)||a&&s.isInsidePlot(d,l?a.x+1:a.y+a.height-1,l)),m="justify"===r(i.overflow,"justify");if(f){var g=s.renderer.fontMetrics(s.styledMode?void 0:i.style.fontSize,e).b;a=o({x:l?this.yAxis.len-h:d,y:Math.round(l?this.xAxis.len-d:h),width:0,height:0},a),o(i,{width:c.width,height:c.height}),p?(m=!1,d=s.renderer.rotCorr(g,p),d={x:a.x+i.x+a.width/2+d.x,y:a.y+i.y+{top:0,middle:.5,bottom:1}[i.verticalAlign]*a.height},e[n?"attr":"animate"](d).attr({align:u}),h=(p+720)%360,h=180<h&&360>h,"left"===u?d.y-=h?c.height:0:"center"===u?(d.x-=c.width/2,d.y-=c.height/2):"right"===u&&(d.x-=c.width,d.y-=h?0:c.height),e.placed=!0,e.alignAttr=d):(e.align(i,null,a),d=e.alignAttr),m&&0<=a.height?this.justifyDataLabel(e,i,d,c,a,n):r(i.crop,!0)&&(f=s.isInsidePlot(d.x,d.y)&&s.isInsidePlot(d.x+c.width,d.y+c.height)),i.shape&&!p&&e[n?"attr":"animate"]({anchorX:l?s.plotWidth-t.plotY:t.plotX,anchorY:l?s.plotHeight-t.plotX:t.plotY})}f||(e.hide(!0),e.placed=!1)},p.prototype.justifyDataLabel=function(t,e,i,a,o,n){var s=this.chart,r=e.align,l=e.verticalAlign,d=t.box?0:t.padding||0,h=i.x+d;if(0>h){"right"===r?(e.align="left",e.inside=!0):e.x=-h;var c=!0}return h=i.x+a.width-d,h>s.plotWidth&&("left"===r?(e.align="right",e.inside=!0):e.x=s.plotWidth-h,c=!0),h=i.y+d,0>h&&("bottom"===l?(e.verticalAlign="top",e.inside=!0):e.y=-h,c=!0),h=i.y+a.height-d,h>s.plotHeight&&("top"===l?(e.verticalAlign="bottom",e.inside=!0):e.y=s.plotHeight-h,c=!0),c&&(t.placed=!n,t.align(e,null,o)),c},u.pie&&(u.pie.prototype.dataLabelPositioners={radialDistributionY:function(t){return t.top+t.distributeBox.pos},radialDistributionX:function(t,e,i,a){return t.getX(i<e.top+2||i>e.bottom-2?a:i,e.half,e)},justify:function(t,e,i){return i[0]+(t.half?-1:1)*(e+t.labelDistance)},alignToPlotEdges:function(t,e,i,a){return t=t.getBBox().width,e?t+a:i-t-a},alignToConnectors:function(t,e,i,a){var o,n=0;return t.forEach(function(t){(o=t.dataLabel.getBBox().width)>n&&(n=o)}),e?n+a:i-n-a}},u.pie.prototype.drawDataLabels=function(){var e,o,n,s,l,d,c,u,f,m,g,v,y=this,_=y.data,b=y.chart,M=y.options.dataLabels,x=M.connectorPadding,w=b.plotWidth,k=b.plotHeight,O=b.plotLeft,C=Math.round(b.chartWidth/3),E=y.center,D=E[2]/2,T=E[1],A=[[],[]],P=[0,0,0,0],S=y.dataLabelPositioners;y.visible&&(M.enabled||y._hasPointLabels)&&(_.forEach(function(t){t.dataLabel&&t.visible&&t.dataLabel.shortened&&(t.dataLabel.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),t.dataLabel.shortened=!1)}),p.prototype.drawDataLabels.apply(y),_.forEach(function(t){t.dataLabel&&(t.visible?(A[t.half].push(t),t.dataLabel._pos=null,!a(M.style.width)&&!a(t.options.dataLabels&&t.options.dataLabels.style&&t.options.dataLabels.style.width)&&t.dataLabel.getBBox().width>C&&(t.dataLabel.css({width:.7*C}),t.dataLabel.shortened=!0)):(t.dataLabel=t.dataLabel.destroy(),t.dataLabels&&1===t.dataLabels.length&&delete t.dataLabels))}),A.forEach(function(i,o){var n,h=i.length,p=[];if(h){if(y.sortByAngle(i,o-.5),0<y.maxLabelDistance){var v=Math.max(0,T-D-y.maxLabelDistance),_=Math.min(T+D+y.maxLabelDistance,b.plotHeight);i.forEach(function(t){0<t.labelDistance&&t.dataLabel&&(t.top=Math.max(0,T-D-t.labelDistance),t.bottom=Math.min(T+D+t.labelDistance,b.plotHeight),n=t.dataLabel.getBBox().height||21,t.distributeBox={target:t.labelPosition.natural.y-t.top+n/2,size:n,rank:t.y},p.push(t.distributeBox))}),v=_+n-v,t.distribute(p,v,v/5)}for(g=0;g<h;g++){if(e=i[g],d=e.labelPosition,s=e.dataLabel,m=!1===e.visible?"hidden":"inherit",f=v=d.natural.y,p&&a(e.distributeBox)&&(void 0===e.distributeBox.pos?m="hidden":(c=e.distributeBox.size,f=S.radialDistributionY(e))),delete e.positionIndex,M.justify)u=S.justify(e,D,E);else switch(M.alignTo){case"connectors":u=S.alignToConnectors(i,o,w,O);break;case"plotEdges":u=S.alignToPlotEdges(s,o,w,O);break;default:u=S.radialDistributionX(y,e,f,v)}s._attr={visibility:m,align:d.alignment},s._pos={x:u+M.x+({left:x,right:-x}[d.alignment]||0),y:f+M.y-10},d.final.x=u,d.final.y=f,r(M.crop,!0)&&(l=s.getBBox().width,v=null,u-l<x&&1===o?(v=Math.round(l-u+x),P[3]=Math.max(v,P[3])):u+l>w-x&&0===o&&(v=Math.round(u+l-w+x),P[1]=Math.max(v,P[1])),0>f-c/2?P[0]=Math.max(Math.round(c/2-f),P[0]):f+c/2>k&&(P[2]=Math.max(Math.round(f+c/2-k),P[2])),s.sideOverflow=v)}}}),0===i(P)||this.verifyDataLabelOverflow(P))&&(this.placeDataLabels(),this.points.forEach(function(t){if(v=h(M,t.options.dataLabels),o=r(v.connectorWidth,1)){var e;n=t.connector,(s=t.dataLabel)&&s._pos&&t.visible&&0<t.labelDistance?(m=s._attr.visibility,(e=!n)&&(t.connector=n=b.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+t.colorIndex+(t.className?" "+t.className:"")).add(y.dataLabelsGroup),b.styledMode||n.attr({"stroke-width":o,stroke:v.connectorColor||t.color||"#666666"})),n[e?"attr":"animate"]({d:t.getConnectorPath()}),n.attr("visibility",m)):n&&(t.connector=n.destroy())}}))},u.pie.prototype.placeDataLabels=function(){this.points.forEach(function(t){var e,i=t.dataLabel;i&&t.visible&&((e=i._pos)?(i.sideOverflow&&(i._attr.width=Math.max(i.getBBox().width-i.sideOverflow,0),i.css({width:i._attr.width+"px",textOverflow:(this.options.dataLabels.style||{}).textOverflow||"ellipsis"}),i.shortened=!0),i.attr(i._attr),i[i.moved?"animate":"attr"](e),i.moved=!0):i&&i.attr({y:-9999})),delete t.distributeBox},this)},u.pie.prototype.alignDataLabel=e,u.pie.prototype.verifyDataLabelOverflow=function(t){var e=this.center,i=this.options,a=i.center,o=i.minSize||80,n=null!==i.size;if(!n){if(null!==a[0])var s=Math.max(e[2]-Math.max(t[1],t[3]),o);else s=Math.max(e[2]-t[1]-t[3],o),e[0]+=(t[3]-t[1])/2;null!==a[1]?s=Math.max(Math.min(s,e[2]-Math.max(t[0],t[2])),o):(s=Math.max(Math.min(s,e[2]-t[0]-t[2]),o),e[1]+=(t[0]-t[2])/2),s<e[2]?(e[2]=s,e[3]=Math.min(c(i.innerSize||0,s),s),this.translate(e),this.drawDataLabels&&this.drawDataLabels()):n=!0}return n}),u.column&&(u.column.prototype.alignDataLabel=function(t,e,i,a,o){var n=this.chart.inverted,s=t.series,l=t.dlBox||t.shapeArgs,d=r(t.below,t.plotY>r(this.translatedThreshold,s.yAxis.len)),c=r(i.inside,!!this.options.stacking);l&&(a=h(l),0>a.y&&(a.height+=a.y,a.y=0),l=a.y+a.height-s.yAxis.len,0<l&&(a.height-=l),n&&(a={x:s.yAxis.len-a.y-a.height,y:s.xAxis.len-a.x-a.width,width:a.height,height:a.width}),c||(n?(a.x+=d?0:a.width,a.width=0):(a.y+=d?a.height:0,a.height=0))),i.align=r(i.align,!n||c?"center":d?"right":"left"),i.verticalAlign=r(i.verticalAlign,n||c?"middle":d?"top":"bottom"),p.prototype.alignDataLabel.call(this,t,e,i,a,o),i.inside&&t.contrastColor&&e.css({color:t.contrastColor})})}),e(i,"modules/overlapping-datalabels.src.js",[i["parts/Globals.js"],i["parts/Utilities.js"]],function(t,e){var i=e.isArray,a=e.objectEach,o=e.pick;e=t.Chart;var n=t.addEvent,s=t.fireEvent;n(e,"render",function(){var t=[];(this.labelCollectors||[]).forEach(function(e){t=t.concat(e())}),(this.yAxis||[]).forEach(function(e){e.options.stackLabels&&!e.options.stackLabels.allowOverlap&&a(e.stacks,function(e){a(e,function(e){t.push(e.label)})})}),(this.series||[]).forEach(function(e){var a=e.options.dataLabels;e.visible&&(!1!==a.enabled||e._hasPointLabels)&&e.points.forEach(function(e){e.visible&&(i(e.dataLabels)?e.dataLabels:e.dataLabel?[e.dataLabel]:[]).forEach(function(i){var a=i.options;i.labelrank=o(a.labelrank,e.labelrank,e.shapeArgs&&e.shapeArgs.height),a.allowOverlap||t.push(i)})})}),this.hideOverlappingLabels(t)}),e.prototype.hideOverlappingLabels=function(t){var e,i,a,o=this,n=t.length,r=o.renderer,l=function(t){var e=t.box?0:t.padding||0,i=0;if(t&&(!t.alignAttr||t.placed)){var a=t.attr("x"),o=t.attr("y");return a="number"==typeof a&&"number"==typeof o?{x:a,y:o}:t.alignAttr,o=t.parentGroup,t.width||(i=t.getBBox(),t.width=i.width,t.height=i.height,i=r.fontMetrics(null,t.element).h),{x:a.x+(o.translateX||0)+e,y:a.y+(o.translateY||0)+e-i,width:t.width-2*e,height:t.height-2*e}}};for(i=0;i<n;i++)(e=t[i])&&(e.oldOpacity=e.opacity,e.newOpacity=1,e.absoluteBox=l(e));for(t.sort(function(t,e){return(e.labelrank||0)-(t.labelrank||0)}),i=0;i<n;i++){var d=(l=t[i])&&l.absoluteBox;for(e=i+1;e<n;++e){var h=(a=t[e])&&a.absoluteBox;!d||!h||l===a||0===l.newOpacity||0===a.newOpacity||h.x>d.x+d.width||h.x+h.width<d.x||h.y>d.y+d.height||h.y+h.height<d.y||((l.labelrank<a.labelrank?l:a).newOpacity=0)}}t.forEach(function(t){var e;if(t){var i=t.newOpacity;t.oldOpacity!==i&&(t.alignAttr&&t.placed?(i?t.show(!0):e=function(){t.hide(!0),t.placed=!1},t.alignAttr.opacity=i,t[t.isOld?"animate":"attr"](t.alignAttr,null,e),s(o,"afterHideOverlappingLabels")):t.attr({opacity:i})),t.isOld=!0}})}}),e(i,"parts/Interaction.js",[i["parts/Globals.js"],i["parts/Utilities.js"]],function(t,e){var i=e.defined,a=e.extend,o=e.isArray,n=e.isObject,s=e.objectEach,r=e.pick,l=t.addEvent;e=t.Chart;var d=t.createElement,h=t.css,c=t.defaultOptions,p=t.defaultPlotOptions,u=t.fireEvent,f=t.hasTouch,m=t.Legend,g=t.merge,v=t.Point,y=t.Series,_=t.seriesTypes,b=t.svg,M=t.TrackerMixin={drawTrackerPoint:function(){var t,e=this,i=e.chart,a=i.pointer,n=function(t){var e=a.getPointFromEvent(t);void 0!==e&&(a.isDirectTouch=!0,e.onMouseOver(t))};e.points.forEach(function(e){t=o(e.dataLabels)?e.dataLabels:e.dataLabel?[e.dataLabel]:[],e.graphic&&(e.graphic.element.point=e),t.forEach(function(t){t.div?t.div.point=e:t.element.point=e})}),e._hasTracking||(e.trackerGroups.forEach(function(t){e[t]&&(e[t].addClass("highcharts-tracker").on("mouseover",n).on("mouseout",function(t){a.onTrackerMouseOut(t)}),f&&e[t].on("touchstart",n),!i.styledMode&&e.options.cursor&&e[t].css(h).css({cursor:e.options.cursor}))}),e._hasTracking=!0),u(this,"afterDrawTracker")},drawTrackerGraph:function(){var t,e=this,i=e.options,a=i.trackByArea,o=[].concat(a?e.areaPath:e.graphPath),n=o.length,s=e.chart,r=s.pointer,l=s.renderer,d=s.options.tooltip.snap,h=e.tracker,c=function(){s.hoverSeries!==e&&e.onMouseOver()},p="rgba(192,192,192,"+(b?1e-4:.002)+")";if(n&&!a)for(t=n+1;t--;)"M"===o[t]&&o.splice(t+1,0,o[t+1]-d,o[t+2],"L"),(t&&"M"===o[t]||t===n)&&o.splice(t,0,"L",o[t-2]+d,o[t-1]);h?h.attr({d:o}):e.graph&&(e.tracker=l.path(o).attr({visibility:e.visible?"visible":"hidden",zIndex:2}).addClass(a?"highcharts-tracker-area":"highcharts-tracker-line").add(e.group),s.styledMode||e.tracker.attr({"stroke-linejoin":"round",stroke:p,fill:a?p:"none","stroke-width":e.graph.strokeWidth()+(a?0:2*d)}),[e.tracker,e.markerGroup].forEach(function(t){t.addClass("highcharts-tracker").on("mouseover",c).on("mouseout",function(t){r.onTrackerMouseOut(t)}),i.cursor&&!s.styledMode&&t.css({cursor:i.cursor}),f&&t.on("touchstart",c)})),u(this,"afterDrawTracker")}};_.column&&(_.column.prototype.drawTracker=M.drawTrackerPoint),_.pie&&(_.pie.prototype.drawTracker=M.drawTrackerPoint),_.scatter&&(_.scatter.prototype.drawTracker=M.drawTrackerPoint),a(m.prototype,{setItemEvents:function(t,e,i){var a=this,o=a.chart.renderer.boxWrapper,n=t instanceof v,s="highcharts-legend-"+(n?"point":"series")+"-active",r=a.chart.styledMode;(i?e:t.legendGroup).on("mouseover",function(){t.visible&&a.allItems.forEach(function(e){t!==e&&e.setState("inactive",!n)}),t.setState("hover"),t.visible&&o.addClass(s),r||e.css(a.options.itemHoverStyle)}).on("mouseout",function(){a.chart.styledMode||e.css(g(t.visible?a.itemStyle:a.itemHiddenStyle)),a.allItems.forEach(function(e){t!==e&&e.setState("",!n)}),o.removeClass(s),t.setState()}).on("click",function(e){var i=function(){t.setVisible&&t.setVisible(),a.allItems.forEach(function(e){t!==e&&e.setState(t.visible?"inactive":"",!n)})};o.removeClass(s),e={browserEvent:e},t.firePointEvent?t.firePointEvent("legendItemClick",e,i):u(t,"legendItemClick",e,i)})},createCheckboxForItem:function(t){t.checkbox=d("input",{type:"checkbox",className:"highcharts-legend-checkbox",checked:t.selected,defaultChecked:t.selected},this.options.itemCheckboxStyle,this.chart.container),l(t.checkbox,"click",function(e){u(t.series||t,"checkboxClick",{checked:e.target.checked,item:t},function(){t.select()})})}}),a(e.prototype,{showResetZoom:function(){function t(){e.zoomOut()}var e=this,i=c.lang,a=e.options.chart.resetZoomButton,o=a.theme,n=o.states,s="chart"===a.relativeTo||"spaceBox"===a.relativeTo?null:"plotBox";u(this,"beforeShowResetZoom",null,function(){e.resetZoomButton=e.renderer.button(i.resetZoom,null,null,t,o,n&&n.hover).attr({align:a.position.align,title:i.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(a.position,!1,s)}),u(this,"afterShowResetZoom")},zoomOut:function(){u(this,"selection",{resetSelection:!0},this.zoom)},zoom:function(t){var e,a=this,o=a.pointer,s=!1,l=a.inverted?o.mouseDownX:o.mouseDownY;!t||t.resetSelection?(a.axes.forEach(function(t){e=t.zoom()}),o.initiated=!1):t.xAxis.concat(t.yAxis).forEach(function(t){var n=t.axis,r=a.inverted?n.left:n.top,d=a.inverted?r+n.width:r+n.height,h=n.isXAxis,c=!1;(!h&&l>=r&&l<=d||h||!i(l))&&(c=!0),o[h?"zoomX":"zoomY"]&&c&&(e=n.zoom(t.min,t.max),n.displayBtn&&(s=!0))});var d=a.resetZoomButton;s&&!d?a.showResetZoom():!s&&n(d)&&(a.resetZoomButton=d.destroy()),e&&a.redraw(r(a.options.chart.animation,t&&t.animation,100>a.pointCount))},pan:function(t,e){var i,a=this,o=a.hoverPoints;u(this,"pan",{originalEvent:t},function(){o&&o.forEach(function(t){t.setState()}),("xy"===e?[1,0]:[1]).forEach(function(e){e=a[e?"xAxis":"yAxis"][0];var o=e.horiz,n=t[o?"chartX":"chartY"];o=o?"mouseDownX":"mouseDownY";var s=a[o],r=(e.pointRange||0)/2,l=e.reversed&&!a.inverted||!e.reversed&&a.inverted?-1:1,d=e.getExtremes(),h=e.toValue(s-n,!0)+r*l;l=e.toValue(s+e.len-n,!0)-r*l;var c=l<h;s=c?l:h,h=c?h:l,l=Math.min(d.dataMin,r?d.min:e.toValue(e.toPixels(d.min)-e.minPixelPadding)),r=Math.max(d.dataMax,r?d.max:e.toValue(e.toPixels(d.max)+e.minPixelPadding)),c=l-s,0<c&&(h+=c,s=l),c=h-r,0<c&&(h=r,s-=c),e.series.length&&s!==d.min&&h!==d.max&&(e.setExtremes(s,h,!1,!1,{trigger:"pan"}),i=!0),a[o]=n}),i&&a.redraw(!1),h(a.container,{cursor:"move"})})}}),a(v.prototype,{select:function(t,e){var i=this,a=i.series,o=a.chart;this.selectedStaging=t=r(t,!i.selected),i.firePointEvent(t?"select":"unselect",{accumulate:e},function(){i.selected=i.options.selected=t,a.options.data[a.data.indexOf(i)]=i.options,i.setState(t&&"select"),e||o.getSelectedPoints().forEach(function(t){var e=t.series;t.selected&&t!==i&&(t.selected=t.options.selected=!1,e.options.data[e.data.indexOf(t)]=t.options,t.setState(o.hoverPoints&&e.options.inactiveOtherPoints?"inactive":""),t.firePointEvent("unselect"))})}),delete this.selectedStaging},onMouseOver:function(t){var e=this.series.chart,i=e.pointer;t=t?i.normalize(t):i.getChartCoordinatesFromPoint(this,e.inverted),i.runPointActions(t,this)},onMouseOut:function(){var t=this.series.chart;this.firePointEvent("mouseOut"),this.series.options.inactiveOtherPoints||(t.hoverPoints||[]).forEach(function(t){t.setState()}),t.hoverPoints=t.hoverPoint=null},importEvents:function(){if(!this.hasImportedEvents){var e=this,i=g(e.series.options.point,e.options).events;e.events=i,s(i,function(i,a){t.isFunction(i)&&l(e,a,i)}),this.hasImportedEvents=!0}},setState:function(t,e){var i,o=this.series,n=this.state,s=o.options.states[t||"normal"]||{},l=p[o.type].marker&&o.options.marker,d=l&&!1===l.enabled,h=l&&l.states&&l.states[t||"normal"]||{},c=!1===h.enabled,f=o.stateMarkerGraphic,m=this.marker||{},g=o.chart,v=o.halo,y=l&&o.markerAttribs;if(!((t=t||"")===this.state&&!e||this.selected&&"select"!==t||!1===s.enabled||t&&(c||d&&!1===h.enabled)||t&&m.states&&m.states[t]&&!1===m.states[t].enabled)){if(this.state=t,y&&(i=o.markerAttribs(this,t)),this.graphic){if(n&&this.graphic.removeClass("highcharts-point-"+n),t&&this.graphic.addClass("highcharts-point-"+t),!g.styledMode){var _=o.pointAttribs(this,t),b=r(g.options.chart.animation,s.animation);o.options.inactiveOtherPoints&&((this.dataLabels||[]).forEach(function(t){t&&t.animate({opacity:_.opacity},b)}),this.connector&&this.connector.animate({opacity:_.opacity},b)),this.graphic.animate(_,b)}i&&this.graphic.animate(i,r(g.options.chart.animation,h.animation,l.animation)),f&&f.hide()}else t&&h&&(n=m.symbol||o.symbol,f&&f.currentSymbol!==n&&(f=f.destroy()),i&&(f?f[e?"animate":"attr"]({x:i.x,y:i.y}):n&&(o.stateMarkerGraphic=f=g.renderer.symbol(n,i.x,i.y,i.width,i.height).add(o.markerGroup),f.currentSymbol=n)),!g.styledMode&&f&&f.attr(o.pointAttribs(this,t))),f&&(f[t&&this.isInside?"show":"hide"](),f.element.point=this);t=s.halo,s=(f=this.graphic||f)&&f.visibility||"inherit",t&&t.size&&f&&"hidden"!==s?(v||(o.halo=v=g.renderer.path().add(f.parentGroup)),v.show()[e?"animate":"attr"]({d:this.haloPath(t.size)}),v.attr({class:"highcharts-halo highcharts-color-"+r(this.colorIndex,o.colorIndex)+(this.className?" "+this.className:""),visibility:s,zIndex:-1}),v.point=this,g.styledMode||v.attr(a({fill:this.color||o.color,"fill-opacity":t.opacity},t.attributes))):v&&v.point&&v.point.haloPath&&v.animate({d:v.point.haloPath(0)},null,v.hide),u(this,"afterSetState")}},haloPath:function(t){return this.series.chart.renderer.symbols.circle(Math.floor(this.plotX)-t,this.plotY-t,2*t,2*t)}}),a(y.prototype,{onMouseOver:function(){var t=this.chart,e=t.hoverSeries;e&&e!==this&&e.onMouseOut(),this.options.events.mouseOver&&u(this,"mouseOver"),this.setState("hover"),t.hoverSeries=this},onMouseOut:function(){var t=this.options,e=this.chart,i=e.tooltip,a=e.hoverPoint;e.hoverSeries=null,a&&a.onMouseOut(),this&&t.events.mouseOut&&u(this,"mouseOut"),!i||this.stickyTracking||i.shared&&!this.noSharedTooltip||i.hide(),e.series.forEach(function(t){t.setState("",!0)})},setState:function(t,e){var i=this,a=i.options,o=i.graph,n=a.inactiveOtherPoints,s=a.states,l=a.lineWidth,d=a.opacity,h=r(s[t||"normal"]&&s[t||"normal"].animation,i.chart.options.chart.animation);if(a=0,t=t||"",i.state!==t&&([i.group,i.markerGroup,i.dataLabelsGroup].forEach(function(e){e&&(i.state&&e.removeClass("highcharts-series-"+i.state),t&&e.addClass("highcharts-series-"+t))}),i.state=t,!i.chart.styledMode)){if(s[t]&&!1===s[t].enabled)return;if(t&&(l=s[t].lineWidth||l+(s[t].lineWidthPlus||0),d=r(s[t].opacity,d)),o&&!o.dashstyle)for(s={"stroke-width":l},o.animate(s,h);i["zone-graph-"+a];)i["zone-graph-"+a].attr(s),a+=1;n||[i.group,i.markerGroup,i.dataLabelsGroup,i.labelBySeries].forEach(function(t){t&&t.animate({opacity:d},h)})}e&&n&&i.points&&i.setAllPointsToState(t)},setAllPointsToState:function(t){this.points.forEach(function(e){e.setState&&e.setState(t)})},setVisible:function(t,e){var i=this,a=i.chart,o=i.legendItem,n=a.options.chart.ignoreHiddenSeries,s=i.visible,r=(i.visible=t=i.options.visible=i.userOptions.visible=void 0===t?!s:t)?"show":"hide";["group","dataLabelsGroup","markerGroup","tracker","tt"].forEach(function(t){i[t]&&i[t][r]()}),a.hoverSeries!==i&&(a.hoverPoint&&a.hoverPoint.series)!==i||i.onMouseOut(),o&&a.legend.colorizeItem(i,t),i.isDirty=!0,i.options.stacking&&a.series.forEach(function(t){t.options.stacking&&t.visible&&(t.isDirty=!0)}),i.linkedSeries.forEach(function(e){e.setVisible(t,!1)}),n&&(a.isDirtyBox=!0),u(i,r),!1!==e&&a.redraw()},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(t){this.selected=t=this.options.selected=void 0===t?!this.selected:t,this.checkbox&&(this.checkbox.checked=t),u(this,t?"select":"unselect")},drawTracker:M.drawTrackerGraph})}),e(i,"parts/Responsive.js",[i["parts/Globals.js"],i["parts/Utilities.js"]],function(t,e){var i=e.isArray,a=e.isObject,o=e.objectEach,n=e.pick,s=e.splat;e=t.Chart,e.prototype.setResponsive=function(e,i){var a=this.options.responsive,o=[],n=this.currentResponsive;!i&&a&&a.rules&&a.rules.forEach(function(e){void 0===e._id&&(e._id=t.uniqueKey()),this.matchResponsiveRule(e,o)},this),i=t.merge.apply(0,o.map(function(e){return t.find(a.rules,function(t){return t._id===e}).chartOptions})),i.isResponsiveOptions=!0,(o=o.toString()||void 0)!==(n&&n.ruleIds)&&(n&&this.update(n.undoOptions,e,!0),o?(n=this.currentOptions(i),n.isResponsiveOptions=!0,this.currentResponsive={ruleIds:o,mergedOptions:i,undoOptions:n},this.update(i,e,!0)):this.currentResponsive=void 0)},e.prototype.matchResponsiveRule=function(t,e){var i=t.condition;(i.callback||function(){return this.chartWidth<=n(i.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=n(i.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=n(i.minWidth,0)&&this.chartHeight>=n(i.minHeight,0)}).call(this)&&e.push(t._id)},e.prototype.currentOptions=function(t){function e(t,r,l,d){var h;o(t,function(t,o){if(!d&&-1<n.collectionsWithUpdate.indexOf(o))for(t=s(t),l[o]=[],h=0;h<t.length;h++)r[o][h]&&(l[o][h]={},e(t[h],r[o][h],l[o][h],d+1));else a(t)?(l[o]=i(t)?[]:{},e(t,r[o]||{},l[o],d+1)):l[o]=void 0===r[o]?null:r[o]})}var n=this,r={};return e(t,this.options,r,0),r}}),e(i,"masters/highcharts.src.js",[i["parts/Globals.js"],i["parts/Utilities.js"]],function(t,e){return(0,e.extend)(t,{arrayMax:e.arrayMax,arrayMin:e.arrayMin,attr:e.attr,defined:e.defined,erase:e.erase,extend:e.extend,isArray:e.isArray,isClass:e.isClass,isDOMElement:e.isDOMElement,isNumber:e.isNumber,isObject:e.isObject,isString:e.isString,objectEach:e.objectEach,pick:e.pick,pInt:e.pInt,setAnimation:e.setAnimation,splat:e.splat,syncTimeout:e.syncTimeout}),t}),i["masters/highcharts.src.js"]._modules=i,i["masters/highcharts.src.js"]})},195:function(t,e,i){"use strict";var a=i(224),o=(i(38),i(13)),n=i(63);MOVE.MORTGAGE.CrossSellThankyouModal=function(t){var e,s,r,l,d,h,c=$.noop(),p=void 0,u=function(t){s=t.selector,e=$(s),t.after_submit&&(c=t.after_submit),p={listing_id:t.listing_id,email:t.email,phone:t.phone,first_name:t.first_name,last_name:t.last_name,street:t.street,city:t.city,state_code:t.state,zip_code:t.zip_code,property_type:t.property_type||"single_family",price:t.price,lcs_guid:t.lead_id,lead_id_token:null,mortgage_rate:3,monthly_payment:null,credit_score:"good",modalPlacement:t.modalPlacement},E(),D(),f(),m(),v(),y(),b(),P("post-lead:cross_sell")},f=function(){e.modal()},m=function(){$(".mortgage-thankyou-modal-payment .payment").html(g(p.monthly_payment))},g=function(t){return"$"+t.toFixed(0).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")},v=function(){r=$(".thankyou-get-pre-approved"),l=$(".mortgage-thank-you-modal-get-pre-approved-cta"),d=$(".mortgage-thank-you-modal-credit-score-cta"),h=$(".mortgage-thank-you-modal-credit-score-cta .thankyou-submit")},y=function(){r.on("click",x),d.find("li").on("click",w),h.on("click",A)},b=function(){e.find('[data-dismiss="modal"]').on("click",M)},M=function(){d.hide(),l.show()},x=function(){l.slideUp("fast",function(){d.slideDown("fast",function(){$(this).find(".js-mrc-item").show(500),P("post-lead:cross_sell:credit_score")})})},w=function(t){p.credit_score=$(t.currentTarget).data("value"),d.find("li").removeClass("active"),d.find('li[data-value="'+p.credit_score+'"]').addClass("active")},k=function(){h.attr("disabled",!0),h.html("Contacting...")},O=function(){window.LeadiD&&window.LeadiD.snap()},C=function(){p.lead_id_token=MOVE_DATA.leadid_token},E=function(){var t={state_code:p.state_code,re_finance_rates:!1};$.ajax({url:"/mrtg_handler/get_trends_data",type:"POST",async:!1,contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify(t),success:function(t){t.meta.success&&t.rate_trends&&(p.mortgage_rate=_.last(t.rate_trends).R30)}})},D=function(){var t={price:p.price,down_payment:.2*p.price,rate:p.mortgage_rate/100,term:30,tax_rate:0,hoi:0,hoa:0,is_fees_included:!0,is_pmi_included:!0};$.ajax({url:"/mrtg_handler/calculators/loan/calculate",type:"POST",contentType:"application/json; charset=utf-8",dataType:"json",async:!1,data:JSON.stringify(t),success:function(t){t.meta.success&&t.mortgage&&(p.monthly_payment=t.mortgage.monthly_payment)}})},T=function(){p.last_name&&0!==p.last_name.length||(p.last_name="(not available)")},A=function(){T(),C(),k(),O(),$.ajax({type:"POST",url:"/mrtg_handler/cross_sell_leads",data:{loan_type:"Purchase",listing_id:p.listing_id,loan_price:p.price,loan_state:p.state_code,property_type:p.property_type,credit_score:p.credit_score,email:p.email,phone:p.phone,first_name:p.first_name,last_name:p.last_name,city:p.city,street:p.street,zip_code:p.zip_code,request_guid:p.lcs_guid,lead_id_token:p.lead_id_token,military:"n",source:"RDC-Cross-Sell"},success:function(){e.modal("hide"),S(),c()},error:function(t,e){a.a.error(e)}})},P=function(t){MOVE_DATA.adobeDTM.modal={name:t},i.i(o.a)(t,p.modalPlacement)},S=function(){MOVE_DATA.leadAdobeDTM={leadCreditScore:p.credit_score,leadPlacement:"post-lead",leadType:"rcm"},MOVE_DATA.adobeDTM.listingZip=p.zip_code,MOVE_DATA.adobeDTM.listingState=p.state_code,MOVE_DATA.adobeDTM.listingCity=p.city;var t=Object.assign({},MOVE_DATA.adobeDTM,MOVE_DATA.leadAdobeDTM);i.i(n.d)(t)};return t.CrossSellThankyouModal={init:u},t.CrossSellThankyouModal}(MOVE.MORTGAGE||{})},196:function(t,e){MOVE.VeteranBenefits=function(t){var e=function(){},i=function(t,e){e?($(t+' option[value="30yr_va"]').show(),$(t).selectpicker("refresh")):($(t+' option[value="30yr_va"]').hide(),$(t).selectpicker("refresh"))},a=function(e,i,a){if("#veteranAdsInEstimatePayment"===e){var o=i?"Y":"N";window.googletag.pubads().setTargeting("VET",[o]),a?t.Medias.manualLoadAds(window.gptAds.gptadslotsEMPSRP,null,!0):t.Medias.manualLoadAds(window.gptAds.gptadslotsEMP,null,!0)}else i?($(e).show(),window.googletag.pubads().setTargeting("VET",["Y"]),"#veteranAdsInAffordCalcSummary"===e?t.Medias.manualLoadAds(window.gptAds.gptadslotsVetOnlyCalcAfford,".VU"):"#veteranAdsInMortCalc"===e&&(t.Medias.manualLoadAds(window.gptAds.gptadslotsVetOnlyCalcMort,".VU"),$(".js-get-preapproved").hide())):($(e).hide(),$(".js-get-preapproved").show())},o=function(t,e){$(t).val(e),$(t).trigger("change")},n=function(e){"#veteranAdsInMortCalc"===e?t.Medias.kruxPixel("Jy_zI35g",{}):"#veteranAdsInAffordCalcWizard"===e||"#veteranAdsInAffordCalcSummary"===e?t.Medias.kruxPixel("JzAQDIUI",{}):"#veteranAdsInEstimatePayment"===e&&t.Medias.kruxPixel("K25Fdnq5",{})},s=function(t,e,s,r,l,d){var h=$("#"+s);if($(t).prop("checked"))h.data("percent",h.val()),h.val("0%"),a(r,!0,d),i(e,!0),n(r),o(e,"30yr_va"),"function"==typeof l&&l(s);else{var c="0%"===h.data("percent")?"20%":h.data("percent");h.val(c),a(r,!1,d),i(e,!1),$(e+" :selected").val().indexOf("_va")>-1&&o(e,"30yr_fixed"),"function"==typeof l&&l(s)}};return t.VeteranBenefits={init:e,showVeteranAds:a,showLoanTypeOption:i,toggleVeteranBenefits:s},t.VeteranBenefits}(MOVE||{}),MOVE.VeteranBenefits.init()},197:function(t,e){MOVE.LifeStyleGallery=function(t){var e=void 0,i=function(){e()};return e=function(){var e,i=$(".js-local-widget-number").data("temp"),a=i>5?i-4:0,o=i>3?i-2:0;e=t.Helper.isMobile()?i>4?i-3:0:i>8?i-7:0,$("#local_community_images").find(".js-local-fsgallery-toggle").last().find("img").after("<span class='js-local-numbers'>+"+a+"</span>"),$("#ldp_community_images").find(".js-local-fsgallery-toggle").last().find("img").after("<span class='js-local-numbers-ldp'>+"+e+"</span>"),$("#widget_community_images").find(".js-local-fsgallery-toggle").last().find("img").after("<span class='js-local-widget'>+"+o+"</span>"),0===a&&($(".js-local-numbers").addClass("hide"),$(".js-local-images").removeClass("local-lifestyle")),0===o&&($(".js-local-widget").addClass("hide"),$(".local-widget-photo-item").removeClass("local-lifestyle")),0===e&&($(".js-local-numbers-ldp").addClass("hide"),$(".js-local-images-ldp").removeClass("local-lifestyle"))},t.DOMHelper.unveilLoadImages("img:not(.section-comparable-properties-img)",{},$(".js-community-images")),t.DOMHelper.unveilLoadImages("img:not(.section-comparable-properties-img)",{},$("#cmt-fullscreen-gallery #photoCarousel")),t.LifeStyleGallery={init:i},t.LifeStyleGallery}(MOVE||{})},198:function(t,e){MOVE.Photos=function(){"use strict";var t,e,i=function(t,i){e=t.target,e.owlCarousel({items:1,loop:!0,margin:t.margin,startPosition:t.currentIndex,animateOut:"fadeOut",navSpeed:100,lazyLoad:!0,dots:!1,nav:!0,navText:["<div class='gallery-arrows arrow-left hidden-xs hidden-xxs' ><i class='ra ra-chevron-left'></i></div>","<div class='gallery-arrows arrow-right hidden-xs hidden-xxs' ><i class='ra ra-chevron-right'></i></div>"],navContainer:t.navigationContainer&&$(t.navigationContainer).length>0?t.navigationContainer:"",onChanged:function(t){if(t.namespace&&"position"===t.property.name){var e=t.relatedTarget.relative(t.item.index);i(t.item.count,e)}}})};return $(document).keydown(function(t){var e=$("#cmtPhotoGallery",t.target);0!==e.length&&(37===t.keyCode?e.trigger("prev.owl.carousel"):39===t.keyCode&&e.trigger("next.owl.carousel"))}),t=function(t){if(t){var e=t.find("img");e.hasClass("hide")&&e.removeClass("hide")}},MOVE.Photos={init:i,loadPhoto:t},MOVE.Photos}(MOVE)},199:function(t,e){MOVE.MovingEstimateModal=function(t){var e,i,a,o,n,s,r,l=function(t){h(t),c(t),r.click(p)},d=function(){e=$("#moving-calculator-modal"),i=e.find(".js-moving-estimated-cost"),a=e.find(".js-moving-distance"),o=e.find(".js-moving-weight"),n=e.find(".js-moving-from"),s=e.find(".js-moving-to"),r=e.find("#divDisclaimer")},h=function(t){d(),i.html(t.low_estimate+" - "+t.high_estimate),a.html(t.distance_display+" miles"),o.html(t.weight_range_low_display+" - "+t.weight_range_high_display+" lbs"),n.html(t.from_zip+" - "+t.from_city+", "+t.from_state),s.html(t.to_zip+" - "+t.to_city+", "+t.to_state)},c=function(e){t.Medias.loadMCCOverlayAd("#moving-calculator-modal"),t.MovingQuoteModal.init(e)},p=function(t){$("#divMoreDisclaimer").removeClass("hide"),$("#divDisclaimer").addClass("hide"),t.preventDefault()},u=function(){e.modal()},f=function(e){$("#moving-calculator-modal").length?(l(e),u()):t.ModalHelper.fetchModal("#moving-calculator-modal",{},{calculation:e})};return t.MovingEstimateModal={init:l,show:f},t.MovingEstimateModal}(MOVE||{})},200:function(t,e){MOVE.MovingQuoteModal=function(t){var e,i,a,o,n,s,r,l,d,h=t.DOMHelper.detectPageType(),c=function(e){p(e),u(),y(),MOVE_DATA.adobeDTM.modal={name:"movingCostEstimate"},t.Common.openModalMovingLeadOmniture()},p=function(t){e=t,a=$("#moving-calculator-modal"),o=$("#moving-calc-submit-btn"),n=a.find(".js-phone"),s=a.find(".js-email"),r=a.find(".js-first-name"),l=a.find(".js-last-name"),d=$("#datepicker1")},u=function(){var o=a.find("form");n.on("keypress",t.DOMHelper.validatePhone),i=o.validate({rules:{"first-name":{required:!0,pattern:/^[a-zA-Z.+-. ']+$/},"last-name":{required:!0,pattern:/^[a-zA-Z.+-. ']+$/},email:{required:!0,pattern:/^.+@.+\..+$/},phone:{required:!0,phoneUS:!0},"date-picker":{required:!0}},messages:{"first-name":{required:"Please enter your first name",pattern:"Please enter a valid first name"},"last-name":{required:"Please enter your last name",pattern:"Please enter a valid last name"},email:{required:"Please enter your email",pattern:"Please enter a valid email address"},phone:{required:"Please enter your phone number",phoneUS:"Please enter a valid phone number"},"date-picker":{required:"Please enter a date"}},errorPlacement:function(e,i){t.DOMHelper.movingQuoteErrorPlacement(e,i)},submitHandler:function(){var a=t.DateFormat.getFormattedDate(d.datepicker("getDate")),o={from_zip:e.from_zip,to_zip:e.to_zip,last_name:l.val(),first_name:r.val(),packing_option:e.packing_option,email:s.val(),phone_home:n.val(),move_date:a,move_size:e.move_weight_lbs,lead_source:f(h)};g(!1),$.ajax({url:"/moving/lead",method:"POST",data:o,dataType:"JSON",success:function(e){if(g(!0),e.meta.success)return m(),v();_.each(e.meta.errors,function(e){var a={},o=t.Helper.mapMovingAPIErrorCodeToName(e.code);if("unsupported"===o)return m(),v();a[o]=e.message,i.showErrors(a)})}})}})},f=function(t){var e="sel";return"recently_sold"===MOVE_DATA.adobeDTM.propertyStatus&&"recently_sold"===MOVE_DATA.adobeDTM.propertyStatusSub?e="rsld":"new_community"===MOVE_DATA.adobeDTM.propertyStatus&&null===MOVE_DATA.adobeDTM.propertyStatusSub?e="nh":"for_rent"===MOVE_DATA.adobeDTM.propertyStatus&&(e="rnt"),"news_and_advice"===t&&(e="adv",t="mov"),"rdc-CostCalc-"+e+"-"+t},m=function(){t.Helper.updateOmnitureLeadJson({leadType:"moving",leadPlacement:"srp"===h?"srp":"ldp:rr"}),t.Common.successMovingLeadOmniture()},g=function(t){o.attr("disabled",!t)},v=function(){a.modal("hide");var t=$("#thank-you-moving-quote");t.find(".close").on("click",function(){t.addClass("hide")}),t.removeClass("hide").show(),t.fadeTo(1e4,100).fadeOut("slow")},y=function(){var t=new Date;t.setDate(t.getDate()+14),d.datepicker({orientation:"auto top",container:"#datepicker1",autoclose:!0,startDate:"+1d",endDate:"+6m"}),d.datepicker("setDate",t),d.datepicker("update")};return t.MovingQuoteModal={init:c,showThankyou:v,leadSource:f},t.MovingQuoteModal}(MOVE||{})},202:function(t,e,i){"use strict";i.d(e,"a",function(){return r});var a=i(14),o={transit:{menu:{checked:"transit"},button:{activate:!0}}},n=a.a.getData("propertyDetails"),s={};n&&n.ny_exp&&(s.default=o);var r={overlayControlsDefaults:s}},203:function(t,e,i){"use strict";function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i.d(e,"a",function(){return f});var o=i(111),n=i(14),s=i(241),r=i(240),l=i(119),d=i(92),h=i(61),c=function(){function t(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,i,a){return i&&t(e.prototype,i),a&&t(e,a),e}}(),p=function(t,e){return e(t),t},u=n.a.getData("mapConfiguration"),f=function(){function t(e){var o=e.propertyData,n=e.$element;a(this,t),i.i(d.d)(this),this.$element=n,this.propertyData=o}return c(t,null,[{key:"render",value:function(t){var e=t.propertyData,i=t.$element;return p(new this({propertyData:e,$element:i}),function(t){return t.render()})}},{key:"instance",get:function(){return d.a}},{key:"map",get:function(){return d.b}},{key:"marker",get:function(){return d.c}}]),c(t,[{key:"render",value:function(){var t=[],e=void 0,a=void 0,n=void 0,c=void 0,p=void 0,f=void 0,m=this.propertyData,g=this.$element,v=null,y=void 0,b=void 0,M=this.constructor.overlayControlsExtension(),x=this.constructor.mapOptionsLDP(),w=this.constructor.appendViewTypeSatellite,k=i.i(l.a)(m);e=function(){u&&(i.i(o.a)(a),i.i(o.b)("rdc-srp"))},a=function(t){var e=t.Component,i=t.Client,a=t.Utils,o=t.ViewType;n({Client:i,Utils:a})(function(){p(e)(function(t){MOVE.MapHelper.createMapMessage(t,function(){f(t,o)})})})},f=function(e,a){i.i(l.b)(e,v),(m.flags||{}).is_address_suppressed&&!v.message?e.map.setZoom(l.c.zoom):(m.flags||{}).is_address_suppressed||i.i(d.e)(new google.maps.Marker({position:new google.maps.LatLng(parseFloat(m.lat),parseFloat(m.long)),map:e.map})),0===t.length&&(t.push(i.i(l.d)(k)),i.i(l.e)(t,e,d.b)),w(e,a),MOVE.MapHelper.triggerOnDrag(g).on("drag.map",function(t){c(t),e.map.setClickableIcons(!1),_.defer(function(){e.map.setClickableIcons(!0)})})},c=function(t){d.b.schools&&!d.b.schools.isTooltipTarget(t.target)&&d.b.schools.closeInfoWindow()},n=function(t){var e=t.Client,a=t.Utils;return function(t){var o,n,s,r=function(){void 0===v.view.center&&(v=null),t&&t(),g.trigger("Map.Loaded")};if(k){s=k.longitude,n=k.latitude;var c=-1!==n&&0!==n&&null!==n,p=-1!==s&&0!==s&&null!==s;c&&p&&(o={longitude:s,latitude:n})}null===v&&(v={view:{center:o,zoom:h.a}}),void 0===b&&(b=new a),void 0===y&&(y=new e({id:"rdcV8",url:u.service_url})),void 0===v.view.center||(m.flags||{}).is_address_suppressed?i.i(l.f)({property:m,_client:y,_utils:b,_youAreHere:v,finished:r}):r(),d.b&&d.b.areas.show("search-area")}},p=function(t){return function(e){var a;a=null===v?l.c:void 0,a=v.view,$.extend(!0,x,a);var o=k.latitude&&k.longitude&&!m.flags.is_address_suppressed,n=Object.assign({},s.a),h=$.extend(!0,n,{enabled:i.i(l.g)(o)},m.trackingOptions||{}),c=$.extend(!0,h,{version:u.map_version,cdn:u.cdn_url,client:y,utils:b,container:g,mapOptions:x,propertyAttributes:{position:{lat:m.lat,long:m.long},noiseData:m.noise_data},extensions:{overlayControls:M,moveADs:r.a,streetView:r.b,transit:r.c,tiles:r.d,schools:r.e,amenities:r.f,flood:r.g}});i.i(d.f)(new t(c,e)),i.i(r.h)(s.b)}},e()}},{key:"property",get:function(){return this.propertyData}}],[{key:"mapOptionsLDP",value:function(){var t=!$.Device.isMobile(navigator.userAgent),e=Object.assign({},s.b);return $.extend(!0,e,{keyboardShortcuts:t,overviewMapControl:t,panControl:t,rotateControl:t,scaleControl:t})}},{key:"overlayControlsExtension",value:function(){return Object.assign({},r.i)}},{key:"appendViewTypeSatellite",value:function(){$.noop()}}]),t}()},204:function(t,e,i){"use strict";function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function n(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(){var t=(f.instance||{}).property||{},e=[];return t.address&&e.push(t.address),t.city&&e.push(t.city),t.postal_code&&e.push(t.postal_code),t.state_code&&e.push(t.state_code),e}function r(t){c.b&&(c.b.youAreHere.hide(),c.b.streetView.show(t.join(", ")),c.c.setMap(null),c.b.streetView.onFailed(function(){$("#view-controllers .btn-map-rdc").addClass("hide"),c.b.message.show({message:"Google Street View is not available for this location."}),window.setTimeout(function(){c.b.message.hide()},5e3)}))}function l(){c.b&&(c.b.streetView&&c.b.streetView.hide(),c.c&&c.c.setMap(c.b.map))}i.d(e,"a",function(){return f});var d=i(203),h=i(61),c=i(92),p=function(){function t(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,i,a){return i&&t(e.prototype,i),a&&t(e,a),e}}(),u=function t(e,i,a){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,i);if(void 0===o){var n=Object.getPrototypeOf(e);return null===n?void 0:t(n,i,a)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(a)},f=function(t){function e(t){var n=t.propertyData,s=t.$element;a(this,e);var r=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,{propertyData:n,$element:s}));return r.propertyIcon=i(254),r}return n(e,t),p(e,null,[{key:"showStreetView",value:function(t){t?r(s()):l()}},{key:"mapOptionsLDP",value:function(){var t=u(e.__proto__||Object.getPrototypeOf(e),"mapOptionsLDP",this).call(this);return $.extend(!0,t,{fullscreenControl:!1,mapTypeControl:!1})}},{key:"overlayControlsExtension",value:function(){var t=u(e.__proto__||Object.getPrototypeOf(e),"overlayControlsExtension",this).call(this);return $.extend(!0,t,{position:h.b.TOP_RIGHT})}},{key:"appendViewTypeSatellite",value:function(t,e){(new e).appendTo({component:t})}},{key:"recenterListener",value:function(){var t=c.b.map.getCenter();window.google.maps.event.trigger(c.b.map,"resize"),c.b.map.setCenter(t)}}]),e}(d.a)},205:function(t,e,i){"use strict";i.d(e,"a",function(){return a});var a=function(t){var e=new Image,i=void 0,a="";e.src=t.attr("src"),i=e.naturalWidth<e.naturalHeight?"portrait":"landscape",e.naturalHeight<720&&(a="lesser-height-img"),e.naturalHeight<480&&(a="very-small-img"),e.naturalWidth>1e3&&(a="wider-img"),t.addClass(i),t.addClass(a)}},206:function(t,e,i){"use strict";function a(t){var e=i.i(l.a)(t),a=t.listing_id||t.listingId;s=t;var o,n=t.photos||[];MOVE.Helper.hasSessionStorage()&&(o="true"===window.sessionStorage.getItem("closeMapLead"));var r=JST["quick_view/templates/maps/fullmap"]({directions_link:e,photos:n,property:t,isPhone:u,isDesktop:f,leadSubmitted:i.i(d.a)(a),closeMapLeadStatus:o,hasStreetView:s.lat&&s.long&&!(s.flags||{}).is_address_suppressed});$(h).html(r).promise().done(y),r=null}function o(t){t.preventDefault(),$(c).addClass("qv-full-width qv-full-map"),$(p).length&&(_(),x(),MOVE.Medias.manualLoadAds(window.gptAds.gptadslotsQuickViewMapExp,".mapexp1",!1,!0))}function n(t){o(t),$(p).one("Map.Loaded",function(){A()})}e.a=a,e.b=o,i.d(e,"c",function(){return C});var s,r=i(204),l=i(207),d=i(60),h="#qv-full-map-container",c=".qv-wrap",p="#qv-fullmap",u=MOVE_DATA.isPhone,f=MOVE_DATA.isDesktop,m=void 0,g=void 0,v=void 0,y=function(){$(".fullmap-view").off("click").on("click",o),$(".fullmap-street-view").off("click").on("click",n),s.mapUrl?($(".qv-fullmap-btn-wrapper").removeClass("loading"),$(".fullmap-view").removeClass("hide").find("img").attr("src",s.mapUrl).removeClass("hide"),$(".fullmap-street-view").removeClass("hide")):($(".qv-fullmap-btn-wrapper").removeClass("loading"),$(".fullmap-view").find("img").addClass("hide"),$(".fullmap-street-view").addClass("hide"))},_=function(){E(),b(),f&&M()},b=function(){var t=$(p);r.a.render({propertyData:s,$element:t})},M=function(){MOVE.Helper.hasSessionStorage()&&"true"===window.sessionStorage.getItem("closeMapLead")&&$(".qv-full-map").find("#header-contact-agent").css("display","inline-block")},x=function(){w(),g.addClass("hide"),m.removeClass("hide"),k(),f&&O()},w=function(){m=$(h).find(".btn-map-rdc.change-view.street-view"),g=$(h).find(".btn-map-rdc.change-view.map-view"),v=$(".full-map-close")},k=function(){m.off("click").on("click",A),g.off("click").on("click",T),v.off("click").on("click",D)},O=function(){$("#qv-fullmap-lead-toggle").on("click",function(){$(h).find(".qv-fullmap-leftcontent").addClass("no-show"),$(h).find(".component_qv-map-wrapper").removeClass("offset-mapwrapper"),$(".qv-full-map").find("#aj-qv-header #header-contact-agent").css("display","inline-block"),C()})},C=function(){r.a.recenterListener(),MOVE.Helper.hasSessionStorage()&&window.sessionStorage.setItem("closeMapLead","true")},E=function(){$(h).find(".component_qv-map-container").removeClass("hide")},D=function(){$(c).removeClass("qv-full-width qv-full-map"),$(h).find(".component_qv-map-container").addClass("hide"),$("#full-map").removeClass("street-view")},T=function(){r.a.showStreetView(!1),g.addClass("hide"),m.removeClass("hide"),$("#full-map").removeClass("street-view")},A=function(){r.a.showStreetView(!0),g.removeClass("hide"),m.addClass("hide"),$("#full-map").addClass("street-view")}},207:function(t,e,i){"use strict";function a(t){var e=void 0;if(t&&t.flags&&!t.flags.is_address_suppressed||"Address Not Available"!==t.address_display){e="https://web.archive.org/web/20200819065000/https://www.google.com/maps/dir/"+t.full_address_display.replace(/\s+/g,"+")}return e}e.a=a},21:function(t,e,i){"use strict";function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i.d(e,"a",function(){return s});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,i,a){return i&&t(e.prototype,i),a&&t(e,a),e}}(),n=void 0,s=function(){function t(e){var i=e.data;a(this,t),n=this,this.data=i}return o(t,null,[{key:"instance",get:function(){return n}}]),o(t,[{key:"getData",value:function(){return this.data}},{key:"getHeadLines",value:function(){return(this.data||{}).headline}}]),t}()},218:function(t,e,i){"use strict";i.d(e,"a",function(){return l});var a=i(111),o=i(21),n=i(91),s=i(202),r=i(5);MOVE.LDP=MOVE.LDP||{},MOVE.LDP.Map=function(t){var e,l,d,h,c,p,u,f,m,g={},v=!1,y=!1,b=!1,M=function(t,y,M){var x,C,E,D=jQuery("#"+t),T=jQuery("#streetView"),A=null,P=y,S=M;e=o.a.instance.getData(),m=(MOVE.MapMiniCard||{}).Helper||MOVE.MapMiniCard;var L=function(){e.map&&(i.i(a.a)(V),i.i(a.b)("rdc-ldp-photo-map"))},V=function(e){var i=e.Component,a=e.Client,o=e.Utils;W({Client:a,Utils:o})(function(){U(i)(function(e){MOVE.MapHelper.createMapMessage(e,function(){var i=["nearbyLDPMap","nearbyHomeValuesMap","recentlySoldAroundMap"];_.contains(i,t)?G(e,t):B(e),F()})})}),S&&MOVE.LDP.Map.showStreetView(!0)},I=function(t){return _.isUndefined(MOVE_DATA.mapData)?{}:MOVE_DATA.mapData[t]},H=function(t,e){var i=I("mapDataOffMarket");i&&(i.id=t.id,e(i))},N=function(t,e){(p=I("mapDataHomesNearStreet"))&&(p.id=t.id,e(p))},z={getPinData:function(t,e){var i=I(h());i&&(i.id=t.id,e(i))}};h=function(){return{"#nearby-homes-for-sale":"mapDataForSale","#nearby-for-rent":"mapDataForRent","#nearby-recently-sold":"mapDataRecentlySold","#nearby-home-values":"mapDataOffMarket"}[$("ul.js-nearby-widget-tabs li.active a").attr("href")]};var F=function(){},R=function(){return{address:{geoPoint:{coordinates:[e.long,e.lat],type:"Point"},line:e.address},city:e.city,isLatLong:!0,mprId:e.property_id,showSponsorAd:!0,state:e.state_code,status:e.status,zip:e.postal_code}},j=function(t){t.map.setClickableIcons(!1),_.defer(function(){t.map.setClickableIcons(!0)})},B=function(t,e){null!==A&&t.youAreHere&&(A.message?(e||t.message.show({message:A.message}),T.prop("disabled",!0)):t.youAreHere.add(R(),A.view.center),$.Device.isMobile(navigator.userAgent)&&(t.map.setZoom(16),t.youAreHere.marker&&t.youAreHere.marker.setIcon())),t.properties&&(t.properties.setLimit(300),t.properties.setTypeEnabled("property",!0),t.properties.setEnabled(!0),MOVE.LDP.Map.mapLdp=t),t.sideList&&t.sideList.hide(),t.streetView&&t.streetView.onFailed(function(){t.message.show({message:"Google Street View is not available for this location."}),window.setTimeout(function(){t.message.hide()},5e3)}),t.tiles&&t.tiles.show("propertyOutlines"),google.maps.event.addListener(t.map,"idle",function(){if(MOVE.MapMiniCard&&MOVE.MapMiniCard.closeInfoWindowCard(),void 0!==f){var e=t.getBounds(),i=t.utils.boundsToString(e),a=e.toUrlValue().split(",");if((O(a)||MOVE.Helper.isInvalidCoordinates(a))&&k(),e.zoom>17){var o={pos:i,search_controller:"Search::PropertiesController",types:["lotPrice"],from_ldp:!0};$.ajax({url:"/search_result.json",method:"POST",dataType:"json",contentType:"application/json",data:JSON.stringify(o),success:function(t){t.id=p.id,t.results.property.items=g,u(t)}})}}}),"none"!==t.map.gestureHandling&&google.maps.event.addListener(t.map,"bounds_changed",function(){MOVE.MapMiniCard&&m.closeInfoWindowCard(),void 0!==f&&f.properties.select({})}),google.maps.event.addListener(t.map,"dragend",function(){j(t)}),google.maps.event.addListener(t.map,"click",function(){D.find(".gm-style-iw").length&&j(t)})},G=function(t,e){var i,a="nearbyHomeValuesMap"===e,o="recentlySoldAroundMap"===e;B(t,a,o),MOVE.LDP.NearbyCardsToPins.init();var n=[];(i=I(a?"mapDataOffMarket":o?"mapDataHomesNearStreet":"mapDataForSale"))&&_.each(i.results.property.items,function(t){n.push(t.position)});var s=t.utils.createView([],n);if(s)if(s.bounds)if(o&&$("#homes-near-street").length){var r=t.youAreHere.marker;t.map.setCenter({lat:r.position.lat(),lng:r.position.lng()}),setTimeout(function(){t.map.setZoom(15)},100)}else t.map.fitBounds(s.bounds);else s.center&&s.zoom&&(t.map.setCenter(s.center),t.map.setZoom(15))},W=function(t){var i=t.Client,a=t.Utils;return function(t){var o,n,s,r=function(){void 0===A.view.center&&(A=null),t&&t()};null===A&&(A={view:{center:function(){var t,i,a;return e&&(a=e.long,i=e.lat,-1!==a&&0!==a&&null!==a&&-1!==i&&0!==i&&null!==i&&(t={longitude:a,latitude:i})),t}(),zoom:15}},A.view.center=(e.flags||{}).is_suppress_map_pin||(e.flags||{}).is_address_suppressed?void 0:A.view.center),void 0===C&&(C=new a),void 0===x&&(x=new i({id:"rdc",url:e.map.service_url})),void 0===A.view.center?(o=e.state_code,n=e.postal_code,s=e.city,o&&n?x.getAreaByName({state:o,city:s,name:n,type:"area-zipCode"},function(t){var i,a=[],o=[];t&&t.list&&(jQuery.each(t.list,function(t,e){e.boundary&&a.push(e.boundary),e.center&&o.push(e.center)}),(i=C.createView(a,o))&&(i.bounds||i.center)&&(A.view.center=i.bounds?i.bounds.getCenter():i.center,A.message=(e.flags||{}).is_address_suppressed?"This listing is not shown on the map at the data provider's request.":"Google Map View is not available for this location.")),r()}):r()):r()}},U=function(i){return function(a){var o,s={styles:n.c,streetViewControl:!1,gestureHandling:P?"auto":"none",keyboardShortcuts:P,mapTypeControl:P||$.Device.isIPad,overviewMapControl:P,panControl:P,rotateControl:P,scaleControl:P,scrollwheel:!1,zoomControl:!0};if($.extend(s,MOVE.MapHelper.getMapOptions(google)),o=null===A?{center:{longitude:-98.579416,latitude:39.828328},zoom:4}:A.view,jQuery.extend(!0,s,o),"nearbyLDPMap"===t)Y(i)(s,a);else if("nearbyHomeValuesMap"===t)q(i)(s,a);else if("recentlySoldAroundMap"===t){var r=function(t){return"recently_sold"===t.status},l=function(t){return"Price Not Available"===t.price_display},d=function(t){return(t||"").replace(/\D/g,"")},h=function(t){return r(t)&&l(t)?void 0:d(t.price_display)},c=function(t){return l(t)?void 0:t.price_display},p=function(t){return r(t)?"Sold":void 0};_.each(e.homes_near_street.properties,function(t){g[t.listing_id]={address:t.full_address_display||t.address,bath:t.baths,bed:t.beds,city:t.city,id:""+t.listing_id,isAddressSuppressed:""===t.address,ldpUrl:t.ldp_url,listing_id:t.listing_id,property_id:t.property_id,mprId:t.property_id,photo:t.photo_url,plan_id:t.property_id,plot:!0,position:{coordinates:[t.lon,t.lat],type:"Point"},price:h(t),priceDisplay:c(t),priceDefaultDisplay:p(t),propertyType:t.property_type,search_flags:{},source_id:"M",sqft:d(t.sqft_display),sqft_display:t.sqft_display,state:t.state_code,status:t.status,type:"property",zip:t.postal_code,saved_resource_id:t.saved_resource_id,last_sold_price_display:t.sold_price||t.last_sold_price_display,last_sold_date_display:t.sold_date||t.last_sold_date_display,days_on_market:t.days_on_market,sold_price_difference_summary:t.sold_price_difference_summary}}),K(i)(s,a)}else"qv-hero-map"===t?Z(i)(s,a):X(i)(s,a)}},Y=function(t){return function(i,a){d=new t({version:e.map.map_version,cdn:e.map.cdn_url,client:x,utils:C,container:D,mapOptions:jQuery.extend({},i,{disableDoubleClickZoom:!0}),enabled:{properties:!0,youAreHere:!0,waiting:!0,streetView:!1},extensions:{properties:{events:{load:function(t,e){z.getPinData(t,function(t){e(t)})},pinClicked:function(t,e){e.preventDefault(),e.stopPropagation();var i=d.properties.getSelectedPoint(),a=$(".js-ldp-nearby-mini-card");if(MOVE.MapMiniCard&&!b)if(t){var o=i.x,n=i.y;m.openInfoWindowCard(t,o,n,!1,"",a,E)}else m.closeInfoWindowCard(a)}}}}},a),$(".js-nearby-widget-tabs li").on("click",function(){var t;$(this).hasClass("js-nearby-homes-for-sale")?t=I("mapDataForSale"):$(this).hasClass("js-nearby-for-rent")?t=I("mapDataForRent"):$(this).hasClass("js-nearby-recently-sold")?t=I("mapDataRecentlySold"):$(this).hasClass("js-nearby-home-values")&&(t=I("mapDataOffMarket")),d.properties.clear("property"),d.properties.update(t),MOVE.MapMiniCard&&m.closeInfoWindowCard(),$(".ldp-nearby-homes").scrollTop(10)})}},q=function(t){return function(i,a){c=new t({version:e.map.map_version,cdn:e.map.cdn_url,client:x,utils:C,container:D,mapOptions:jQuery.extend({},i,{disableDoubleClickZoom:!0}),enabled:{properties:!0,youAreHere:!0,waiting:!0,streetView:!1},extensions:{properties:{events:{load:function(t,e){H(t,function(t){e(t)})},pinClicked:function(t,e){e.preventDefault(),e.stopPropagation();var i=c.properties.getSelectedPoint(),a=$(".js-ldp-nearby-homevalues-mini-card");if(MOVE.MapMiniCard)if(t&&!b){var o=i.x,n=i.y;m.openInfoWindowCard(t,o,n,!1,"",a,E)}else m.closeInfoWindowCard(a)}}}}},a)}},X=function(t){return function(i,a){l=new t({version:e.map.map_version,cdn:e.map.cdn_url,client:x,utils:C,container:D,mapOptions:jQuery.extend({},i,{gestureHandling:"greedy"}),enabled:{properties:!0,youAreHere:!0,waiting:!0,streetView:!0},ny_exp:r.d.ny_exp,ny_location:r.d.ny_location,extensions:{defaults:s.a.overlayControlsDefaults,streetView:{panoramaOptions:{scrollwheel:!0,enableCloseButton:!1,zoomControlOptions:{style:google.maps.ZoomControlStyle.SMALL,position:google.maps.ControlPosition.RIGHT_TOP},panControlOptions:{position:google.maps.ControlPosition.RIGHT_TOP}}}}},a)}},Z=function(t){return function(i,a){i.zoomControlOptions={position:MOVE_DATA.isPhone?google.maps.ControlPosition.RIGHT_TOP:google.maps.ControlPosition.RIGHT_BOTTOM},i.mapTypeControlOptions={position:google.maps.ControlPosition.LEFT_TOP},i.panoramaOptions={addressControlOptions:{position:google.maps.ControlPosition.RIGHT_BOTTOM}},l=new t({version:e.map.map_version,cdn:e.map.cdn_url,client:x,utils:C,container:D,mapOptions:jQuery.extend({},i,{gestureHandling:"greedy"}),enabled:{properties:!0,youAreHere:!0,waiting:!0,streetView:!0},extensions:{streetView:{panoramaOptions:{scrollwheel:!0,enableCloseButton:!1,zoomControlOptions:{style:google.maps.ZoomControlStyle.SMALL,position:google.maps.ControlPosition.RIGHT_BOTTOM},panControlOptions:{position:google.maps.ControlPosition.RIGHT_CENTER},fullscreenControlOptions:{position:google.maps.ControlPosition.BOTTOM_LEFT}}}}},a)}},K=function(i){return function(a,o){f=new i({version:e.map.map_version,cdn:e.map.cdn_url,client:x,utils:C,container:D,mapOptions:jQuery.extend({},a,{disableDoubleClickZoom:!0}),enabled:{properties:!0,youAreHere:!0,waiting:!0,streetView:!1},extensions:{properties:{events:{load:function(e,i){u=i,N(e,function(e){if(i(e),"recentlySoldAroundMap"==t&&f&&f.properties&&!v){var a=$("#recentlySoldAroundMap").find(".for_sale :first"),o=$("#recentlySoldAroundMap").find(".recently_sold :first");a.length?a.click():o.length?o.click():MOVE.LDP.HomesNearStreet.homesNearCard(),v=!0}})},pinClicked:function(t,e){e.preventDefault(),e.stopPropagation(),MOVE.LDP.HomesNearStreet.homesNearCard(t)}}}}},o),w(f)}};E=function(){void 0!==d&&d.properties.select({}),void 0!==c&&c.properties.select({}),void 0!==f&&f.properties.select({})},MOVE.MapHelper.bindInfoWindowCloseEvents(D,function(){MOVE.MapMiniCard&&m.closeInfoWindowCard(),E()}),function(){D.appear(),D.on("appear",function(){D.off("appear"),L()}),jQuery.force_appear()}()},x=function(t){var i=[];t?(e.address&&i.push(e.address),e.city&&i.push(e.city),e.postal_code&&i.push(e.postal_code),e.state_code&&i.push(e.state_code),l&&(y=l.youAreHere.getVisible(),l.youAreHere.hide(),l.streetView.show(i.join(", ")),l.onChanged(function(){setTimeout(function(){var t=$(".gmnoprint").prevAll('div:not(:has(div)):not([class])[style*="left: 0px; top: 0px;"]');t.length&&t.remove()},1e3)}))):(l.streetView.hide(),l.youAreHere.setVisible(y))},w=function(t){var e=$("#ldp-home-around-hignlight-carousel");e.on("mouseenter",".recently-sold-around-highlight-card",function(){t.properties.select({type:"property",id:$(this).data("property-id")}),"for_sale"===$(this).data("propertystatus")?$(this).addClass("active highlight-card-forsale"):$(this).addClass("active"),b=!0}),e.on("mouseout",".recently-sold-around-highlight-card",function(){t.properties.select({}),$(this).removeClass("active highlight-card-forsale"),b=!1})},k=function(){window.google&&MOVE.LDP.Map&&window.google.maps.event.trigger(MOVE.LDP.Map.mapLdp,"resize")},O=function(t){return t[0]==t[2]||t[1]==t[3]};return t.Map={init:M,mapLdpNearby:d,mapLdpHomeValues:c,showStreetView:x},t.Map}(MOVE.LDP);var l=MOVE.LDP.Map},220:function(t,e){MOVE.MortgageGraph=function(){"use strict";var t=function(){$(".home-mortage-plots").addClass("hide"),$(".js-mortgage-search-container").addClass("col-lg-8 col-md-8 col-sm-offset-2 text-center")},e=function(){var e=$.Deferred();return $.ajax({url:"/mrtg_handler/get_trends_data",type:"POST",contentType:"application/json; charset=utf-8",dataType:"json",data:{},success:function(i){!1===i.meta.success&&t(),e.resolve(i)},error:function(i){t(),e.reject(i)}}),e},i=function(t,e,i){return new Date(t,e-1,i,0,0,0,0).getTime()},a=function(){return{series:{lines:{show:!0,steps:!1}},legend:{show:!1},grid:{hoverable:!0,borderColor:"none",borderWidth:0,backgroundColor:"transparent",lineWidth:3,autoHighlight:!1},crosshair:{mode:null,color:"#8f8f8f",lineWidth:3},xaxis:{show:!1,mode:"time",timeformat:"%b %d",tickSize:[4,"day"],tickLength:0,color:"black",axisLabelUseCanvas:!0,axisLabelFontSizePixels:12,axisLabelFontFamily:"Verdana, Arial",axisLabelPadding:10},yaxis:{show:!1,color:"#e1e1e1",position:"right",tickDecimals:2,tickSize:.25,tickFormatter:function(t,e){return MOVE.FormatHelper.commaDelimit(t.toFixed(e.tickDecimals))+"%"},axisLabelUseCanvas:!0,axisLabelFontSizePixels:12,axisLabelFontFamily:"Verdana, Arial",axisLabelPadding:5}}},o=function(t){t=t||{},this.selector=t.selector||null,this.dataset=t.dataset||null,this.color=t.color||null,this.plotGraph(),this.updateRate(),this.updatePercentage(),$(this.selector).addClass("active")};o.prototype.getRateChange=function(){var t=this.dataset.length-1;return this.dataset[t][1]-this.dataset[t-1][1]},o.prototype.getRateChangeArrow=function(){var t=this.getRateChange();return t<0?"down":0===t?"flat":t>0?"up":void 0},o.prototype.getOverallPercent=function(){var t=this.dataset.length-1;return this.dataset[t][1].toFixed(2)+"%"},o.prototype.plotGraph=function(){$.plot(this.selector+" .mortgage-plot",[{data:this.dataset,color:this.color,lines:{show:!0}}],a())},o.prototype.updateRate=function(){$(this.selector+" .js-difference").html(Math.abs(this.getRateChange()).toFixed(2)),"down"===this.getRateChangeArrow()&&$(this.selector+" .js-difference").prepend("<span class='ra ra-arrow-down' aria-hidden='true'></span>"),"up"===this.getRateChangeArrow()&&$(this.selector+" .js-difference").prepend("<span class='ra ra-arrow-up' aria-hidden='true'></span>")},o.prototype.updatePercentage=function(){$(this.selector+" .js-percentage").html(this.getOverallPercent())};var n=function(t){var e,a={fixed30:[],fixed15:[],arm51:[],arm71:[]};_.each(t.rate_trends,function(t){e=i(t.Y,t.M,t.D),a.fixed30.push([e,t.R30]),a.fixed15.push([e,t.R15]),a.arm51.push([e,t.A51]),a.arm71.push([e,t.A71])}),new o({selector:"#mortgage-trends-30y",dataset:a.fixed30,color:"#dcb165"}),new o({selector:"#mortgage-trends-15y",dataset:a.fixed15,color:"#ed6a62"}),new o({selector:"#mortgage-trends-51a",dataset:a.arm51,color:"#4d73a3"}),new o({selector:"#mortgage-trends-71a",dataset:a.arm71,color:"#380b6b"})},s=function(t){var e,a=[];_.each(t.rate_trends,function(t){e=i(t.Y,t.M,t.D),a.push([e,t.R30])}),new o({selector:"#mortgage-rate-widget",dataset:a,color:"#ed6a62"})},r=function(){e().done(function(t){MOVE.Helper.isPageType("ldp")?s(t):n(t)})};return MOVE.MortgageGraph={init:r,getNativeDate:i,getRatesFuture:e},MOVE.MortgageGraph}(MOVE)},223:function(t,e,i){"use strict";i.d(e,"a",function(){return s});var a=function(t){var e=void 0;switch(t.propertyStatus){case"for_sale":e="for_sale";break;case"for_rent":e="for_rent";break;case"not_for_sale":case"off_market":e="not_for_sale";break;case"recently_sold":e="recently_sold";break;case"new_community":e="new-home-community"}return e},o=function(t){var e=a(t);t.propId&&$(".map-property-pin[data-id="+t.propId+"]").data("res-id",t.resId).find(".pinIcon").removeClass("pin-dot").addClass("saved-pin "+e)},n=function(t){t.propId&&$(".map-property-pin[data-id="+t.propId+"]").data("res-id",null).find(".pinIcon").removeClass("saved-pin").addClass("pin-dot")},s={mapMiniCardClass:a,addSavedPin:o,removeSavedPin:n}},225:function(t,e,i){"use strict";i.d(e,"a",function(){return a});var a=function(t){var e=$("#js-transit-placeholder");1===e.length&&t&&t.lat&&t.long&&o(t,e)},o=function(t,e){$.ajax({url:"/transit_options",method:"GET",data:{lat:t.lat,long:t.long,limit:10,visitor_id:$.cookie("__vst")},success:function(t){n(t)&&(s(t.transit_options,e),$("a.js-transit-sticky").removeClass("hide"))}})},n=function(t){return t&&t.transit_options&&!$.isEmptyObject(t.transit_options)},s=function(t,e){var i=e.next().hasClass("accordion")||e.parent().hasClass("accordion"),a=JST["templates/building_transit_widget"]({transitOptions:t,isLdpCollapseEnabled:i,fullLdpModules:MOVE_DATA.full_ldp_modules});e.fadeOut(100,function(){var e=$(this);e.html(a),i?(e.addClass("accordion"),$("#ldp-collapsed-transit").one("shown.bs.collapse",function(){r(t,e.find(".row"))})):(e.addClass("listing-section ldp-section-mobile-card"),setTimeout(function(){r(t,e.find(".row"))},300)),e.fadeIn(300)})},r=function(t,e){if(t.length>3){var i=3*e.find(".transit-wrap").innerHeight()+30;MOVE.Common.readMore(e,i,"See",null,!0,100),l()}else e.find(".transit-info").addClass("pad-both")},l=function(){var t=MOVE_DATA.adobeDTM.pageType,e=MOVE_DATA.adobeDTM.propertyStatus,i=e+":"+t+":transit:see_more";$("#js-transit-placeholder a[data-readmore-toggle]").attr("data-omtag",i)}},230:function(t,e,i){"use strict";var a=i(13);MOVE.LDP.MortgagePaymentModal=function(t){var e,o,n,s,r,l=null,d=$("#estimate_dp_amount"),h=$("#estimate_mortgage_percent"),c=$("#monthly_payment_estimate"),p=$("#estimate_dp_percent"),u=$("#estimate_mortgage_type"),f=$("#ldp-est-downpayment-msg"),m=$("#top-label-msg"),g=$("#top-label-msg-alt"),v=$("#ldp-est-downpayment-amt"),y=$("#remember-settings"),b=$(".js-mortgagepymt-price"),M=$("#mortgagePaymentPriceSmall"),x=$("#mortgagePaymentModal"),w=!1,k=$("#modal-mortgage-form #apply-benefits-estimator"),O=$(".veterans-checkbox"),C="false",E=$("#mortgagePaymentModal .estimate_payment_fields"),D=function(t){$("#apply-benefits-estimator").on("click",function(){MOVE.VeteranBenefits.toggleVeteranBenefits("#apply-benefits-estimator","#estimate_mortgage_type","estimate_dp_percent","#veteranAdsInEstimatePayment",null,t);var e=$(this).prop("checked");MOVE.LDP.PaymentOptions.toggleVeteransLink({checked:e,veterans:O})})},T=function(t){var e=$("#apply-benefits-estimator").prop("checked")?"Y":"N";window.googletag.pubads().setTargeting("VET",[e]),t?MOVE.Medias.manualLoadAds(window.gptAds.gptadslotsEMPSRP,null,!1):MOVE.Medias.manualLoadAds(window.gptAds.gptadslotsEMP,null,!1),MOVE.Medias.kruxPixel("JuePQcl8",{})},A=function(t){void 0===t&&(t=!1),e=MOVE.LDP.model.getData(),o=MOVE.LDP.MortgagePayment.getHomePriceValue(e),P(),S(),B(),U(),it(),D(t),MOVE.VeteranBenefits.showLoanTypeOption("#estimate_mortgage_type",!1),MOVE.DOMHelper.initPopOver($("#modal-mortgage-form"),"#modal-mortgage-form"),t||x.on("shown.bs.modal",function(){T(!1);MOVE_DATA.adobeDTM.modal={name:"web:ldp:estpay"},i.i(a.a)("web:ldp:estpay",r)})},P=function(){b.click(function(){r=$(this).data("omtag"),x.modal(),st(),Ct()})},S=function(){var t=_.extend({downPaymentPercent:ht()},e);MOVE.LDP.MortgagePayment.getEstimatedData(t).done(function(t){w=!0,st("init"),V(t)})},L=function(t){e=t,o=MOVE.LDP.MortgagePayment.getHomePriceValue(e)},V=function(t){var e=t.average_rate;u.find('option[value="30yr_fixed"]').attr("data-rate",e.thirty_year_fix),u.find('option[value="30yr_fha"]').attr("data-rate",e.thirty_year_fha),u.find('option[value="30yr_va"]').attr("data-rate",e.thirty_year_va),u.find('option[value="20yr_fixed"]').attr("data-rate",e.twenty_year_fix),u.find('option[value="15yr_fixed"]').attr("data-rate",e.fifteen_year_fix),u.find('option[value="10yr_fixed"]').attr("data-rate",e.ten_year_fix),u.find('option[value="51_arm"]').attr("data-rate",e.five_one_arm),u.find('option[value="71_arm"]').attr("data-rate",e.seven_one_arm),I(),j()},I=function(){var t=$("#estimate_mortgage_type :selected"),e=Mt()||parseFloat(t.attr("data-rate")||"3").toFixed(3)+"%";H(e)},H=function(t){h.val(t)},N=function(){var t=$("#estimate_mortgage_type option:selected"),e={home_price:o,downPayment:MOVE.FormatHelper.formatPrice(d.val()),property_tax:Math.round(MOVE.FormatHelper.formatPrice($("#property_tax").val()||""))||0,hoa:0,hoi:0,rate:parseFloat(h.val()).toFixed(3)/100,loanType:t.val(),term:t.data("term")};MOVE.LDP.MortgagePayment.getCalculatedData(e).done(z)},z=function(t){null!==t&&(l=t,F(t))},F=function(t){var e=t.monthly_payment<=0?0:t.principal_and_interest;e>=0&&R("$"+MOVE.FormatHelper.commaDelimit(Math.round(e).toString()))},R=function(t){c.text(t),(xt()||wt())&&w&&nt(t)},j=function(){p.val().replace(/\%/g,"")<20&&"30yr_va"!==Et()?(f.removeClass("no-show"),m.addClass("no-show"),g.removeClass("no-show")):(f.addClass("no-show"),m.removeClass("no-show"),g.addClass("no-show"))},B=function(){$("#estimate_dp_percent, #estimate_dp_amount, #estimate_mortgage_percent").keypress(function(t){var e=t.target.id;return"estimate_dp_percent"===e||"estimate_mortgage_percent"===e?G(t):"estimate_dp_amount"===e?W(t):void 0}),E.on("change",function(t){var e=t.target.id;$("#apply-benefits-estimator").prop("checked")&&$("#estimate_mortgage_type").val().includes("_va")&&"estimate_dp_percent"!==e?p.val("0%"):"estimate_mortgage_type"===e&&"0%"===p.val()&&(p.val("20%"),$("#apply-benefits-estimator").prop("checked",!1),gt(Et()))})},G=function(t){var e=t.which;return 8===e||0===e||!(e<48||e>57)||46===e},W=function(t){var e=t.which;return 8===e||0===e||!(e<48||e>57)},U=function(){E.change(function(t){var e=t.target.id;Y(e)}),E.keyup(function(t){if(13===t.which){var e=t.target.id;Y(e)}})},Y=function(t){switch(w=!1,t){case"estimate_dp_percent":Q(),d.removeClass("error"),v.addClass("no-show"),j(),tt(),et(),N();break;case"estimate_dp_amount":X()?(d.removeClass("error"),v.addClass("no-show"),Z(),K(),J(),j(),N()):(d.addClass("error"),v.removeClass("no-show"));break;case"estimate_mortgage_percent":q(),N();break;case"estimate_mortgage_type":var e=$("#estimate_mortgage_type option:selected"),i=e.data("rate").toFixed(3)+"%";e.val()===bt()&&(i=Mt()||i),Q(),d.removeClass("error"),v.addClass("no-show"),h.val(i),j(),tt(),et(),N()}},q=function(){var t,e=MOVE.FormatHelper.formatMortgagePercent(h.val());!e||parseInt(e,10)<=0||"."===e?h.val("0.001%"):e>20?h.val("20%"):(t=parseFloat(e).toFixed(3),h.val(t+"%"))},X=function(){var t=MOVE.FormatHelper.formatPrice(d.val());if(t){if(parseInt(t,10)>parseInt(o,10))return!1}else d.val(0);return!0},Z=function(){var t=MOVE.FormatHelper.formatPrice(d.val()),e=MOVE.FormatHelper.commaDelimit(t);d.val("$"+e)},K=function(){var t,e=MOVE.FormatHelper.formatPrice(d.val());o&&e&&(t=100*parseInt(e,10)/parseFloat(o,10),p.val(t.toFixed(2)))},J=function(){var t,e=p.val();e&&"%"!==e?(e=MOVE.FormatHelper.formatPercent(e),t=parseFloat(e)):t=0,t<0?t=0:t>100&&(t=100),p.val(t.toFixed(2)+"%")},Q=function(){var t,e=p.val();e&&"%"!==e?(e=MOVE.FormatHelper.formatPercent(e),t=parseFloat(e)):t=0,t<0?t=0:t>100&&(t=100),p.val(t.toFixed(2)+"%")},tt=function(){var t=MOVE.FormatHelper.formatPercent(p.val()),e=Math.round(parseFloat(t)/100*parseInt(o,10));d.val(e)},et=function(){var t=MOVE.FormatHelper.formatPrice(d.val()),e=MOVE.FormatHelper.commaDelimit(t);d.val("$"+e)},it=function(){y.click(function(){$("#mortgagePaymentModal .estimate_payment_fields").focusout(),ot(),at(this)})},at=function(t){var e=!0===k.prop("checked")?"ldp:estpay:va:listing_save":"ldp:estpay:listing_save";$(t).attr("data-omtag",e)},ot=function(){setTimeout(function(){var t=$("input[name=down-payment-type]:checked").val(),e=c.text();window.Storage&&(mt(t),gt(Et()),vt(h.val()),yt(e),nt(e),ft(),ct("updateUserSetting")),x.modal("hide"),k.prop("checked")!==$("#apply-benefits").prop("checked")&&$("#apply-benefits").trigger("click")},500)},nt=function(t){xt()&&(b.html(' <i class="ra ra-calculator font-size-base"></i> <span class="ldp-mortgage-monthly-price-label font-size-small hide-est-helper">Est. Payment </span>'+t+"/mo"),M.html(' <span class="ldp-mortgage-monthly-price-label font-size-base hide-est-helper">Est. Payment </span>'+t+"/mo"),yt(t)),t&&$(document).trigger("saveEstimatedMonthly",t)},st=function(t){var e=_t();"option1"===e&&"init"===t&&MOVE.LocalStorage.isAvailable&&(localStorage.removeItem("local_stored_estimate_dp_amount"),localStorage.removeItem("local_stored_estimated_monthly_dp"));var i=bt(),a=kt();$(":radio[value="+e+"]").prop("checked",!0),u.find("option[value="+i+"]").prop("selected",!0),u.selectpicker("refresh"),I(),dt(),a&&(c.text(a),"init"===t&&nt(a),$(document).trigger("saveEstimatedMonthly")),"init"!==t&&(C=Ot(),lt())},rt=function(){return"true"===C},lt=function(){var t=rt();k.prop("checked")!==t&&(k.prop("checked",t),MOVE.LDP.PaymentOptions.toggleVeteransLink({checked:t,veterans:O}),window.gptAds.gptadslotsEMP.isLoaded=!1,$("#estimate_mortgage_percent").change())},dt=function(){var t=xt(),e=wt()||"20%",i=t?MOVE.FormatHelper.formatPrice(xt()):Math.round(MOVE.FormatHelper.formatPercent(e)/100*o);i>o&&(i=o,e="100%"),p.val(e),d.val("$"+MOVE.FormatHelper.commaDelimit(i))},ht=function(){return MOVE.FormatHelper.formatPercent(p.val())},ct=function(t){var e=localStorage.local_stored_estimate_dp_percent,i=localStorage.local_stored_selected_mortgage_type,a=localStorage.local_stored_mortgage_percent,n=localStorage.local_stored_estimate_dp_amount;n&&MOVE.FormatHelper.formatPrice(n)>=o&&(e="$0"===n?"20%":"100%",n="$"+MOVE.FormatHelper.commaDelimit(o)),e&&($("#down_payment_percent").attr("value",e),$("#down_payment_percent").val(e)),n&&($("#down_payment_amount").attr("value",n),$("#down_payment_amount").val(n)),i&&($("#mortgage_loan_type").val(i),$("#mortgage_loan_type").selectpicker("refresh")),a&&($("#mortgage_percent").attr("value",a),$("#mortgage_percent").val(a)),"updateUserSetting"===t&&MOVE.LDP.PaymentOptions.fetchFieldsFromService()},pt=function(){localStorage.setItem("local_stored_estimate_dp_amount",d.val())},ut=function(){localStorage.setItem("local_stored_estimate_dp_percent",p.val())},ft=function(){MOVE.LocalStorage.isAvailable&&(ut(),pt())},mt=function(t){MOVE.LocalStorage.isAvailable&&localStorage.setItem("local_stored_checked_radio_option",t)},gt=function(t){MOVE.LocalStorage.isAvailable&&localStorage.setItem("local_stored_selected_mortgage_type",t),$("#mortgage_loan_type").selectpicker("val",localStorage.local_stored_selected_mortgage_type)},vt=function(t){MOVE.LocalStorage.isAvailable&&localStorage.setItem("local_stored_mortgage_percent",t)},yt=function(t){MOVE.LocalStorage.isAvailable&&localStorage.setItem("local_stored_estimated_monthly_dp",t)},_t=function(){return localStorage.getItem("local_stored_checked_radio_option")||"option1"},bt=function(){return localStorage.getItem("local_stored_selected_mortgage_type")||"30yr_fixed"},Mt=function(){return localStorage.getItem("local_stored_mortgage_percent")},xt=function(){return localStorage.getItem("local_stored_estimate_dp_amount")},wt=function(){return localStorage.getItem("local_stored_estimate_dp_percent")},kt=function(){var t=0;return l&&(t="$"+MOVE.FormatHelper.commaDelimit(Math.round(l.principal_and_interest||0).toString())),localStorage.getItem("local_stored_estimated_monthly_dp")||t},Ot=function(){return localStorage.getItem("local_stored_veterans_checked")||"false"},Ct=function(){MOVE.Helper.isMobile()||x.on("click",k,function(){n=$('#modal-mortgage-form .dropdown-menu *[data-original-index="2"]'),s=n.find("a"),k.prop("checked")?n.children().length||n.append(s):n.find("a").remove()})},Et=function(){return $("#estimate_mortgage_type :selected").val()};return t.MortgagePaymentModal={init:A,updateCalculations:z,syncPaymentOptions:ct,getSavedDpAmount:xt,saveEstimatedMonthlyDp:yt,refreshModalAds:T,updateData:L},t.MortgagePaymentModal}(MOVE.LDP||{})},231:function(t,e,i){"use strict";var a=i(63);MOVE.LDP.PaymentOptions=function(t){var e,o,n,s,r,l,d,h,c,p,u,f,m,g,v,y,b,M,x,w,k,O,C,E=!1,D=$("#ldp-payment-options"),T="session_stored_mortgage_fields_"+$("#ldp-top-ctas .header-cta-save").attr("data-propertyid"),A=null,P=null,S=!0,L=["#3fc478","#b3d675","#92a0e5","#7bcdf3","#d9d9d9"],V=localStorage.getItem("local_stored_veterans_checked")||"false",I=!1,H=!1,N=!0,z=!1,F=function(){e=MOVE.LDP.model.getData(),C=e.ny_exp,dt(),b=Wt(),b&&(A=b.monthly_property_taxes||null,P=b.monthly_home_insurance||null),R(e),j(),MOVE.VeteranBenefits.showVeteranAds("#veteranAds",!1),$t(),et()},R=function(t){if(MOVE.LocalStorage.isAvailable&&localStorage.local_stored_estimate_dp_percent){var e=("string"==typeof t.price?t.price_min:t.price)||0,i=parseFloat(localStorage.local_stored_estimate_dp_percent.replace("%",""))/100,a=Math.round(e*i);localStorage.setItem("local_stored_estimate_dp_amount",MOVE.MORTGAGE.addDollarCommas(a))}},j=function(){X(),B(),Ct(),W(),q(),It(),Yt()},B=function(){G(),MOVE.LDP.MortgagePaymentModal.syncPaymentOptions(),MOVE.LDP.MortgagePayment.initCalculations(),Z()},G=function(){o=$("#home_price"),n=$("#down_payment_amount"),s=$("#down_payment_percent"),r=N?$("#property_tax"):$("_blank"),p=$("#home_insurance"),l=$("#principle_interest"),h=$("#mortgage_insurance"),c=$("#mortgage_insurance_field"),u=$("#hoa_fees"),f=$("#ldp-downpayment-msg"),v=$("#pmytoptions-homeprice-err"),y=$("#pmytoptions-mortgamt-err"),m=$("#rent_per_month"),d=$("#mortgagePaymentPrice"),St(),MOVE.VeteranBenefits.showLoanTypeOption("#mortgage_loan_type",!1),MOVE.DOMHelper.initPopOver($(".veteran-benefits-question")),MOVE.DOMHelper.initPopOver($("#ldp-mortgage-chart-wrap"))},W=function(){D.on("keypress",".payment_option_fields",function(t){var e=t.target.id;return"home_price"===e||"down_payment_amount"===e||"property_tax"===e||"home_insurance"===e||"hoa_fees"===e?U(t):"down_payment_percent"===e||"mortgage_percent"===e?Y(t):void 0}),D.on("change",".payment_option_fields",function(t){var e=t.target.id;$("#apply-benefits").prop("checked")&&$("#mortgage_loan_type").val().indexOf("_va")>-1&&"down_payment_percent"!==e?s.val("0%"):"mortgage_loan_type"===e&&"0%"===s.val()&&(s.val("20%"),K(!1),$("#apply-benefits").prop("checked",!1))})},U=function(t){var e=t.which;return 8===e||0===e||!(13!==e&&e<48||e>57)},Y=function(t){var e=t.which;return 8===e||0===e||!(13!==e&&e<48||e>57)||46===e},q=function(){D.on("change",".payment_option_fields",function(t){var e=t.target.id;at(e)})},X=function(){D.on("click","#apply-benefits",function(){w=$("#veterans-checkbox"),$(this).prop("checked")?(J({checked:!0,veterans:w}),K(!0)):(J({checked:!1,veterans:w}),K(!1)),MOVE.VeteranBenefits.toggleVeteranBenefits("#apply-benefits","#mortgage_loan_type","down_payment_percent","#veteranAds"),tt()})},Z=function(){"true"===V?$("#apply-benefits").trigger("click"):Q("N")},K=function(t){MOVE.LocalStorage.isAvailable&&localStorage.setItem("local_stored_veterans_checked",t)},J=function(t){w=t.veterans,w.off("click"),!0===t.checked?(M=w.attr("href"),x=w.attr("data-omtag"),w.text(window.vu_button_text),w.attr("href",window.vu_button_link),w.attr("target","va_eligibility"),w.attr("data-omtag","ldp:paymentOptions:check-va-eligibility"),w.addClass("ad_container"),w.length>0&&"veterans-checkbox"===w[0].id&&(MOVE_DATA.isPhone?w.attr("href","https://web.archive.org/web/20200819065000/https://pubads.g.doubleclick.net/gampad/clk?id=5382932567&iu=/8058/CLICK/VU/LDP_PAYMENT_CALC_SECTION_VET_BUTTON_MWEB"):w.attr("href","https://web.archive.org/web/20200819065000/https://pubads.g.doubleclick.net/gampad/clk?id=5382934247&iu=/8058/CLICK/VU/LDP_PAYMENT_CALC_SECTION_VET_BUTTON"),MOVE.Medias.kruxPixel("Km5kHiqk",{})),MOVE.Medias.gptTracking("veteran_checkbox_checked",!0),w.on("click",function(){MOVE.Medias.gptTracking("veteran_button_clicked",!0)}),Q("Y")):(w.text("Get Pre-Approved"),w.removeClass("ad_container"),w.attr("href",M),w.attr("data-omtag",x),w.attr("target","_blank"),Q("N"))},Q=function(t){var e="Y"===t?"Y":"N";window.googletag.pubads().setTargeting("VET",[e]),MOVE.Medias.manualLoadAds(window.gptAds.gptadslotsTXTMORT1,".vetrans-fldp",!0)},tt=function(){var t=$('#down_payment_percent,#down_payment_amount,[data-id="mortgage_loan_type"],#mortgage_percent');$("#ldp-payment-calculator").length&&(t.addClass("highlight-payment-calculator"),setTimeout(function(){t.removeClass("highlight-payment-calculator")},2e3))},et=function(){D.on("click",".advanced-calculator",function(){$("#mortgagePaymentPrice").click()})},it=function(){var t=MOVE.FormatHelper.formatPrice(o.val());t&&(r.val(Math.round(parseInt(t,10)*parseFloat(r.data("rate"))/12)),p.val(Math.round(parseInt(t,10)*parseFloat(p.data("rate"))/12))),Tt(),At()},at=function(t){switch(t){case"home_price":_t()&&(xt(),Ot(),wt(),kt(),it(),nt());break;case"down_payment_amount":_t()&&(wt(),Ct(),kt(),St(),nt());break;case"down_payment_percent":kt(),Ot(),wt(),St(),nt();break;case"mortgage_loan_type":var e=$("#mortgage_loan_type option:selected");St();var i=parseFloat(e.data("rate")).toFixed(3),a=isNaN(i)?"":i+"%";$("#mortgage_percent").val(a),kt(),Ot(),wt(),nt(),Rt();break;case"mortgage_percent":Et()&&(Dt(),nt());break;case"property_tax":Tt(),nt();break;case"home_insurance":At(),nt();break;case"hoa_fees":Pt(),nt()}},ot=function(){var t=$("#mortgage_loan_type option:selected, #estimate_mortgage_type option:selected").first();return{home_price:MOVE.FormatHelper.formatPrice($("#home_price").val()||""),downPayment:MOVE.FormatHelper.formatPrice($("#down_payment_amount").val()||""),property_tax:r&&Math.round(MOVE.FormatHelper.formatPrice(r.val()||""))||0,hoa:MOVE.FormatHelper.formatPrice($("#hoa_fees").val()||"")||0,hoi:MOVE.FormatHelper.formatPrice($("#home_insurance").val()||"")||0,rate:parseFloat($("#mortgage_percent").val()).toFixed(3)/100,loanType:t.val(),term:t.data("term")}},nt=function(){var t=ot();MOVE.LDP.MortgagePayment.getCalculatedData(t).done(st)},st=function(t){t&&vt(t)},rt=function(t){return t.monthly_property_taxes},lt=function(t){if(S){var i=parseInt(e.hoa_fees||0);return C&&(I||H)&&0===i&&(z=!0),i}return t.hoa_fees},dt=function(){C&&(ht(),$("#hoa-title-text").text("Maintenance Fee"),H&&(N=!1,$("#property-tax-section").addClass("hide")))},ht=function(){if(e.type_display){var t=e.type_display.toLowerCase();"condo"===t?I=!0:["coop","co op","co-op","condop","cond op"].indexOf(t)>=0&&(H=!0)}},ct=function(){z&&(u.prop("readonly",!0),u.parent().removeClass("editinplace-trigger").addClass("input-inplace-noborder"),u.val("NA"),u=$("_blank"))},pt=function(t){var e={name:"Principal & Interest",y:Math.round(t.principal_and_interest),color:L[0]},i={name:"Property Tax",y:Math.round(rt(t)),color:L[1]},a={name:"Home Insurance",y:Math.round(t.monthly_home_insurance),color:L[2]},o={name:C?"Maintenance Fee":"HOA",y:Math.round(lt(t)),color:L[3]},n={name:"Mortgage Insurance",y:Math.round(t.monthly_mortgage_insurance),color:L[4]},s=N?[e,i,a,o,n]:[e,a,o,n];!0===S?(D.appear(),D.one("appear",function(){Lt(s),S=!1,ct()})):g.series[0].setData(s)},ut=function(t){return"$"+MOVE.FormatHelper.commaDelimit(Math.round(t.principal_and_interest||0).toString())+"/mo"},ft=function(i){r.val("$"+MOVE.FormatHelper.commaDelimit(Math.round(rt(i)).toString())),p.val("$"+MOVE.FormatHelper.commaDelimit(Math.round(i.monthly_home_insurance||0).toString())),S&&null===e.hoa_fees||"add"===u.val()?u.val("add"):u.val("$"+MOVE.FormatHelper.commaDelimit(Math.round(lt(i)).toString())),m.text("$"+MOVE.FormatHelper.commaDelimit(Math.round(i.monthly_payment).toString())),l.text("$"+MOVE.FormatHelper.commaDelimit(Math.round(i.principal_and_interest||0).toString())),t.MortgagePaymentModal.getSavedDpAmount()&&d.html(' <i class="ra ra-calculator font-size-base"></i> <span class="ldp-mortgage-monthly-price-label font-size-small hide-est-helper">Est. Payment </span>'+ut(i)),h.text("$"+MOVE.FormatHelper.commaDelimit(Math.round(i.monthly_mortgage_insurance||0).toString())),mt()},mt=function(){"$0"===h.text()?c.addClass("hide"):c.removeClass("hide")},gt=function(t,e){return t?t-e:0},vt=function(t){if(MOVE_DATA.propertyDetails){if(!1===E){var e,i=gt(P,t.monthly_home_insurance),a=parseInt(MOVE_DATA.propertyDetails.hoa_fees);N?(e=gt(A,rt(t)),t.monthly_property_taxes=A||rt(t)):(e=0,t.monthly_property_taxes=0),t.monthly_home_insurance=P||t.monthly_home_insurance,a=lt(t),a=isNaN(a)?0:a,t.monthly_payment=t.monthly_payment+e+i+a||0,E=!0}_.isEmpty(t)&&(t.monthly_payment=0),pt(t),ft(t),MOVE.LDP.MortgagePaymentModal.saveEstimatedMonthlyDp(l.text()),yt()}},yt=function(){var t=parseFloat($("#mortgage_percent").val()).toFixed(3)+"%",e=s.val(),i=$("#mortgage_loan_type :selected")[0].label,a=MOVE_DATA.rate_table_link,o=JST["templates/ldp_view_rates_cta"]({mortgage_percent:t,downpayment_percent:e,loan_type:i,rate_table_link:a});$("#ldp-mortgage-chart-wrap .mobile-dp-sentence").html(o)},_t=function(){return bt()?(o.removeClass("error"),v.addClass("no-show"),Mt()?(n.removeClass("error"),v.addClass("no-show"),!0):(n.addClass("error"),o.addClass("error"),v.removeClass("no-show").text("Purchase Price is less than Down Payment"),!1)):(o.addClass("error"),v.removeClass("no-show").text("Enter amount between $1000 - $999,999,999"),!1)},bt=function(){var t=o.val(),e=!0;return t&&"$"!==t?(t=MOVE.FormatHelper.formatPrice(t),(parseInt(t,10)<1e3||parseInt(t,10)>999999999)&&(e=!1)):e=!1,e},Mt=function(){var t=!0,e=o.val(),i=n.val();return e=MOVE.FormatHelper.formatPriceToNumber(e),i=MOVE.FormatHelper.formatPrice(i),i?parseInt(i,10)>parseInt(e,10)&&(t=!1):n.val(0),t},xt=function(){var t=o.val();t=MOVE.FormatHelper.formatPrice(t);var e=MOVE.FormatHelper.commaDelimit(t);o.val("$"+e)},wt=function(){var t=n.val(),e=MOVE.FormatHelper.formatPrice(t),i=MOVE.FormatHelper.commaDelimit(Math.round(e));n.val("$"+i),Ht()},kt=function(){var t=s.val(),e=null;t&&"%"!==t?(t=MOVE.FormatHelper.formatPercent(t),e=parseFloat(t)):e=0,e<0?e=0:e>100&&(e=100),s.val(e.toFixed(2)+"%"),Ht()},Ot=function(){var t=MOVE.FormatHelper.formatPrice(o.val()),e=MOVE.FormatHelper.formatPercent(s.val()),i=null;i=t?Math.round(parseFloat(e,10)/100*parseInt(t,10)):0,n.val(i)},Ct=function(){var t=o.val(),e=n.val(),i=null;if(t=MOVE.FormatHelper.formatPrice(t),e=MOVE.FormatHelper.formatPrice(e),!t||!e)return!1;i=100*parseInt(e,10)/parseFloat(t,10),s.val(i.toFixed(2)+"%")},Et=function(){var t=$("#mortgage_percent").val();return!(t=MOVE.FormatHelper.formatMortgagePercent(t))||t<=0||t>20||"."===t?($("#mortgage_percent").addClass("error"),y.removeClass("no-show"),!1):($("#mortgage_percent").removeClass("error"),y.addClass("no-show"),!0)},Dt=function(){var t=$("#mortgage_percent").val();t=MOVE.FormatHelper.formatMortgagePercent(t),t=parseFloat(t).toFixed(3),t=isNaN(t)?"":t+"%",$("#mortgage_percent").val(t)},Tt=function(){var t=MOVE.FormatHelper.formatPrice(r.val()),e=MOVE.FormatHelper.commaDelimit(t);e||(e=0),r.val("$"+e)},At=function(){var t=MOVE.FormatHelper.formatPrice(p.val()),e=MOVE.FormatHelper.commaDelimit(t);e||(e=0),p.val("$"+e)},Pt=function(){var t=MOVE.FormatHelper.formatPrice(u.val()),e=MOVE.FormatHelper.commaDelimit(t);e||(e=0),u.val("$"+e)},St=function(){var t=s.val().replace(/\%/g,""),e=$("#mortgage_loan_type option:selected").val();t<20&&"30yr_va"!==e?f.removeClass("no-show"):f.addClass("no-show")},Lt=function(t){var e=parseFloat($("#mortgage_percent").val().replace(/\%/g,"")).toFixed(3),i=isNaN(e)?"":e+"%";$("#mortgage_percent").val(i),$("#mortgage_loan_type").selectpicker();var a=$("#ldp-mortgage-chart");window.Highcharts.setOptions({lang:{thousandsSep:","}}),g=new window.Highcharts.chart(a[0],{chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1,type:"pie"},credits:{enabled:!1},title:{text:null},plotOptions:{series:{animation:{duration:1500}},pie:{shadow:!1,center:["50%","50%"],showInLegend:!1,dataLabels:{enabled:!1},allowPointSelect:!0,slicedOffset:0}},tooltip:{valuePrefix:"$",pointFormat:"<b>{point.y}</b><br/>",hideDelay:0,backgroundColor:"rgba(247,247,247,1)"},series:[{name:null,data:t,innerSize:"72%",states:{hover:{halo:!1}}}]}),Vt()},Vt=function(){$("#ldp-mortgage-chart-wrap .input-edit-inplace").prop("disabled",!0),$("#ldp-mortgage-chart-wrap").on("click",".editinplace-trigger",function(){$(this).parent().find(".input-edit-inplace").prop("disabled",!1).removeClass("input-inplace-noborder").select().focus()}),$(document).on("blur","#ldp-mortgage-chart-wrap .input-edit-inplace",function(){$(this).prop("disabled",!0).addClass("input-inplace-noborder").select().focus()}),$("#payment_options_mobile_modal").on("show.bs.modal",function(){$(".input-edit-inplace").prop("disabled",!1).removeClass("input-inplace-noborder")}),$("#payment_options_mobile_modal").on("hide.bs.modal",function(){$(window).scrollTop($("#ldp-payment-options").offset().top)})},$t=function(){Nt(),zt(),Ft()},It=function(){D.on("change","#home_price, #property_tax, #home_insurance, #hoa_fees, #down_payment_amount, #down_payment_percent, #mortgage_percent, #mortgage_loan_type",function(){i.i(a.b)()})},Ht=function(){MOVE.LocalStorage.isAvailable&&(localStorage.setItem("local_stored_estimate_dp_percent",$("#down_payment_percent").val()),localStorage.setItem("local_stored_estimate_dp_amount",$("#down_payment_amount").val()))},Nt=function(){D.on("change","#mortgage_loan_type",function(){var t=$("#mortgage_loan_type :selected").val();MOVE.LocalStorage.isAvailable&&localStorage.setItem("local_stored_selected_mortgage_type",t),$("#mortgage_loan_type").selectpicker("val",localStorage.local_stored_selected_mortgage_type)})},zt=function(){D.on("change","#mortgage_percent, #apply-benefits",function(){MOVE.LocalStorage.isAvailable&&Rt()})},Ft=function(){D.on("change","#home_price, #property_tax, #home_insurance, #hoa_fees",function(){jt()})},Rt=function(){localStorage.setItem("local_stored_mortgage_percent",$("#mortgage_percent").val())},jt=function(){Ut.home_price=$("#home_price").val().replace(/\D/g,""),Ut.monthly_property_taxes=Bt($("#property_tax")),Ut.monthly_home_insurance=Bt($("#home_insurance")),Ut.hoa_fees=Bt($("#hoa_fees")),Gt()},Bt=function(t){return parseInt(t.val().replace(/\D/g,""),10)},Gt=function(){MOVE.LocalStorage.isAvailable&&window.sessionStorage.setItem(T,JSON.stringify(Ut))},Wt=function(){var t=window.sessionStorage.getItem(T);return t?JSON.parse(t):{}},Ut=Wt(),Yt=function(){MOVE.Helper.isMobile()||D.on("click",".payment_option_fields",function(){k=$('#ldp-mortgage-form .dropdown-menu *[data-original-index="2"]'),O=k.find("a"),$("#apply-benefits").prop("checked")?k.children().length||k.append(O):k.find("a").remove()})};return t.PaymentOptions={init:F,updateCalculations:st,mortgageOptions:ot,toggleVeteransLink:J,fetchFieldsFromService:nt},t.PaymentOptions}(MOVE.LDP||{})},232:function(t,e){MOVE.LDP.MortgagePayment=function(t){var e=function(){var t=MOVE.LDP.model.getData();t.price||(t.price=t.price_min),MOVE.LDP.PaymentOptions.init(),MOVE.LDP.MortgagePaymentModal.init()},i=function(){o(MOVE.LDP.PaymentOptions.mortgageOptions()).done(function(t){MOVE.LDP.MortgagePaymentModal.updateCalculations(t),MOVE.LDP.PaymentOptions.updateCalculations(t)})},a=function(t){var e=$.Deferred(),i={home_price:t.price,dp_percent:t.downPaymentPercent||20,hoa:t.hoa_fees,location:t.postal_code+", "+t.city+", "+t.state_code};return $.ajax({url:"/mrtg_handler/payment_estimate",type:"POST",contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify(i),success:function(t){e.resolve(t)}}),e},o=function(t){var e=$.Deferred(),i=!(t.loanType.indexOf("_va")>-1),a={price:t.home_price,down_payment:t.downPayment,rate:t.rate,term:t.term,tax_rate:12*t.property_tax/t.home_price,hoi:t.hoi||0,hoa:t.hoa||0,is_fees_included:!0,is_pmi_included:i,exclude_amortization_table:!0};return $.ajax({url:"/mrtg_handler/calculators/loan/calculate",type:"POST",contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify(a),success:function(t){e.resolve(t.mortgage)}}),e},n=function(t){var e=void 0;return e=t.price&&-1===t.price_display.search("-")?isNaN(t.price)?parseInt(t.price.replace(/[^0-9\.]+/g,""),10):t.price:t.price_min,isNaN(e)?0:e};return t.MortgagePayment={init:e,getEstimatedData:a,getCalculatedData:o,initCalculations:i,getHomePriceValue:n},t.MortgagePayment}(MOVE.LDP||{})},233:function(t,e){MOVE.LDP=MOVE.LDP||{};var i=!0,a=function(){n(),s()},o=function(){return window.sessionStorage.getItem("feedback")},n=function(){MOVE.Helper.hasSessionStorage()&&$(".thumb").on("click",function(){var t=[];null!==o()&&t.push(o()),t.push(MOVE_DATA.adobeDTM.mprID),window.sessionStorage.setItem("feedback",t),s()})},s=function(){var t=$(".js-thumb-display"),e=$(".js-feedback-display"),a=null!==o();if(MOVE.Helper.hasSessionStorage()&&a){var n=[];n.push(o()),n.some(function(t){if(t.includes(MOVE_DATA.adobeDTM.mprID))return i=!1,!0;i=!0})}i?(t.removeClass("hide"),e.addClass("hide")):(t.addClass("hide"),e.removeClass("hide"))};MOVE.LDP.RealTip={init:a}},234:function(t,e,i){"use strict";var a,o,n,s,r,l,d=$(".map-mini-card"),h=MOVE.Helper.isPhone(),c={card:d,visible:!1,innerCard:d.find(".mini-card-inner-container")};a=function(){return c},o=function(t){p(t),!1!==c.visible&&(c.card.addClass("hide"),c.innerCard.html(""),c.visible=!1,$(".map-mini-card-wrap").addClass("no-show"))};var p=function(t){void 0!==t&&(c={card:t,visible:!1,innerCard:t.find(".mini-card-inner-container")})};n=function(t,e,i){var a={card_width:200,card_height:70,card_width_offset:225};if(i.dataStreetHome&&(a={card_width:300,card_height:100,card_width_offset:325}),e)return t.leftPosition>330?t.leftPosition-=350:t.leftPosition+=40,t.topPosition<0?t.topPosition+=70:t.topPosition>0&&t.topPosition<350?t.topPosition-=20:t.topPosition-=200,t;if(h){var o=t.leftPosition;return t.leftPosition<66?t.leftPosition+=50:t.leftPosition>=66&&t.leftPosition<120?t.leftPosition-=60:t.leftPosition>=120&&t.leftPosition<200?t.leftPosition-=100:t.leftPosition>=200&&t.leftPosition<225?t.leftPosition-=140:t.leftPosition-=225,o>=66&&o<225?t.topPosition<120?t.topPosition+=5:t.topPosition-=105:t.topPosition<68?t.topPosition-=30:t.topPosition-=70,t}return t.leftPosition<a.card_width?t.leftPosition+=50:t.leftPosition-=a.card_width_offset,t.topPosition<68&&t.topPosition>0?t.topPosition-=20:t.topPosition<0?t.topPosition+=a.card_height:t.topPosition-=a.card_height,t},s=function(t,e){var i="";if("ldp"===MOVE.DOMHelper.detectPageType()){var a=$(".js-nearby-homes-for-sale").hasClass("active"),o=$(".js-nearby-recently-sold").hasClass("active"),n=$(".js-nearby-home-values").hasClass("active");void 0!==e&&e.hasClass("js-ldp-nearby-homevalues-mini-card")?(t.omTag="ldp:bottom:home-estimates:map:card",t.dataStatus="not_for_sale"):void 0!==e&&e.hasClass("js-ldp-recently-sold-around-mini-card")?(t.omTag="ldp:bottom:recently-sold-by-address:map:card",t.dataStatus="not_for_sale"):a?(t.omTag="ldp:bottom:nearby-homes:for_sale:card",t.dataStatus="for_sale"):o?(t.omTag="ldp:bottom:nearby-homes:recently_sold:card",t.dataStatus="recently_sold"):n&&(t.omTag="ldp:bottom:nearby-homes:not_for_sale:card",t.dataStatus="not_for_sale")}return t instanceof Array?_.each(t,function(t){i+=JST["templates/map_card_small"]({property:t})}):i=JST["templates/map_card_small"]({property:t}),i};var u=function(t){return MOVE.Helper.isPhone()?t:t.replace("xd-w225_h169_q80.jpg","xd-r1_w480_h480_q80.jpg")},f=function(){return"large"===MOVE.Helper.detectViewPort()?"coming-soon-lg":"coming-soon-sm"},m=function(t){return"for_sale"===t||"not_for_sale"===t?"mini-card-float-meta":""},g=function(t){return"for_rent"===t?"":"no-show"};r=function(t){if(t&&"ldp"!==MOVE.DOMHelper.detectPageType()&&!MOVE.Helper.isPhone()){var e=new Image;e.src=t,e.onload=function(){e.naturalWidth<e.naturalHeight&&$(".mini-card-photo img").addClass("mini-card-streched-photo")}}},l=function(t){return MOVE.Helper.isPageType("ldp")?$("#homes-near-street").length?"ldp:homes-around-address:pin:card-"+t:"ldp:homes-near-address:pin:card-"+t:"srp-listMap:listing:pin:card:"+t},MOVE.MapMiniCard={getInfoWindowCard:a,getHomeValuesInfoCard:p,setInfoCardPosition:n,loadHtmlTemplate:s,infoWindowCard:c,closeInfoWindowCard:o,getMiniCardPhoto:u,getComingSoonPhoto:f,getMiniCardPriceClass:m,getMiniCardPriceTagClass:g,setMapPinStrechedImageClass:r,setOmTag:l}},235:function(t,e,i){"use strict";var a=i(35);MOVE.MovingEstimateWidget=function(t){var e=$(".js-moving-widget-container"),i=e.find("input.js-from-zip"),o=e.find("input.js-to-zip"),n=e.find(".js-no-of-rooms"),s=e.find(".js-packing"),r=e.find("form"),l=function(){n.add(s).selectpicker(),i.focus(function(){$(this).on("keypress",c)}).blur(function(){p($(this))}),o.focus(function(){$(this).on("keypress",c)}).blur(function(){p($(this))}),r.on("submit",function(t){var e=$(this).parents(".js-moving-widget-container");f(e)&&h(e),t.preventDefault()})},d=function(t,e){var i=t.find("input.js-from-zip");return{to_zip:t.find("input.js-to-zip"),from_zip:i}[e]},h=function(e){var i={from_zip:e.find("input.js-from-zip").val(),to_zip:e.find("input.js-to-zip").val(),move_weight_lbs:e.find(".js-no-of-rooms").val(),packing_option:e.find(".js-packing").val()};$.ajax({url:"/moving/calculate_cost",method:"POST",data:i,dataType:"JSON",success:function(i){var a;i.meta.success?t.MovingEstimateModal.show(i.calculation):i.meta.errors.length&&_.each(i.meta.errors,function(t){a=d(e,t.message),p(a,!0)})}})},c=function(t){var e=t.which===a.e,i=t.which===a.a,o=t.which>=a.l&&t.which<=a.m,n=t.which===a.k;if(!(e||i||o||n))return!1},p=function(t,e){var i=t.val();return""!==i&&(!0!==e&&u(i)?(t.removeClass("error").next().addClass("hide"),!0):(t.addClass("error").next().removeClass("hide"),!1))},u=function(t){return/^\d{5}(-\d{4})?$/.test(t)},f=function(t){var e=t.find("input.js-from-zip"),i=t.find("input.js-to-zip");return e.val()||e.addClass("error").next().removeClass("hide"),i.val()||i.addClass("error").next().removeClass("hide"),!e.hasClass("error")&&!i.hasClass("error")};return t.MovingEstimateWidget={init:l},t.MovingEstimateWidget}(MOVE||{})},236:function(t,e){var i=[1e7]+-1e3+-4e3+-8e3+-1e11,a=/[018]/g,o=["click","keypress","touchstart"],n=function(){var t=l().toString();$.cookie("__edwssnstarttime",t,{path:"/"})},s=function(){var t=window.crypto||window.msCrypto;return i.replace(a,function(e){return(e^t.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)})},r=function(){var t=$.cookie("__edwssnstarttime"),e=parseInt(t,10);parseInt(l(),10)-e>1800&&d()},l=function(){return Math.floor(new Date/1e3)},d=function(){$.cookie("__ssn",s(),{path:"/"})};!function(){o.forEach(function(t){document.addEventListener(t,n,!0)}),r(),n(),window.setInterval(r,18e5)}()},239:function(t,e){!function(t){"use strict";var e=t(window),i=function(t,e,i){var a=0;return function(){var o;if(o=new Date,i-(o-a)<=0)return a=o,t.apply(e,arguments)}},a=0,o=function(t){var e=(a++).toString();return function(){return this.cache[e]||(this.cache[e]=t.apply(this)),this.cache[e]}},n=function(){function a(a,o){this.$el=a,this.$el.css({width:this.$el.width()}),this.$wrapper=o.wrapper,"static"===this.$wrapper.css("position")&&this.$wrapper.css("position","relative"),this.sentinel=t("<div></div>").css({position:o.ignore?"absolute":"relative",top:0,height:0}),this.$el.before(this.sentinel),this.offsetTop=o.offsetTop||0,this.offsetBottom=o.offsetBottom||0,this.position=o.position||"top",this.ignore=o.ignore,this.ignore&&this.$el.css({position:"absolute",top:0}),this.handler=i("bottom"==this.position?this.onScrollBottom:this.onScrollTop,this,o.throttle||10),e.on("scroll",this.handler),e.on("resize",this.handler),this.handler()}return t.extend(a.prototype,{state:"top",same:!1,onScrollTop:function(){if(this.cache={},!this.ignore&&(this.same||"top"===this.state&&this.isSameHeight()))return void(this.same=!0);var t,e=this.getScrollTop()+this.offsetTop;t=e<this.getSentinelTop()?"top":e+this.getOuterHeight()>this.getSentinelBottom()?"bottom":"fixed",this.state===t&&"fixed"===t||this.transferTo(t)},onScrollBottom:function(){if(this.cache={},!this.ignore&&(this.same||"top"===this.state&&this.isSameHeight()))return void(this.same=!0);var t,i;i=this.getScrollTop()+e.height(),t=i>this.getSentinelBottom()?"bottom":i-this.getOuterHeight()<this.getSentinelTop()?"top":"fixed",this.state===t&&"fixed"===t||this.transferTo(t)},transferTo:function(t){this.state=t;var e;e="top"===this.state?{position:this.ignore?"absolute":"relative",top:0,bottom:""}:"bottom"===this.state?{position:"absolute",top:this.getWrapperHeight()-this.getOuterHeight(),bottom:""}:"bottom"===this.position?{position:"fixed",top:"",bottom:this.offsetBottom}:{position:"fixed",top:this.offsetTop,bottom:""},this.$el.css(e)},isSameHeight:function(){return this.getSentinelBottom()-this.getBottom()-this.offsetBottom<50},getScrollTop:o(function(){return e.scrollTop()}),getWrapperHeight:o(function(){return this.$wrapper.outerHeight()}),getOuterHeight:o(function(){return this.$el.outerHeight(!0)+this.offsetBottom}),getSentinelTop:o(function(){return this.sentinel.offset().top}),getSentinelBottom:o(function(){return this.$wrapper.offset().top+this.getWrapperHeight()+parseInt(this.$wrapper.css("margin-top"),10)}),getBottom:o(function(){return this.$el.offset().top+this.getOuterHeight()}),destroy:function(){this.$el&&(this.transferTo("top"),this.$el=this.$wrapper=null,e.off("scroll",this.handler),e.off("resize",this.handler))}}),a}();t.fn.scrollChaser=function(e){e||(e={}),e.wrapper?e.wrapper instanceof t||(e.wrapper=t(e.wrapper)):e.wrapper=t(document.body),this.scrollChaser=new n(this,e);var i=this,a=this.remove;return this.remove=function(){i.scrollChaser.destroy(),a.apply(i,arguments)},this},t.fn.outerHeight||(t.fn.outerHeight=function(t){var e=this.height();return t||(e-=parseInt(this.css("margin-bottom"),10),e-=parseInt(this.css("margin-top"),10)),e})}(window.jQuery||window.Zepto)},240:function(t,e,i){"use strict";function a(t){t?o(c.b.areas.map.styles):n(c.b.areas.map.styles)}function o(t){t[0]=f.a,c.b.areas.map.setOptions({styles:t})}function n(t){t[0]=f.b,c.b.areas.map.setOptions({styles:t})}function s(){c.b&&c.c&&(c.b.map.panTo(c.c.getPosition()),c.b.map.setZoom(h.a),c.b.map.setCenter(c.c.getPosition()))}function r(t){var e=$(".qv-map-school-sponsor");t?e.removeClass("hide-attribution"):e.addClass("hide-attribution")}function l(t){var e=$(".qv-map-crime-sponsor");t?e.removeClass("hide-attribution"):e.addClass("hide-attribution")}function d(t){t?(c.b.youAreHere.hide(),s()):c.b.youAreHere.show()}i.d(e,"i",function(){return m}),i.d(e,"a",function(){return g}),i.d(e,"b",function(){return v}),i.d(e,"c",function(){return y}),i.d(e,"d",function(){return _}),i.d(e,"g",function(){return b}),i.d(e,"f",function(){return M}),i.d(e,"e",function(){return x}),i.d(e,"h",function(){return w});var h=i(61),c=i(92),p=i(119),u=i(5),f=i(91),m={position:h.b.LEFT_BOTTOM,crime:!0,amenities:!0,schools:!0,transit:!0,noise:!0,flood:"V"==MOVE_DATA.ab_flood_data&&(MOVE_DATA.propertyDetails&&(["for_sale","recently_sold"].includes(MOVE_DATA.propertyDetails.status)||["Off Market"].includes(MOVE_DATA.propertyDetails.status_display))||MOVE_DATA.propertyStatus&&["for_sale"].includes(MOVE_DATA.propertyStatus)||MOVE_DATA.propertyStatusSub&&["recently_sold"].includes(MOVE_DATA.propertyStatusSub)),events:{loaded:function(t){$(t).find("#amenityLayerToggle").attr("data-omtag","ldp:map:amenities")}},defaults:p.h.overlayControlsDefaults,ny_exp:u.d.ny_exp,ny_location:u.d.ny_location},g={getData:function(){return MOVE.AmenitiesNearYouADS.getAdsData()}},v={panoramaOptions:{enableCloseButton:!1,zoomControlOptions:{style:1}}},y={events:{toggleClicked:function(){$.noop,n(c.b.areas.map.styles)}}},_={legend:h.b.BOTTOM_CENTER,events:{toggleClicked:function(t){c.b&&(n(c.b.areas.map.styles),d(t),l(t))}}},b={legend:h.b.BOTTOM_CENTER,events:{toggleClicked:function(t){c.b&&(n(c.b.areas.map.styles),d(t))}}},M={limit:50,radius:5,panControl:!1,events:{toggleClicked:function(t){a(t),s()}}},x={limit:75,searchEnabled:!0,nearby:!0,events:{toggleClicked:function(t){c.b&&(a(t),d(t),r(t))}}},w=function(t){$(".header-mapbtn").on("click",function(){n(t.styles)}),$(".qv-snapshot-map-btn").on("click",function(){n(t.styles)})}},241:function(t,e,i){"use strict";i.d(e,"a",function(){return n}),i.d(e,"b",function(){return s});var a=i(61),o=i(91),n={noticeVersion:"1.0.0",appType:"ldp",noticeTooltip:!0,enabled:{areas:!0,youAreHere:!0,waiting:!0,streetView:!0,schools:!0,tiles:!0,amenities:!0,overlayControls:!0,appType:!0,moveADs:!0,transit:!0,properties:!1},trackingOptions:{tagName:"omtag"}},s={fullscreenControl:!1,streetViewControl:!1,scrollwheel:!1,mapTypeControl:!0,zoomControl:!0,gestureHandling:"cooperative",mapTypeControlOptions:{style:a.c.HORIZONTAL_BAR,position:a.b.RIGHT_TOP},zoomControlOptions:{style:a.d.SMALL},styles:o.c}},244:function(t,e,i){"use strict";function a(){$(".consider-home-tabs").off("click","li").on("click","li",function(t){t.stopPropagation(),$(this).attr("class","active-tab").siblings().attr("class","inactive-tab"),$("#"+$(this).attr("data-name")+"-container").show().siblings().hide()})}function o(){$(".consider-property-see-more").on("click",function(){"collapsed"===$(this).attr("data-position")?($(this).parent().find(".content").height(n),$(this).attr("data-position","expanded").html('See Less<i class="ra ra-angle-up"></i>')):($(this).parent().find(".content").height(s),$(this).attr("data-position","collapsed").html('See More<i class="ra ra-angle-down"></i>'))})}e.a=a,e.b=o;var n=378,s=190},245:function(t,e,i){"use strict";i.d(e,"b",function(){return a}),i.d(e,"c",function(){return o}),i.d(e,"a",function(){return s});var a=function(){$("#ab-midgallery-cta").slideDown(),n()},o=function(){$("#ab-midgallery-cta").hide()},n=function(){RdcTracking.trackEvent("midGalleryCtaImpression",{linkName:MOVE_DATA.adobeDTM.propertyStatus+":"+MOVE_DATA.adobeDTM.pageType+":photogallery:mid_lead_cta_impression"})},s=function(t,e){return t>=7&&t<=12?5===e:t>12&&10===e}},253:function(t,e,i){"use strict";i.d(e,"a",function(){return o});var a=i(14),o=function(t){return n(t)?t:r(s(),t)},n=function(t){return t&&/^http/i.test(t)},s=function(){return a.a.getData("assetHost")||""},r=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return l(t)+"/"+d(e)},l=function(t){var e=d(t);return e&&!n(e)?"//"+e:e},d=function(t){return t.replace(/^\/*/,"").replace(/\/*$/,"")}},254:function(t,e,i){t.exports=i.p+"marker-property-609a097b3fcadfa0135fcb132bdc124d.png"},285:function(t,e){MOVE.MatterportModal=function(t){var e=function(){var t=$("#matterportFrame");t.attr("src",t.data("src")),$(".js-matterport-branding").removeClass("no-show"),$("#matterport-headertoggle i").removeClass("ra-angle-right").addClass("ra-angle-left"),$("#matterport-headertoggle").off("click").on("click",function(){$("i",this).toggleClass("ra-angle-left ra-angle-right"),$(".js-matterport-branding").toggleClass("no-show")})};return t.MatterportModal={init:e},t.MatterportModal}(MOVE||{})},289:function(t,e,i){"use strict";var a=i(170),o=i(38),n=i(144),s=i(171),r=i(141),l=function(t){return void 0!==t.mal_listings&&MOVE_DATA.isDesktop},d=function(t){return"for_rent"===t?a.c:a.a};MOVE.LDP.LeadForm=function(t){var e,h,c,p,u,f,m,g,v,y,b,M=$("#leadid_token"),x=$("#modal-container"),w=function(t,a,n){e=a||{},g=!0,e.is_nearby_home_card&&(g=!1);var s=$("#"+t);y=!1,i.i(r.b)(s),s.find('input[type="submit"]').removeAttr("disabled"),p=n,0!==s.length&&(MOVE.Common.getCachedInputs(s),c={"Free agent analysis":{message:"I would like to be contacted with regards to a FREE agent analysis of my home's value",submitText:"Request a FREE Analysis"},"Looking to Sell":{message:"I would like to speak to an agent about selling a home",submitText:"Request Service"},"How is the market?":{message:"I would like a FREE home value report with recent comparable sales",submitText:"Request Report"},"Home Improvement ROI":{message:"I would like to receive advice from a local real estate professional about the typical after-sale return on investment on home improvement projects in my area",submitText:"Request Advice"},"Property Tax":{message:"I would like to be contacted with regards to the assessed value of my home for property tax",submitText:"Request a FREE Analysis"},"Looking to Buy":{message:"I would like to speak to an agent about buying a home",submitText:"Request Service"}},s.length&&(g&&(e=(MOVE.LDP.model||MOVE.SELL.model).getData()||{}),k()&&(e.remnant=f,MOVE.LocalStorage.isAvailable&&localStorage.setItem("remnant","")),s.find(".phone").on("keypress",MOVE.DOMHelper.validatePhone),s.find(".preApproved").change(T),s.find(".js-veterans-checkbox").change(A),s.find(".js-home-owner-option input:radio").change(m),u=s.find(".seller-enabled-lead-form"),u.find(".js-agent-photo").click(E),u.find(".js-agent-name").click(E),s.find("div.bootstrap-select").on("click",function(){O($(this))}),D(),E(),P(s),L(s),s.find('input[type="submit"]').removeAttr("disabled"),"for_rent"==e.status&&e.flags.is_flip_market_enabled&&(s.find(".phone-tracking").unbind("click"),s.find(".phone-tracking").on("click",function(){y=!0,V(s,s.find("form")[0])})),$('[data-toggle="popover"]').popover(),MOVE.LDP.SellerLead.onLoadCalls(s)),s.length&&M.length&&(s.on("mouseenter",o.a),MOVE.Helper.isMobileDevice()&&s.find("input.preApproved").length&&(x.on("shown.bs.modal",o.a),$('a[data-target="#ldpStickyBottomLeadModal"], a[data-target="#ldpBottomLeadModal"]').on("click",o.a),"full_bleed_secondary_request_more_details"==s.attr("id")&&C(s))),s.find(".preApproved").is(":checked")&&s.find(".preApproved").trigger("change"))},k=function(){return!!MOVE.LocalStorage.isAvailable&&(void 0!==(f=localStorage.getItem("remnant"))&&""!==f&&null!==f)};m=function(){var t=$(this).parents(".leadForm"),e=t.find(".js-sell-date");"not-home-owner"===$(this).val()?(e.closest("div"),e.prop("disabled",!0),e.selectpicker("refresh"),O(e)):(e.prop("disabled",!1),e.selectpicker("refresh"))};var O=function(t){var e=t.parent();t.removeClass("error-border"),e.find("select").removeClass("error"),e.find("#leads_form_data_sell_by_date-error").remove(),$("#leads_form_data_sell_by_date-error").addClass("hide")},C=function(t){$(window).scroll(function(){MOVE_DATA.leadid_token||function(t){var e=$(window).scrollTop(),i=e+$(window).height(),a=$(t).offset().top;return a<=i&&a>=e}(t)&&i.i(o.a)()})},E=function(){$(".seller-enabled-lead-form").find(".popover").addClass("hide"),$(this).closest(".seller-enabled-lead-form").find(".popover").removeClass("hide")},D=function(){$(document).click(function(t){void 0===t.target||!t.target.className.has||t.target.className.has("js-agent-photo")||t.target.className.has("js-agent-name")||$(".seller-enabled-lead-form").find(".popover").addClass("hide")})},T=function(){var t=$(this).parents(".leadForm"),e=t.find(".preApproved").is(":checked"),i=(t.find(".js-veterans-checkbox").is(":checked"),MOVE_DATA.is_lcm_enabled),a=t.find(".js-lcm-item"),o=t.find(".js-mrc-item"),n=(t.find(".js-lead-lender-items"),t.find(".lead-form-policy"));e?i?(a.show(500),n.hide(500)):o.show(500):i?a.show(500):o.hide(500)},A=function(){$(this).parents(".leadForm").find(".js-veterans-checkbox").is(":checked")&&MOVE.Medias.kruxPixel("K1WZo6o3",{})},P=function(t){t.find(".lead-agent-analysis").on("change",function(){var e=$(this).find("option:selected").val(),i=c[e];if(void 0!==i){var a=t.find(".message");a.val(i.message),a.attr("origin_val",i.message),t.find(".submit").val(i.submitText)}})},S=function(t){var e=t.find("input.error");e.length>0&&(e.next("label.error").remove(),e.removeClass("error"))},L=function(t){var i=t.find("form");if(S(i),!MOVE_DATA.leadid_token&&M.length&&(MOVE_DATA.leadid_token=M.val()),!MOVE_DATA.is_lex){var o;o=MOVE_DATA.ab_lead_name?"Please enter your name":"Please enter your full name",i.validate({debug:!0,groups:{buyerSeller:"leads_form_data[buyer] leads_form_data[seller]"},onkeyup:!1,onfocusout:function(t){MOVE.LEAD.Common.checkLeadToken(t,M)},rules:{"leads_form_data[name]":{required:!0,pattern:d(e.status)},"leads_form_data[email]":{required:!0,email:!0,pattern:a.b},"leads_form_data[phone]":{required:H(),phoneUS:!0},"leads_form_data[move_in_date]":{required:e.is_cobroke||"for_rent"===e.status},"leads_form_data[sell_by_date]":{required:"not_for_sale"===e.property_type},"leads_form_data[home_owner]":{required:"not_for_sale"===e.property_type}},messages:{"leads_form_data[name]":o,"leads_form_data[email]":{required:"Please enter your email",email:"Please enter a valid email",pattern:"Please enter a valid email address"},"leads_form_data[phone]":{required:"Please enter your phone number",phoneUS:"Please enter a valid mobile number"},"leads_form_data[move_in_date]":{required:"Please enter move in date"},"leads_form_data[sell_by_date]":{required:"Please select when you plan on selling"},"leads_form_data[home_owner]":{required:"Please select if you are the homeowner"}},errorPlacement:function(t,e){e.hasClass("buyer-seller")?t.insertAfter(e.closest("div").find("span")):e.parent(".input-group").hasClass("date")?t.insertAfter(e.parent(".input-group")):e.hasClass("selectpicker")?t.insertAfter(e.parent().find("div.bootstrap-select").addClass("error-border")):e.parent().hasClass("radio-inline")?t.insertAfter(e.closest("div").find(".radio-inline:last")):t.insertAfter(e)},submitHandler:function(e){V(t,e)}}).settings.ignore=":not(select:hidden, input:visible, textarea:visible)"}},V=function(t,a){var o=t.find(".fullName"),r=t.find(".email"),d=t.find(".phone"),c=!1;"homes_around_card"!==$(a).attr("id")&&(e=(MOVE.LDP.model||MOVE.SELL.model).getData()||{});var u,f=$(a).find('input[type="submit"]'),m=f.val();if($(a).find(".preApproved").is(":checked")){window.LeadiD&&window.LeadiD.snap();var g=e.lead_attributes&&e.lead_attributes.is_lcm_enabled;u=void 0===e.lead_attributes||null===e.lead_attributes||g?null:$(a).find(".credit-selectbox").val(),MOVE.Medias.kruxPixel("JuefmLiB",{CreditScore:u})}f.length&&MOVE.LEAD.Common.disableForm(f),$.ajax({data:z(t,a),url:"/leads",type:"POST",success:function(f){MOVE.Common.cacheInputs(o,r,d),p&&p();var m,g=t.selector.includes("#homes-around-card"),b=JSON.parse(f.data),M=t.find(".js-veterans-checkbox").is(":checked"),w=t.find(".preApproved").is(":checked"),k=M&&w?"#leadSimpleThankYouVeterans":"#leadSimpleThankYouShared",O=t.find(".js-lenderCoMarketing").length>0;y||(m=_.partial(I,k,{isVeteran:M,creditScore:u,data:b,isNearbyHomeCard:g})),MOVE.Common.getCachedInputs($("#primary")),MOVE.Common.getCachedInputs($("#secondary")),MOVE.Common.getCachedInputs($("#photo_gallery_request_more_details")),e.lcmOptIn=void 0===e.lead_attributes||null===e.lead_attributes||e.lead_attributes&&!e.lead_attributes.is_lcm_enabled?null:w?"y":"n",$("#photo_gallery_map_request_more_details").length&&MOVE.Common.getCachedInputs($("#photo_gallery_map_request_more_details"));try{if(b.meta.success){if(e.isMilitaryChecked=M,e.isPreApprovedChecked=w,e.creditScore=u,l(b))return i.i(s.a)(b,!1,e,t);i.i(n.a)(t,e,b,MOVE_DATA.propertyDetails),y||MOVE.LEAD.Common.dismissModalLeadForm(t);var C="";v=t.find(".submit").attr("data-omtrack");if(["for_sale","new_plan","new_community"].indexOf(e.status)>0&&void 0!==b.mal_leads_form&&!e.is_nearby_home_card)MOVE.LEAD.MalLeadThankYouModal.removeMalLead(),x.append(b.mal_leads_form),MOVE.LEAD.MalLeadThankYouModal.init("malLeadThankYou",M,u,e,"ldp",b,v),MOVE.CONSTANTS.IS_IPAD&&(C="modal-scroll-fix"),$("#malLeadThankYou").on("shown.bs.modal",function(){$("body").addClass("modal-open "+C)}),$("#malLeadThankYou").on("hidden.bs.modal",function(){$("body").removeClass("modal-scroll-fix")}),$("#malLeadThankYou").modal();else if("for_rent"===e.status)b.lead.apt_list_recommendations&&b.lead.apt_list_recommendations.recommendations?(x.append(b.rental_form),MOVE.LDP.AptlistRecommendationsModal.show(b.lead.apt_list_recommendations,v)):($("#rental-lead-moving-modal").length||x.append(b.rental_form),y||h(a,v)),MOVE.CONSTANTS.IS_IPAD&&(C="modal-scroll-fix"),$("#aptlist-recommendations-modal").on("shown.bs.modal",function(){$("body").addClass("modal-open "+C)}),$("#aptlist-recommendations-modal").on("hidden.bs.modal",function(){$("body").removeClass("modal-scroll-fix")}),$("#aptlist-recommendations-modal").modal();else{if(!b.cross_sell_modal||c||O||e.is_nearby_home_card||MOVE_DATA.is_lcm_enabled)y||m();else{x.append(b.cross_sell_modal);var E=b.meta.params.lead.lead_data;MOVE.MORTGAGE.CrossSellThankyouModal.init({selector:"#mortgageThankYouShared",after_submit:function(){c=!0},lead_id:b.lead.id,email:E.email,phone:E.phone,first_name:E.first_name,last_name:E.last_name,listing_id:e.listing_id,property_type:e.type,price:e.price,street:e.address,city:e.city,state:e.state_code,zip_code:e.postal_code,modalPlacement:v})}e.is_cobroke?MOVE.Medias.kruxPixel("JueQMtaI",{}):(e.is_showcase||"new_community"===e.property_type||"new_plan"===e.property_type)&&MOVE.Medias.kruxPixel("JueQgeAR",{})}}else MOVE.Common.addNewRelicLog("lcsFailure",MOVE.Common.leadErrorMsg(b)),MOVE.LEAD.Common.dismissModalLeadForm(t),y||m()}catch(e){MOVE.Common.addNewRelicLog("lcsError",$.extend({},MOVE.Common.leadErrorMsg(b),{exception_msg:e.message})),MOVE.LEAD.Common.dismissModalLeadForm(t),y||m()}},complete:function(){t.data("to",""),t.attr("data-inlineCTA",null),y=!1,d.val(b),f.length&&MOVE.LEAD.Common.enableForm(f,m)}})},I=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!$(t).length&&e.data&&x.append(e.data.thankyou_modal);var i=e.isVeteran,a=e.creditScore,o=e.isNearbyHomeCard;MOVE.LDP.LeadSimpleThankyouModal.show({selectorId:t,isVeteran:i,creditScore:a,isNearbyHomeCard:o,modalPlacement:v})},H=function(){return MOVE.DataStore.getData("leadFormPhoneIsRequired")};$.validator.addMethod("buyer-seller",function(){return $(".buyer-seller:checked").length>0},"Please select at least one"),h=function(t,e){var i=$("#header-cta").find(".header-cta-lead>a"),a=i.attr("clicked"),o="true"===a?"top":$(t).find(".submit").attr("data-position");i.removeAttr("clicked"),MOVE.LDP.RentalLeadMovingModal.show(o,e)};var N=function(t,i,a){return a?"secondary":t?"business_card":"not_for_sale"===e.property_type?MOVE.LDP.SellerLead.formName()||i.id:e.is_building?"local":i.id},z=function(t,i){b=$(i).find(".phone").val(),y&&$(i).find(".phone").val(e.toll_free_number);var a=$(i),o=a.serialize(),n=t.data("to"),s=a.find(".message"),r=(a.find(".preApproved").is(":checked"),t.attr("data-inlineCTA")),l=N(n,i,r),d=MOVE.LEAD.Common.isSellerLead(a,e),h=e.flags||{},c=e.flags&&e.flags.is_promoted_community&&"premium",p={listing_id:e.listing_id,property_id:e.property_id||e.id,status:e.status||"not_for_sale"===e.property_type&&"not_for_sale",form_name:l,page_name:j(l),form_variant:"local"===l?"building_page":R(n,i.name,r),modified:s.attr("origin_val")!==s.val(),referral:MOVE_DATA.lex_referer||c||"",target:MOVE.LEAD.Common.getTarget(n,d,a),rcm_lead_id:F,recent_searches:JSON.stringify(MOVE.UserActivity.getRecentSearches()),recent_views:JSON.stringify(MOVE.UserActivity.getRecentViews()),agents:B(i),broker:MOVE.LDP.SellerLead.brokerInfo(a),postal:e.postal_code,ab_ldp_mal:MOVE.DataStore.getData("ab_ldp_mal"),sqft:e.sqft,lot_size:e.lot_size,year_built:e.year_built,user_id:MOVE.DataStore.getData("memberId"),subject:!0===e.is_building?"Location Lead for":"",is_building:e.is_building,source_id:!0===h.is_aptlist?e.source_id:"",is_nearby_home_card:e.is_nearby_home_card,building_message:e.is_building?s.val()+" "+window.location.href:"",lex_advertiserId:e.lex_advertiserId,lex_assetId:e.lex_assetId,full_address:e.full_address_display,lex_id:e.lex_id,spec_home:h.is_spec_home};return y&&(p.is_method_call=y),void 0!==e.remnant&&(o+="&"+$.param({"leads_form_data[featured_ref]":e.remnant})),o+="&"+$.param(p)},F=function(){var t=MOVE_DATA.propertyDetails.lead_capture_product;if("co_broke"==t||"advantage_pro"==t||"seller"==t||"local_expert"==t)return MOVE_DATA.leadid_token},R=function(t,e,i){return i?"request_more_details":t||"open_house"===e?"":e},j=function(t){return"seller_summary"===t?t:MOVE_DATA.is_building?"ldp":MOVE_DATA.adobeDTM.pageType},B=function(t){var e,i=[];return $(t).find(".seller-enabled-lead-form").each(function(){e={advertiser_id:$(this).data("advertiserid"),type:$(this).data("agenttype"),selection_type:$(this).find(".js-next-gen-agent, .js-seller-agent").is(":checked")?"consumer_selected":"not_selected"},i.push(e)}),i.length>0?JSON.stringify(i):""};return t.LeadForm={init:w,_TEST_getTarget:MOVE.LEAD.Common.getTarget,_TEST_getFormVariant:R,_TEST_getPageName:j},t.LeadForm}(MOVE.LDP||{})},290:function(t,e,i){"use strict";var a=i(13);MOVE.LDP.LeadSimpleThankyouModal=function(t){var e,o,n,s,r,l=function(t,e,i,a){r=t,d(),h(a),"poor"===i&&e&&$("#leadSimpleVeteranApproval").addClass("hide"),"#leadSimpleThankYouShared"===t&&MOVE.Medias.showViewCreditScoreAd()},d=function(){e=$(r),o=e.find(".thankyou-save"),n=e.find(".thankyou-done"),s=MOVE.DataStore.getData("memberId")},h=function(t){void 0!==s&&MOVE.FormatHelper.isEmpty($(".removeFromSaved").data("res-id"))&&!t?(o.show(),n.hide()):(n.show(),o.hide())},c=function(){var t="";MOVE.CONSTANTS.IS_IPAD&&(t="modal-scroll-fix"),e.on("shown.bs.modal",function(){$("body").addClass("modal-open "+t)}),e.on("hidden.bs.modal",function(){$("body").removeClass("modal-scroll-fix")}),e.modal()},p=function(t){var e=t.selectorId,o=t.isVeteran,n=t.creditScore,s=t.isNearbyHomeCard,r=t.modalPlacement;$(e).length?(l(e,o,n,s),c()):MOVE.ModalHelper.fetchModal(e,MOVE.LDP.model.getData(),{isVeteran:o,creditScore:n,isNearbyHomeCard:s}),i.i(a.a)("thankyou_:post-lead:simple_thankyou",r)};return t.LeadSimpleThankyouModal={init:l,show:p},t.LeadSimpleThankyouModal}(MOVE.LDP||{})},291:function(t,e,i){"use strict";var a=i(13);MOVE.LDP.SellerLead=function(t){var e,o=function(){return $("#ldpBottomLeadModal").is(":visible")?e:null},n=function(t){t.find(".seller-enabled-lead-form .js-seller-agent").on("click",function(){var t=$(this);t.is(":checked")?t.attr("data-omtag","not for sale: lead form: position "+t.attr("data-selPosition")+": check"):t.attr("data-omtag","not for sale: lead form: position "+t.attr("data-selPosition")+": uncheck")}),t.find(".seller-enabled-lead-form .js-agent-name, .seller-enabled-lead-form .js-agent-photo").on("click",function(){_satellite.track("miniProfileImp")}),t.find(".seller-enabled-lead-form .agent-card-popover-listing-data a.btn").on("click",function(){_satellite.track("miniProfileFullDets")})},s=function(){var t=$("#gallery_request_more_details");$('a[data-target="#ldpBottomLeadModal"]').on("click",function(o){"off_market"!==MOVE_DATA.adobeDTM.propertyStatusSub&&"recently_sold"!==MOVE_DATA.adobeDTM.propertyStatusSub||i.i(a.b)(o),MOVE_DATA.is_lex||l(t),e=$(this).data("lead-position"),r()})},r=function(){MOVE.Helper.updateOmnitureModalLeadJson({agentDefaultSelection:"unchecked"})},l=function(t){var e=t.find("form");e.validate().resetForm(),e.find(".error").removeClass("error");var i=t.find("div.bootstrap-select");i.removeClass("error-border");var a=i.parent();a.find("select").removeClass("error"),a.find("#leads_form_data_sell_by_date-error").remove()},d=function(t){var e=t.find(".lead-form-broker-info");return e.length?JSON.stringify({advertiser_id:e.data("advertiserid"),type:e.data("agenttype")}):""};return t.SellerLead={init:s,formName:o,onLoadCalls:n,brokerInfo:d},t.SellerLead}(MOVE.LDP||{})},296:function(t,e){MOVE.LDP.FsMapModal=function(t){var e=$("#fsStreetView"),i=$("#fsMapView"),a=$("#fsgalleryMobileMapFooter"),o=function(){n(),s(),r()},n=function(){$("#ldpFsMapBtn").click(function(){$("#ldp-fullscreen-map-mobile").on("shown.bs.modal",function(){MOVE.LDP.Map.init("photoGalleryLDPMobileMap",!0,!1),e.removeClass("hide"),i.addClass("hide")})})},s=function(){$("#photoGalleryStreetBtnMobile").click(function(){e.addClass("hide"),i.removeClass("hide"),a.addClass("street-view"),MOVE.LDP.Map.init("photoGalleryLDPMobileMap",!0,!0)})},r=function(){$("#photoGalleryMapBtnMobile").click(function(){e.removeClass("hide"),i.addClass("hide"),a.removeClass("street-view"),MOVE.LDP.Map.showStreetView(!1)})};return t.FsMapModal={init:o},t.FsMapModal}(MOVE.LDP||{})},297:function(t,e){MOVE.LDP.PrintPage=function(t){var e=!1,i=function(){$("body").on("click","#print_page",function(t){e||(e=!0,$("#print_css").attr("href",$("#print_css").data("css-url")));var i=$(t.currentTarget);i.attr("disabled","disabled"),$("body").addClass("print"),$("#ldp-amenities-map-container").hide(),a(function(){i.removeAttr("disabled")})})},a=function(t){var e=MOVE_DATA.propertyDetails,i=[];e.print_photos&&e.print_photos.forEach(function(t){i.push(t.url)}),$.ajax({url:"/print_partials",method:"POST",dataType:"JSON",data:{property:{photos:i,city:e.city,state_code:e.state_code,postal_code:e.postal_code,state:e.state,lat:e.lat,long:e.long,is_suppress_map_pin:e.is_suppress_map_pin,permalink:e.permalink,full_address_display:e.full_address_display}},success:function(e){$(".ldp-print-gallery").append(e.print_gallery),$(".js-static-map").append(e.static_map),$(".js-print-footer").append(e.print_footer),$(".js-print-logo").append(e.print_logo),o(t)},error:function(){t()}})},o=function(t){setTimeout(function(){window.print(),$("body").removeClass("print"),$("#ldp-amenities-map-container").show(),t(),$(".ldp-print-gallery, .js-static-map, .js-print-footer, .js-print-logo").empty()},1e3)};return t.PrintPage={init:i},t.PrintPage}(MOVE.LDP||{})},301:function(t,e,i){"use strict";var a=i(0),o=(i.n(a),i(59)),n=i(161),s=function(t,e){$.ajax({url:"/browse_modules/other_floor_plans?id="+t,method:"GET",success:function(t){if(!i.i(a.isEmpty)(t)){var s=_.filter(t.properties||[],function(t){return"Ready to build"===t.prop_status&&MOVE_DATA.adobeDTM.planID!==t.property_id});if(!i.i(a.isEmpty)(s)){var r=JST["quick_view/templates/other-plans/other-plans-carousel"]({properties:s,isSpecHome:e,heading:"Other Floor Plans"}),l=$("#qv-other-plans");l.html(r).promise().done(function(){e||i.i(n.a)(t.properties)}),i.i(o.a)(l),$(".other-plans-card").on("click",function(t){MOVE.UserActivity.updateSrpListingClicked({dataSource:e?"for_sale:ldp:office_floor_plans":"new_plan:ldp:office_floor_plans"})})}}}})};e.a=s},302:function(t,e,i){"use strict";i.d(e,"a",function(){return o});var a=i(70),o=function(){var t=$(this).data("module-type");if(setTimeout(function(){MOVE.LDP.RightRailBC.getAdPosition()},400),t){var e=MOVE_DATA.propertyDetails.status||"unknown",o=$(this).hasClass("collapsed")?"expand":"collapse",n=e+":ldp:"+t+":"+o;i.i(a.b)(n,e)}}},303:function(t,e,i){"use strict";function a(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}i.d(e,"e",function(){return u}),i.d(e,"d",function(){return g}),i.d(e,"b",function(){return b}),i.d(e,"c",function(){return M}),i.d(e,"a",function(){return C}),i.d(e,"f",function(){return P});var o=i(0),n=(i.n(o),i(169)),s=function(t,e,i,a,o){return a*((e=e/o-1)*e*e*e*e+1)+i},r=function(t,e,i){var a=Date.now(),o=t[e],n=i-o,r=!1,l=function(){r=!0,d()},d=function(){t.removeEventListener("wheel",l),t.removeEventListener("touchstart",l)};return t.addEventListener("wheel",l,{passive:!0}),t.addEventListener("touchstart",l,{passive:!0}),function i(){var l=Date.now()-a,h=l/1e3;if(!r){if(h>1)return void d();t[e]=s(0,l,o,n,1e3),requestAnimationFrame(i)}}(),l},l=function(){var t=!1;try{document.createElement("div").scrollTo({top:0,get behavior(){return t=!0,"smooth"}})}catch(t){}return t}(),d=function(t,e,i){if(l){var o;return t.scrollTo((o={},a(o,i?"left":"top",e),a(o,"behavior","smooth"),o))}return r(t,i?"scrollLeft":"scrollTop",e)},h=function(t,e){$.ajax({url:"/mrtg_handler/calculators/loan/calculate",method:"POST",data:{price:t,down_payment:.2*t,rate:.03808,tax_rate:.012504189008042895,term:"30",exclude_amortization_table:!0,hoa:0,hoi:0,is_fees_included:!0,is_pmi_included:!0},success:function(t){c(t,e)}})},c=function(t,e){if(i.i(o.isEmpty)(t.meta.errors)&&t&&t.mortgage){var a=t.mortgage,n=a.principal_and_interest,s=a.monthly_property_taxes,r=a.monthly_home_insurance,l=a.hoa_fees,d=n+s+r+l,h=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"});d=h.format(d);var c=$(".property-column[data-listingid='"+e+"']"),p=c.find(".estimated-payment .estimated-payment-amount"),u=c.find(".payment-price"),f=c.find(".p-i"),m=c.find(".p-t"),g=c.find(".h-i");p.text(d),u.text(d),f.text(h.format(n)),m.text(h.format(s)),g.text(h.format(r))}},p=0,u=function(t){var e=document.querySelector(".other-properties"),i=document.querySelector(".indicator-button.left"),a=document.querySelector(".indicator-button.right"),o=function(o){f(o,i,a,e,t)},n=function(o){m(o,i,a,e,t)};i&&a&&(i.addEventListener("click",o),a.addEventListener("click",n));var s=function(t,e){t&&e&&(t.removeEventListener("click",o),e.removeEventListener("click",n))},r=function(){s(i,a),$("#compareModal").remove(),p=0};$("#compareModal").on("hidden.bs.modal",r)},f=function(t,e,i,a,o){if(t.preventDefault(),t.stopPropagation(),!("noSiblings"in e.dataset)){e.setAttribute("aria-pressed",!0),i.setAttribute("aria-pressed",!1),p-=1;var n=document.querySelectorAll(".property-column")[1].scrollWidth,s=Math.ceil(n*g()*p);d(a,s,!0),v(i,e,p,o)}},m=function(t,e,i,a,o){if(t.preventDefault(),t.stopPropagation(),!("noSiblings"in i.dataset)){i.setAttribute("aria-pressed",!0),e.setAttribute("aria-pressed",!1),p+=1;var n=document.querySelectorAll(".property-column")[1].scrollWidth,s=Math.ceil(n*g()*p);d(a,s,!0),v(i,e,p,o)}},g=function(){return window.innerWidth>999?3:window.innerWidth>767?2:1},v=function(t,e,i,a){var o=document.querySelector(".indicator-number"),n=Math.ceil(a/g()),s=i+1;return s===n?(t.dataset.noSiblings=!0,delete e.dataset.noSiblings,void(o.textContent=s+"/"+n)):1===s?(e.dataset.noSiblings=!0,delete t.dataset.noSiblings,void(o.textContent=s+"/"+n)):(delete t.dataset.noSiblings,delete e.dataset.noSiblings,void(o.textContent=s+"/"+n))},y=function(t,e,i){return(t-e)*(t-i)<=0},b=function(t,e){if(t){var i="",a="",o=.95*t.price,n=1.05*t.price;return y(e.price,o,n)?(i="circle",a="Similar Price"):e.price<o?(i="arrow-up",a="Lower Price"):e.price>n&&(i="arrow-down",a="Higher Price"),{klass:i,text:a}}},M=function(t,e){if(t){var i="",a="";return e.sqft<t.sqft?(i="arrow-down",a=t.sqft-e.sqft+" sq ft smaller"):e.sqft>t.sqft&&(i="arrow-up",a=e.sqft-t.sqft+" sq ft larger"),{klass:i,text:a}}},x=null,w={property_id:"propertyid",listing_id:"listingid",property_type:"status",plan_name:"plan_name",community_name:"community_name"},k=function(t,e){return"I'm interested in "+t+" in the "+e+" community"},O=function(t){var e=$(t.target),i=e.closest(".property-column"),a=D(i),o=A(a),n=t.target.dataset.target,s=o.name&&o.name.toLowerCase().includes("plan")?""+o.name:o.name+" plan",r=o.new_community_name;return{dataTarget:n,propertyData:o,placeholder:k(s,r),formId:$(e).data("formid")||"secondary",omtrack:$(e).attr("data-omtag")||"qv:compare",formTitle:$(e).data("title")||"Find out more about this plan",$element:e}},C=function(t){t.preventDefault(),t.stopPropagation();var e=O(t),a=e.dataTarget,o=e.propertyData,s=e.placeholder,r=e.formId,l=e.omtrack,d=e.formTitle,h=e.$element;$(h).attr("data-target",a),i.i(n.a)(a,o,{property:o}),E(d,s,r,l);var c=$(a);c.length&&c.modal(),$(document).off("modalInserted").on("modalInserted",function(){E(d,s,r,l)})},E=function(t,e,i,a){var o=$("#srp-lead-modal");o.find(".modal-title").html(t),o.find(".submit").attr("data-omtrack",a),$("#request_showing_lead_message").attr("placeholder",e).val(e),$("#modal-container .modal").find("form").attr("id",i)},D=function(t){var e=$(t);return x=e.find(".data-wrap"),i.i(o.extend)(x.data(),T())},T=function(){return i.i(o.mapObject)(w,_.partial(_.result,x.data()))},A=function(t){return Object.assign({},t,{listing_id:t.listing_id||t.id,lot_size_display:t.lot_size_display||null,photo_url:t.photo_url||(t.photos&&t.photos.length?t.photos[0].url:null),lead_attributes:null,prop_type:t.type||t.prop_type})},P=function(){var t=function(t){t.forEach(function(t){if(t.isIntersecting){var e=t.target,i=e.querySelector(".data-wrap").dataset,a=i&&i.price,o=i&&i.listingid;e.querySelector(".compact-card-image").src=i.photo_url,h(a,o)}})},e=new IntersectionObserver(t),i=document.querySelectorAll(".property-column");i.forEach(function(t){e.observe(t)}),$("#compareModal").on("hidden.bs.modal",function(){i.forEach(function(t){e.unobserve(t)})})}},317:function(t,e){!function(t){var e,i,a,o,n,s,r,l,d,h,c,p,u,f;e=function(t){l=[],f=r(t),i().innerCard.find(".mini-card-item").each(a),n(),_satellite.track("srp:map:mini-card:impression")},r=function(t){return _.isArray(t)?t:[t]},i=function(){return t.getInfoWindowCard()},a=function(t,e){var i=f[t];s(i),$(e).attr(o())},o=function(){return{"data-omtag":t.setOmTag(u),"data-product":h,"data-propertyid":d,"data-source":p,"data-proptype":c,"data-propertystatus":u}},s=function(t){p=t.data_source,d=function(){return t.plan_id||t.subdivision_id||t.listing_id}(),d&&l.push(d),u=function(){return"new-home-community"===t.status?"new_community":t.status}(),h=t.product_type,c=t.source_id},n=function(){MOVE_DATA.adobeDTM.productType=h,MOVE_DATA.adobeDTM.listingSource=c,MOVE_DATA.adobeDTM.propertyStatus=u,MOVE_DATA.adobeDTM.dataSource=p,MOVE_DATA.adobeDTM.propertyID=l.join(",")},t.Tracking={init:e}}(MOVE.MapMiniCard||{})},324:function(t,e,i){"use strict";i.d(e,"a",function(){return d}),i.d(e,"c",function(){return h}),i.d(e,"b",function(){return c}),i.d(e,"e",function(){return p}),i.d(e,"d",function(){return u});var a=i(244),o=i(13),n=i(225),s=i(141),r=i(205),l=i(70);MOVE.LDP.LdpPageSpecific=function(t){var e,d,h=$(".owner-dashboard").length,c=$(".insight-carousel"),p=function(){e=MOVE.LDP.model.getData(),N(),k(),z(),G(),W(),U(),Y(),B(),q(),K(),X(),J(),tt(),et(),it(),at(),ot(),nt(),rt(),T(e),F(),i.i(n.a)(e),dt(),f(),C(),u(),M(),v(),y(),b(),m(),g(),i.i(a.a)(),i.i(a.b)(),ct(e),E(),D(),$("div.list-floorplans .listing-card").click(function(){window.location=$(this).find("a").attr("href")}),$("#ldp-fullscreen-gallery").on("shown.bs.modal",function(){var t=$(this).find(".js-last-image");t.attr("src",t.data("src"))}),$(".ldp-vert-gall").on("shown.bs.modal",function(){var t=$("#ldpHeroCarousel").find(".owl-item.active").first().find(".ldp-carousel-img").attr("data-index");if(t){document.getElementById("mobile-photo"+t).scrollIntoView(!0)}}),$("#ldpPhotoGallery #mobile-photo1 img").each(function(){$(this).onload=i.i(r.a)($(this))}),MOVE.DOMHelper.initPopOverHover($(".lead_form_tcpa_text")),e&&"for_rent"===e.property_status&&MOVE.Medias.manualLoadAds(window.gptAds.gptadslotsLdpPropertyFeatures,".property_features_ads")},u=function(){$(document).on("click",'a[data-toggle="modal"]',function(t){var e=t.target.attributes["data-omtag"]&&t.target.attributes["data-omtag"].value;MOVE_DATA.adobeDTM.leadCtaClickSource=e})},f=function(){$.cookie("previousUrl",window.location.pathname,{path:"/"}),$.cookie("listingClickSource")&&($.cookie("previousListingClickSource",$.cookie("listingClickSource")),$.removeCookie("listingClickSource")),document.querySelector("body").addEventListener("click",function(t){x(t.target,0)})},m=function(){$("#ldp-collapsed-payment-calculator").one("shown.bs.collapse",function(){MOVE.Medias.manualLoadAds(window.gptAds.gptadslotsPaymentOptionOnly)})},g=function(){$("#ldp-collapsed-neighborhood").one("shown.bs.collapse",function(){MOVE.Medias.manualLoadAds(window.gptAds.gptadslotsCollapseCardMap,".map-ad")})},v=function(){$("#ldp-collapsed-property-details").one("shown.bs.collapse",function(){MOVE.Common.readMore(".load-more-features",I(),"See",O,!0),MOVE.Common.readMore(".load-more-plans",300,"See",null,!0)})},y=function(){$("#ldp-collapsed-school").one("shown.bs.collapse",function(){MOVE.Common.readMore("#load-more-schools",H(),"See")})},b=function(){$("#ldp-collapsed-pdp-timeline").one("shown.bs.collapse",function(){MOVE.Common.readMore(".load-more-features, .load-more-history",I(),"See",O,!0)})},M=function(){$(".js-remove-lazy-collapsed").click(function(){$(this).find("img").trigger("unveil")})},x=function t(e,i){if(e)if(e.attributes["data-omtag"]&&w([e.attributes.href,e.attributes["data-ldpurl"]])){var a=e.attributes["data-omtag"].value,o=MOVE_DATA.adobeDTM.listingID;$.cookie("listingClickSource",a+":"+o)}else i<2&&(i++,t(e.parentElement,i))},w=function(t){var e=!1;return t.forEach(function(t){t&&t.value.includes("/realestateandhomes-detail")&&(e=!0)}),e},k=function(){MOVE.Common.readMore(".load-more-features, .load-more-history",I(),"See",O,!0),MOVE.Common.readMore(".load-more-plans",300,"See",null,!0),MOVE.Common.readMore("#load-more-schools",H(),"See"),e&&"for_rent"===e.property_status&&MOVE.Common.readMore(".load-more-rental-floorplan",100,"See",null,!0,135),MOVE.Common.readMore(".footer-content",50,"See"),MOVE.Helper.isMobile()&&MOVE.Common.readMore("#pdp-home-owners-module",3,"Learn")},O=function(t){t&&e&&"for_rent"!==e.property_status&&MOVE.Medias.manualLoadAds(window.gptAds.gptadslotsLdpPropertyFeatures,".property_features_ads")},C=function(){$(".js-call").on("click",function(t){var e=t.target.attributes["data-omtag"]?t.target.attributes["data-omtag"].value:"";MOVE_DATA.adobeDTM.modal={name:"web:ldp:talk-to-realtor"},i.i(o.a)("web:ldp:talk-to-realtor",e)})},E=function(){$(document).on("click",".ldp-flood-details",function(t){QSI&&QSI.API&&(window._qsie.push("qualtrics-flood"),QSI.API.unload(),QSI.API.load().done(window.QSI.API.run()));var e=t.target.attributes["data-omtag"]?t.target.attributes["data-omtag"].value:"";MOVE_DATA.adobeDTM.modal={name:MOVE_DATA.propertyDetails.property_type+":ldp:property_info:flood_factor_info"},i.i(o.a)(MOVE_DATA.propertyDetails.property_type+":flood_factor",e)})},D=function(){var t=MOVE_DATA.adobeDTM,e=t.pageType||DEFAULT_VALUE,a=MOVE_DATA.propertyDetails.property_type,o=$(".insurance-block .quote-dropdown");$("body").on("change",o,function(t){var o="$250K building and $100K in contents"===$(".quote-dropdown option:selected").text()?1:2;i.i(l.b)(a+":ldp:flood_factor:coverage_option_"+o,e)})},T=function(t){$(document).on("click",'[data-toggle="modal"]',function(e){var i,a=$(this).data(),o=a.target,n=$(this).data("source");if(o){if(a.homesAround){var s="for_sale"===a.status?a:P();i=S(s)}else i=t;$(o).length?MOVE.ModalHelper.initModalData(o,i,null,n):(e.preventDefault(),MOVE.ModalHelper.fetchModal(o,i,e,n))}})},A=function(t){return"co_broke"===t?"cobroke":t},P=function(){if(!d){var t=e.homes_near_street.defaultForSaleProp||{};d={address:t.address,bath:t.baths,bed:e.beds,city:t.city,formType:t.form_type,homesAround:!0,lat:t.lat,leadType:t.lead_type,listingId:t.listing_id,lon:t.lon,price:t.price,propertyId:t.property_id,proptype:t.property_type,showContactALender:t.show_contact_a_lender,showVeteransUnited:t.show_veterans_united,sqft:t.sqft,state:t.state_code,status:t.status,zip:t.postal_code,flipTheMarketEnabled:t.lead_attributes.flip_the_market_enabled}}return d},S=function(t){return Object.assign({},L(t),V(t),{is_nearby_home_card:!0})},L=function(t){return{lead_attributes:{form_type:t.formType,lead_type:t.leadType,show_contact_a_lender:t.showContactALender,show_veterans_united:t.showVeteransUnited,flip_the_market_enabled:t.flipTheMarketEnabled},sold_listing_diff:t.soldListingDiff,product_type:A(t.leadType),lead_capture_product:t.leadType,lead_service:"LCS"}},V=function(t){return{baths:t.bath,beds:t.bed,city:t.city,listing_id:t.listingId,price:t.price,property_id:t.propertyId,sqft:t.sqft,state_code:t.state,status:t.status,property_type:t.status,property_status:t.status,postal_code:t.zip,address:t.address,address_display:t.address,prop_type:t.proptype,photo:t.photo,lat:t.lat,long:t.lon,flags:{},features_list:[]}},I=function(){return"large"===MOVE.Helper.detectViewPort()?193:300},H=function(){var t=30;return $("#load-more-schools").find("tbody").children("tr:lt(3)").each(function(){t+=$(this).outerHeight(!0)}),t},N=function(){var t=$("#ldp-headlines"),e=MOVE.LDP.model.getHeadLines();e&&e.length>1&&MOVE.DOMHelper.fadeInOutAnimation(e,t)},z=function(){$("#js-trigger-renovation-report").click(function(){MOVE.Medias.kruxPixel("Jy_3x9aG",{})})},F=function(){$(".js-building-status").click(function(){void 0!==MOVE_DATA.propertyDetails.building&&$.cookie("ldp_property_status",R())})},R=function(){if(MOVE_DATA.propertyDetails.property_status)return"property_record"===MOVE_DATA.propertyDetails.property_status?"off_market":MOVE_DATA.propertyDetails.property_status},j=function(t){$("#secondary_request_more_details").data("to",t),e.is_cobroke?$("#secondary_lead_submit").attr("data-omtag","homes:cobroke:aaq"):$("#secondary_lead_submit").attr("data-omtag","homes:showcase:aaq:"+("emailAgent"===t&&"agent"||"broker"))},B=function(){$("#header-cta").on("click",".header-cta-lead > a",function(){$(this).attr("clicked","true")})},G=function(){MOVE.DOMHelper.initPopOver($("#ldp-listing-provider")),MOVE.DOMHelper.initPopOver($("#ldp-additional-info"))},W=function(){MOVE.DOMHelper.initPopOver($("#ldp-pricewrap"))},U=function(){MOVE.DOMHelper.initPopOver($("#market-summary-data"))},Y=function(){$(".js-businesscard-cta").on("click",function(t){var e,i=$(this),a=i.attr("href"),o=i.data("to");a.length&&(e=$(window).width()>996?$(a).offset().top-130:$(a).offset().top-75,$("html, body").animate({scrollTop:e},500),j(o),t.preventDefault())})},q=function(){$(".js-community-images").on("click",".js-local-fsgallery-toggle",function(){Z($(this).index())})},X=function(){$(document).on("click",".js-open-private-modal",function(){function t(t){var e=$("#request-private-showing"),i=t.attr("data-title"),a=t.attr("data-inlineCTA"),o=t.attr("data-placeholder");e.attr("data-inlineCTA",a),e.find(".modal-title").text(i),e.find("textarea").attr("placeholder",o)}var e=$(this);$("#request-private-showing").length?(t(e),i.i(s.c)()):$(document).on("modalInserted",function(){$("#request-private-showing").length&&(t(e),i.i(s.c)())})})},Z=function(t){var e=$("#cmt-fullscreen-gallery");e.modal({show:!0}),MOVE.PhotoGallery.init(t),e.find(".owl-item").find("img[index="+t+"]").removeClass("hide"),e.find(".gallery-address").html(MOVE_DATA.propertyDetails.city),e.find(".gallery-actions").addClass("hide")},K=function(){$.Device.isMobile(navigator.userAgent)?$(".btn-map-directions").addClass("btn-mobile-map-directions"):$(".js-ldp-header-directions-cta").tooltip()},J=function(){var t=MOVE_DATA.propertyDetails.photos;if(!_.isEmpty(t)&&MOVE.LDP.LdpPageSpecific.googleNoImageUrl(t))MOVE.LDP.TopHeroMap.init(!1);else if($("#ldp-hero-container").length){var e=$(".ldp-hero-photo-wrap").length>0;MOVE.LDP.TopHeroMap.init(e)}},Q=function(t){return-1!==t[0].url.indexOf("https://web.archive.org/web/20200819065000/https://maps.googleapis.com/maps/api/streetview")},tt=function(){$("#load-more-schools").next("a").attr("data-omtag","ldp:schools:more")},et=function(){$("#load-more-features").next("a").attr("data-omtag","ldp:features:more")},it=function(){var t=$("#ldp-hero-actions .ra-heart-o");$("#ldp-hero-actions").on({mouseenter:function(){t.addClass("animate")},mouseleave:function(){t.removeClass("animate")}})},at=function(){$("#headerMapBtn").on("click",function(){MOVE.LDP.TopHeroMap.showfullGallery(),$("#photoGalleryMap").click(),$(window).trigger("scroll",["no-bm-loading"])})},ot=function(){$("body").on("SavedListing",function(){$("#topSaveBtn").find(".ra-heart").addClass("top-savedbtn-animation")})},nt=function(){$(".js-haven-cta").on("click",function(){st()}),$("#homes-near-street-wrapper").on("click",".js-haven-cta",function(){st()})},st=function(){var t=h?"disable-haven-dashboard-auto-popover":"disable-haven-auto-popover";if(MOVE.Helper.hasSessionStorage()&&(window.sessionStorage.setItem(t,"true"),window.sessionStorage.setItem("is-from-pdp","true")),MOVE.Helper.isMobile()||1==MOVE.CONSTANTS.IS_IPAD){$('.haven[data-toggle="popover"]').popover("hide")}},rt=function(){var t=$('.haven[data-toggle="popover"]');MOVE.DOMHelper.initPopOverHover($("#listing-header"));var e,i;MOVE.Helper.hasSessionStorage()&&(e=window.sessionStorage.getItem("disable-haven-auto-popover"),i=window.sessionStorage.getItem("disable-haven-dashboard-auto-popover")),(!h&&"true"!==e||h&&"true"!==i)&&lt(t)},lt=function(t){setTimeout(function(){t.popover("show")},2e3),t.on("shown.bs.popover",function(){MOVE.Helper.isMobile()&&$(".popover").css("left",parseInt($(".popover").css("left"))+15+"px"),t.data("shown-on-load")||setTimeout(function(){t.popover("hide"),t.data("shown-on-load",!0)},8e3)})},dt=function(){c.RdcHorizontalCarousel({loop:!1,showNav:"show",items:1,moveBy:"item",autoWidth:!1})},ht=function(){var t=$("#ldp-additional-info").get(0),e=$("#header-navbar").height()||0,i=$("#ldp-sticky-bar").height()||0,a=i>e?i:e;t&&t.getBoundingClientRect().top>a&&(t.scrollIntoView(),$(document).scrollTop($(document).scrollTop()-a))},ct=function(t){t&&"FL"===t.state_code&&"Naples"===t.city&&($(".ldp-branding-link").off("click"),$(".ldp-branding-link").on("click",ht))};return t.LdpPageSpecific={init:p,googleNoImageUrl:Q,initLoadMore:k,heroTopMap:J,clickFsGalleryMapBtn:at,modalClickEvent:T,setupDrivingDirections:K},t.LdpPageSpecific}(MOVE.LDP||{});var d=MOVE.LDP.LdpPageSpecific.initLoadMore,h=MOVE.LDP.LdpPageSpecific.heroTopMap,c=MOVE.LDP.LdpPageSpecific.clickFsGalleryMapBtn,p=MOVE.LDP.LdpPageSpecific.modalClickEvent,u=MOVE.LDP.LdpPageSpecific.setupDrivingDirections},33:function(t,e,i){"use strict";var a=i(35),o=function(){function t(t,e){var i=[],a=!0,o=!1,n=void 0;try{for(var s,r=t[Symbol.iterator]();!(a=(s=r.next()).done)&&(i.push(s.value),!e||i.length!==e);a=!0);}catch(t){o=!0,n=t}finally{try{!a&&r.return&&r.return()}finally{if(o)throw n}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();MOVE.MORTGAGE=function(t){var e=null,i=function(t){null===e&&(e=s());var i="";return null!==e&&null!==e[t]&&(i=e[t]),i},n=function(t){return t.isDesktop?"web_":t.isTablet?"tabletw_":!!t.isPhone&&"mobilew_"},s=function(){var t=window.location,e=t.search.slice(1).replace(/[#?]/g,"&").split("&").map(function(t){return t.split("=")}).reduce(function(t,e){if(2!==e.length)return t;try{var i=e.map(decodeURIComponent),a=o(i,2),n=a[0],s=a[1];t[n]=s.replace(/\//g,"")}catch(e){return t}return t},{}),i=t.hash.slice(1).replace(/[#?]/g,"&").split("&").map(function(t){return t.split("=")}).reduce(function(t,e){if(2!==e.length)return t;try{var i=e.map(decodeURIComponent),a=o(i,2),n=a[0],s=a[1];t[n]=s.replace(/\//g,"")}catch(e){return t}return t},{});return $.extend({},e,i)},r=function(t,e,i){return null===t||void 0===t||isNaN(t)||t<e?t=e:t>i&&(t=i),t},l=function(t){return t.toFixed(3)+"%"},d=function(t){var e=t.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,");return e=e.split("."),e[0]},h=function(t){return t&&t.val()?parseFloat(t.val().replace("%","")):null},c=function(t){return t&&t.val()?parseInt(t.val().replace(/\$|,/g,""),10):null},p=function(t){return"$"+u(t)},u=function(t){t+="";for(var e=t.split("."),i=e[0],a=e.length>1?"."+e[1]:"",o=/(\d+)(\d{3})/;o.test(i);)i=i.replace(o,"$1,$2");return i+a},f=function(t,e,i){return(t===a.a||t===a.k)&&($(e.target).trigger("change"),t===a.a&&"function"==typeof i&&i(e),!0)},m=function(t){return t>=a.l&&t<=a.m},g=function(t){return t===a.i||t===a.j},v=function(t){return t===a.e||t===a.k||0===t},y=function(t){return/firefox/i.test(navigator.userAgent)?!!(t.keyCode&&t.keyCode>0)||1===t.target.value.split(".").length:1===t.target.value.split(".").length},_=function(t){return!!(t.keyCode&&t.keyCode>0)&&!t.shiftKey},b=function(){var t=$(this);if(event.which===a.a&&w(event),M(event)||!event.which!=a.e){var e=t.val(),i="$"+e.replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,",");return t.val(i).addClass("changed"),!0}},M=function(t){return t.which>=a.l&&t.which<=a.m},x=function(){$(document,".page-content").on("mousedown touchend",function(){$(".price-input input").each(w)})},w=function(t){var e=$(this);t&&$(t.target).is("input")&&(e=$(t.target)),e.hasClass("changed")&&(e.trigger("change"),e.removeClass("changed"))},k=function(t,e){return D(t,e,!0,!1,!1,!1,!1,!1)},O=function(t,e){return D(t,e,!0,!1,!1,!1,!1,!0)},C=function(t,e){return D(t,e,!0,!1,!1,!0,!1,!0)},E=function(t,e){return D(t,e,!0,!0,!0,!0,!0,!0)},D=function(t,e,i,o,n,s,r,l){var d=t.which?t.which:t.keyCode;if(f(d,t,e))return!0;if(g(d))return _(t);if(i&&m(d))return!0;if(o){if(d>=65&&d<=90)return!0;if(d>=97&&d<=122)return!0}return!(!n||44!==d)||(s&&45===d?0===t.target.selectionStart:!(!r||32!==d)||(l&&d===a.f?y(t):v(d)))},T=function(){var e="",i=t.UserActivity.getRecentSearches();if(i&&i.length>0){var a=i[i.length-1].query;a.postal_code?e=a.postal_code:a.city&&a.state_code&&(e=a.city+","+a.state_code)}return e},A=function(e){if(!(void 0===t.UserActivity||void 0===e||e.indexOf(",")<=0)){var i=e.split(","),a={};3===i.length?(a.searchType="postal_code",a.zip=i[0],a.city=i[1],a.state_code=i[2]):(a.searchType="city",a.zip="",a.city=i[0],a.state_code=i[1]),void 0!==a.city&&void 0!==a.state_code&&t.UserActivity.updateRecentSearches({searchType:"mortgage",criteria:{postal:a.zip,city:a.city.trim(),state:a.state_code.trim(),searchType:a.searchType}},!1)}},P=function(e,i,a){var o={validate_geo:{slug_prefix:t.CONSTANTS.RDC_URL_STEMS.MORTGAGE},autocomplete_suggest:{area_types:"city,postal_code"},includeZip:a,validateSuccessCallback:function(e){A(e.location);var a=t.Helper.setCookieExpiry(43200);$.cookie("HF_location",e.slug,{path:"/",expires:a}),i&&i(e.location,e.zip,e.city,e.state)},validateSearchCriteriaCallback:function(){return!e.val().match(/^([0-9]+)\ +([a-z]*)$/gi)},placeholderText:"Please Enter a City or Zip Code"};t.AutoComplete.init(e,null,!1,o)},S=function(t){$("[data-omtag]",t).click(function(t){var e=t.currentTarget.getAttribute("data-omtag");e&&RdcTracking.trackEvent("click",{linkName:e})})};return t.MORTGAGE={addCommas:u,getUrlVars:s,getQueryValue:i,validateRange:r,addDollarCommas:p,removeDollarCommas:c,formatCurrency:b,monitorTouchEndForPriceInputs:x,fireChangeEvent:w,removePercentage:h,moneyFormatter:d,rateFormatter:l,getSearchLocation:T,saveLocationToLocalStorage:A,locationControlAutoCompleteSetup:P,restrictNumbersOnly:k,restrictNumbersAndDecimalPointOnly:O,restrictNumbersAndDecimalPointAndNegativeOnly:C,restrictNumAlphabetOnly:E,getDevicePrefix:n,trackClick:S},t.MORTGAGE}(MOVE||{})},38:function(t,e,i){"use strict";i.d(e,"a",function(){return a});var a=function(){if(!MOVE_DATA.leadid_token){var t=document.createElement("script");t.id="LeadiDscript_campaign",t.type="text/javascript",t.async=!0,t.src=document.location.protocol+"//web.archive.org/web/20200819065000/https://d1tprjo2w7krrh.cloudfront.net/campaign/01836014-7527-fd48-9b7f-1a40a9705cfe.js",document.body.appendChild(t),o()}},o=function(){var t=setInterval(function(){MOVE_DATA.leadid_token&&clearInterval(t);var e=$("#leadid_token");e&&e.length&&(MOVE_DATA.leadid_token=e.val())},500);setTimeout(function(){clearInterval(t)},8e3)}},59:function(t,e,i){"use strict";function a(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5;if(t.hasClass("hide")||0===t.find(".owl-carousel").children("div").length)return void t.addClass("hide");var a=t.find(".rdc-carousel"),n=e||6,s=i||5;a.RdcHorizontalCarousel({items:n,loop:!1,showNav:"show",margin:s,moveBy:"set"}),t.find(".browse-module-card").on("tap",function(){$(this).find(".bm-link-overlay").trigger("click")}),MOVE.DOMHelper.unveilLoadImages("img",{},a),(MOVE_DATA.isPhone||MOVE_DATA.isTablet)&&o()}function o(){window.blockMenuHeaderScroll=!1,$(window).on("touchstart",function(t){1==$(t.target).closest(".owl-item").length&&(window.blockMenuHeaderScroll=!0)}),$(window).on("touchend",function(){window.blockMenuHeaderScroll=!1}),$(window).on("touchmove",function(t){window.blockMenuHeaderScroll&&t.preventDefault()})}e.a=a},603:function(t,e,i){"use strict";var a=i(226),o=i(38);MOVE.LDP.ContactLocalAgentModal=function(t){var e,n,s,r,l,d,h,c,p,u,f,m,g,v,y=$(document),b=$("#modal-container"),M=$("#pdp-comparable-homes-section .comparable-property-card:first"),x=MOVE_DATA.propertyDetails,w="#pdp-contact-local-agent-modal";return l=function(t){v=t,p(),c(),h(f),n.add(),b.on("shown.bs.modal",o.a)},h=function(t){var e=t.find("input.error");e.length>0&&(e.next("label.error").remove(),e.removeClass("error"))},d=function(){p(),y.on("click","[data-toggle='modal'][data-target^='#pdp-contact-local-agent-modal']",g.onClick())},p=function(){u=b.find(w),f=u.find("form"),m=new e,g=new s({propertyData:m})},c=function(){r.update({propertyData:m})},e=function(){var t,e;return v?(t=v.property_id,e=v.listing_id):(t=M.data("propertyid"),e=M.data("listingid")),{property_id:t,listing_id:e}},r=function(){var t,e,i,a,o,n,s,r;return s=function(){var t=f.find("textarea#lead_message");f.find("input#modified").val(t.val()!==i.values["textarea#lead_message"]);var e=MOVE_DATA.propertyDetails.lead_capture_product;return"co_broke"!=e&&"advantage_pro"!=e&&"seller"!=e||f.find("#leadid_token").val(MOVE_DATA.leadid_token),f.serialize()},n=function(i){t=_.result(i,"propertyData"),e(),a.load()},o=function(){a.store()},e=function(){i={values:{"input#leads_form_data_lead_service":"LCS","input#property_id":t.property_id,"input#listing_id":t.listing_id,"input#status":"for_sale","input#form_variant":"","input#recent_searches":JSON.stringify(MOVE.UserActivity.getRecentSearches()),"input#recent_views":JSON.stringify(MOVE.UserActivity.getRecentViews()),"input#modified":"false","textarea#lead_message":_.template("I'm interested in buying a home and would like more information about homes for sale in <%= city %>, <%= state_code %>.")(x)}},_.each(i.values,r("val"))},r=function(t){var e=Array.prototype.slice.call(arguments,1);return function(i,a){var o=f.find(a);o[t].apply(o,e.concat(i))}},a=function(){var t,e;return t=function(){MOVE.Common.getCachedInputs(f)},e=function(){MOVE.Common.cacheInputs(f.find(".fullName"),f.find(".email"),f.find(".phone"))},{load:t,store:e}}(),{update:n,store:o,serialize:s}}(),n=function(){var t,e,o,n,s,l,d,h,c,p;return e=function(){t=f.find(".phone")},o=function(){t.on("keypress",MOVE.DOMHelper.validatePhone)},s={"leads_form_data[name]":{required:!0,pattern:/^(?! *$)[a-zA-Z.+ '-]+$/},"leads_form_data[email]":{required:!0,email:!0,pattern:/^.+@.+\..+$/},"leads_form_data[phone]":{required:!0,phoneUS:!0}},l=MOVE.LEAD.Common.validationMessage(),c=function(){var t="#leadSimpleThankYouShared",e=_.once(function(e){b.append(e),$(t).find(".thankyou-save").hide(),$(t).find(".thankyou-done").show()});return{show:function(i){e(i),$(t).modal()}}}(),p=function(t,e){MOVE_DATA.leadAdobeDTM||(MOVE_DATA.leadAdobeDTM={}),MOVE_DATA.leadAdobeDTM.leadGuid=t,MOVE_DATA.leadAdobeDTM.leadPlacement="ldp:similar-homes:contact-agent",MOVE_DATA.adobeDTM.locationData=e},n=function(){$.ajax({data:r.serialize(),url:"/leads",type:"POST",success:function(t){var e=JSON.parse(t.data);if(r.store(),u.modal("hide"),e.meta.success&&!e.meta.errors.length){c.show(e.thankyou_modal);var o={city:x.city,state_code:x.state_code,postal_code:x.postal_code},n=Object.assign({leadGuid:e.lead.id,leadValue:e.lead_value,initialLeadValue:e.initial_lead_value,placementData:"ldp:similar-homes:contact-agent",productType:MOVE_DATA.adobeDTM.productType},o,v);p(e.lead.id,o),i.i(a.b)(n)}else MOVE.Common.addNewRelicLog("pdpContactLocalAgentLcsFailure",MOVE.Common.leadErrorMsg(e))}})},h=function(){f.validate({onkeyup:!1,rules:s,messages:l,submitHandler:n})},d=function(){e(),o(),h()},{add:_.once(d)}}(),s=function(t){return{onClick:function(){var e=!1,i=function(){e=!0},a=function(e){return e.property=t.propertyData,e},o=function(t){return _.chain(t).partial(w).compose(a).value()},n=o(MOVE.ModalHelper.fetchModal),s=o(MOVE.ModalHelper.initModalData);return function(t){e?s(t):n(t).then(i)}}}},t.ContactLocalAgentModal={init:l,addListener:d},t.ContactLocalAgentModal}(MOVE.LDP||{})},604:function(t,e){MOVE.LDP.LinkingModules=function(t){var e=function(){var t=$(".footer-linking-modules .list-unstyled.link-secondary");$.makeArray(t).some(function(t){return $(t).prop("childElementCount")>5})&&MOVE.Common.readMore("#ldp-linking-modules",108,"See")};return t.LinkingModules={init:e},t.LinkingModules}(MOVE.LDP||{})},605:function(t,e,i){"use strict";var a=i(919),o=i.n(a),n=i(253),s=i(111),r=i(202),l=i(5),d=i(119);MOVE.LDP.MapLayers=function(t){var e,a,h,c,p,u,f,m,g,v,y,b,M=[],x=MOVE.DataStore.getData("mapConfiguration"),w=function(){var t,w,k=$("#ldpAmenities"),O=x,C=null;e={area_type:"city",city:MOVE_DATA.propertyDetails.city,latitude:MOVE_DATA.propertyDetails.lat,longitude:MOVE_DATA.propertyDetails.long,postal_code:MOVE_DATA.propertyDetails.postal_code,state:MOVE_DATA.propertyDetails.state_code};var E=MOVE_DATA.propertyDetails;p=function(){O&&(i.i(s.a)(u),i.i(s.b)("rdc-ldp"))},u=function(t){var e=t.Component,i=t.Client,a=t.Utils;f({Client:i,Utils:a})(function(){g(e)(function(t){MOVE.MapHelper.createMapMessage(t,function(){v(t)})})})},v=function(t){i.i(d.b)(t,C),(E.flags||{}).is_address_suppressed||(y=new google.maps.Marker({position:new google.maps.LatLng(parseFloat(MOVE_DATA.propertyDetails.lat),parseFloat(MOVE_DATA.propertyDetails.long)),map:t.map,icon:i.i(n.a)(o.a)})),MOVE.LDP.MapLayers.mapLDP=t,0===M.length&&(c(),h(M)),MOVE.MapHelper.triggerOnDrag(k).on("drag.map",function(e){m(e),t.map.setClickableIcons(!1),_.defer(function(){t.map.setClickableIcons(!0)})})},b=function(){a&&y&&(a.map.panTo(y.getPosition()),a.map.setZoom(14),a.map.setCenter(y.getPosition()))},c=function(){M.push({state:e.state,city:e.city,postal_code:e.postal_code,name:e.city,type:"area-city"})},h=function(t){MOVE.LDP.MapLayers.mapLDP.client.getAreasByName({areas:JSON.stringify(t)},function(t){var e,i=[];t.list&&(i=t.list),i.length>0&&($.each(i,function(t,e){e.type="search-area"}),e=a.client.createResponse(i),a.areas.createView(i)&&(a.areas.setTypeEnabled("search-area",!0),e&&a.areas.clear("search-area")))})},m=function(t){a.schools.isTooltipTarget(t.target)||a.schools.closeInfoWindow()},f=function(o){var n=o.Client,s=o.Utils;return function(o){var r,l,h,c=function(){void 0===C.view.center&&(C=null),o&&o()};e&&(h=e.longitude,l=e.latitude,-1!==h&&0!==h&&-1!==l&&0!==l&&(r={longitude:h,latitude:l})),null===C&&(C={view:{center:r,zoom:14}}),void 0===w&&(w=new s),void 0===t&&(t=new n({id:"rdcV8",url:O.service_url})),void 0===C.view.center||(E.flags||{}).is_address_suppressed?i.i(d.f)({property:E,_client:t,_utils:w,_youAreHere:C,finished:c}):c(),a&&a.areas.show("search-area")}},g=function(i){return function(o){var n,s=!$.Device.isMobile(navigator.userAgent)&&!0,d={fullscreenControl:!1,streetViewControl:!1,scrollwheel:!1,mapTypeControl:!0,zoomControl:!0,keyboardShortcuts:s,overviewMapControl:s,panControl:s,gestureHandling:"cooperative",rotateControl:s,scaleControl:s,mapTypeControlOptions:{style:google.maps.MapTypeControlStyle.HORIZONTAL_BAR,position:google.maps.ControlPosition.RIGHT_TOP},zoomControlOptions:{style:google.maps.ZoomControlStyle.SMALL},styles:[{featureType:"poi",stylers:[{visibility:"off"}]}]};n=null===C?{center:{longitude:-98.579416,latitude:39.828328},zoom:4}:void 0,n=C.view,$.extend(!0,d,n),a=new i({version:O.map_version,cdn:O.cdn_url,client:t,utils:w,container:k,mapOptions:d,noticeVersion:"1.0.0",geo:e,enabled:{areas:!0,properties:!1,youAreHere:!0,waiting:!0,streetView:!0,schools:!0,tiles:!0,amenities:!0,overlayControls:!0,appType:!0,moveADs:!0,transit:!0},appType:MOVE_DATA.is_building?"bdp":"ldp",trackingOptions:{tagName:"omtag"},ny_exp:l.d.ny_exp,ny_location:l.d.ny_location,propertyAttributes:{position:{lat:MOVE_DATA.propertyDetails.lat,long:MOVE_DATA.propertyDetails.long},noiseData:E.noise_data},extensions:{overlayControls:{position:google.maps.ControlPosition.LEFT_BOTTOM,crime:!0,amenities:!0,schools:!0,transit:!0,noise:!0,flood:"V"==MOVE_DATA.ab_flood_data&&(["for_sale","recently_sold"].includes(MOVE_DATA.propertyDetails.status)||["Off Market"].includes(MOVE_DATA.propertyDetails.status_display)),events:{loaded:function(t){$(t).find("#amenityLayerToggle").attr("data-omtag","ldp:map:amenities")}},defaults:r.a.overlayControlsDefaults},moveADs:{getData:function(){return MOVE.AmenitiesNearYouADS.getAdsData()}},streetView:{panoramaOptions:{enableCloseButton:!1,zoomControlOptions:{style:1}}},tiles:{legend:google.maps.ControlPosition.BOTTOM_CENTER,events:{toggleClicked:function(t){var e=$(".ldp-map-crime-sponsor"),i=$(".js-ldp-sponsorship");t?(a.youAreHere.hide(),b(),e.removeClass("hide-attribution"),i.addClass("hide-attribution")):(a.youAreHere.show(),e.addClass("hide-attribution"),i.removeClass("hide-attribution"))}}},amenities:{limit:50,radius:5,panControl:!1,events:{toggleClicked:function(){b()}}},schools:{limit:75,searchEnabled:!0,nearby:!0,events:{toggleClicked:function(t){var e=$(".ldp-map-school-sponsor"),i=$(".js-ldp-sponsorship");t?(a.youAreHere.hide(),b(),e.removeClass("hide-attribution"),i.addClass("hide-attribution")):(a.youAreHere.show(),e.addClass("hide-attribution"),i.removeClass("hide-attribution"))}}},transit:{events:{toggleClicked:function(){}}},flood:{legend:google.maps.ControlPosition.BOTTOM_CENTER,events:{toggleClicked:function(){}}}}},o)}};!function(){k.appear(),k.on("appear",function(){$("#ldp-amenities-map-container").addClass("ldp-amenities-loading"),k.off("appear"),p()}),$.force_appear()}()};return t.MapLayers={init:w},t.MapLayers}(MOVE.LDP||{})},606:function(t,e,i){"use strict";var a=i(204),o=i(206),n=i(13),s=i(205),r=i(245),l=".custom-view-type.map-cta";MOVE.LDP.PhotoGallery=function(t){var e,d,h,c,p,u,f,m,g,v,y,_,b,M,x,w,k,O,C=$("#ldpPhotoGalleryNavigation"),E=$("#fullScreenphotoGalleryLead"),D=$("#photoGalleryMrect"),T="co_broke"===MOVE_DATA.propertyDetails.lead_capture_product,A="small"===MOVE.Helper.detectViewPort()||"medium"===MOVE.Helper.detectViewPort()||"large"===MOVE.Helper.detectViewPort(),P=$("#ldp-fullscreen-gallery").hasClass("js-fsgallery-leadad"),S=$("#ldp-fullscreen-gallery").hasClass("ldp-vert-gall"),L=$(".ldp-vert-gall-container"),V=$(".list-gallery-wrapper"),I=$("#ldpPhotoshero"),H=$(".mobile-fsgallery-body"),N=function(t){m=t.selectedPhotoIndex,e=!0,v=t.galleryContainer||$("#ldpPhotoGallery"),y=t.navContainer||$("#ldpPhotoGalleryNavigation"),_=t.showPhotoCount,g=t.thumbnailContainer||$("#photoCarousel","#ldp-fullscreen-gallery"),x=t.noPhotos,M=t.photosCount;var a=v&&v.attr("id"),o=!1;if(a&&(o=a.includes("featurePhotoGallery")||a.includes("timelinePhotoGallery")),0===v.find(".owl-loaded").length&&(x||S&&!o||d(),h()),_){L.find("img").unveil(400,L,function(){$(this).load(function(){i.i(s.a)($(this))})}),H.find("img").unveil(100,H),D.addClass("hide"),S&&MOVE.Medias.manualLoadAds(window.gptAds.gptadslotsFullPhotoGallery);var n=v.find("div.owl-item:not('.cloned')").length;n>1?n>m+1?$("#galleryFirstCount").text(m+1):n>m+2?$("#galleryFirstCount").text(m+2):$("#galleryFirstCount").text(m):$("#galleryFirstCount").text("1")}t.showAds&&m===MOVE_DATA.propertyDetails.photo_count-1&&!MOVE_DATA.is_building&&(MOVE.Medias.manualLoadAds(window.gptAds.gptadslotsFullPhotoGallery),D.removeClass("hide")),w(),k(),O(),MOVE.LDP.Photos.preloadPhotos(v,m),c(),MOVE.DOMHelper.highlightThumbnail(m,g)},z=function(){return P&&A||!A&&E.length&&P?MOVE_DATA.propertyDetails.photo_count>=1||M>0:MOVE_DATA.propertyDetails.photo_count>1||M>0};return d=function(){var t,e,a,o,n={target:v,currentIndex:m,items:1,margin:25,touchDrag:z(),mouseDrag:z(),navigationContainer:y};if(e=function(){C.find(".owl-next .arrow-right").attr("data-omtag","edw:ldp:photo:next"),C.find(".owl-next .ra-chevron-right").attr("data-omtag","edw:ldp:photo:next")},a=function(){A?(E.on("swipeleft",function(){$("#ldpPhotoGallery").trigger("to.owl.carousel",[MOVE_DATA.propertyDetails.photo_count+1,1e3,!0])}),E.on("swiperight",function(){$("#ldpPhotoGallery").trigger("to.owl.carousel",[MOVE_DATA.propertyDetails.photo_count-1,1e3,!0])})):(E.on("swipeleft",function(){$("#ldpPhotoGallery").trigger("to.owl.carousel",[MOVE_DATA.propertyDetails.photo_count+1,0,!0])}),E.on("swiperight",function(){$("#ldpPhotoGallery").trigger("to.owl.carousel",[MOVE_DATA.propertyDetails.photo_count-1,0,!0])}))},o=function(){E.on("swipeleft",function(){$("#ldpPhotoGallery").trigger("to.owl.carousel",[MOVE_DATA.propertyDetails.photo_count+2,1e3,!0])}),E.on("swiperight",function(){$("#ldpPhotoGallery").trigger("to.owl.carousel",[MOVE_DATA.propertyDetails.photo_count,1e3,!0])})},_){t=function(t,n){var s=1===$("#photoGalleryMrect").length?1:0;MOVE_DATA.propertyDetails.photo_count>1?t>n+s&&n!==MOVE_DATA.propertyDetails.photo_count?($("#galleryFirstCount").text(n+1),MOVE.DOMHelper.highlightThumbnail(n,g),s>0&&t<=n+s+1+window.gptAds.gptadslotsFullPhotoGallery.preload&&MOVE.Medias.manualLoadAds(window.gptAds.gptadslotsFullPhotoGallery),D.addClass("hide"),E.addClass("hide"),C.find(".owl-next span").remove(),e(),MOVE_DATA.ab_mid_gallery_cta&&(i.i(r.a)(t,n+1)?i.i(r.b)():i.i(r.c)())):t>1&&n===MOVE_DATA.propertyDetails.photo_count?($("#galleryFirstCount").text(n),s>0&&!A||A?C.find(".owl-next span").remove():a(),A?A&&$(".js-fsgallery-leadad").length&&T?(E.removeClass("hide"),D.addClass("hide"),C.find(".owl-next .arrow-right").attr("data-omtag","ldp:photo:leadtoad"),C.find(".owl-next .ra-chevron-right").attr("data-omtag","ldp:photo:leadtoad"),a()):(MOVE.Medias.manualLoadAds(window.gptAds.gptadslotsFullPhotoGallery),D.removeClass("hide"),E.addClass("hide"),a()):s>0?(E.addClass("hide"),D.removeClass("hide")):(D.addClass("hide"),E.removeClass("hide"))):t>1&&n===MOVE_DATA.propertyDetails.photo_count+1?($("#galleryFirstCount").text(n-1),MOVE.Medias.manualLoadAds(window.gptAds.gptadslotsFullPhotoGallery),!A&&E.length?(E.removeClass("hide"),D.addClass("hide"),o()):T?(D.removeClass("hide"),E.addClass("hide")):(D.addClass("hide"),E.removeClass("hide"),o()),e()):($("#galleryFirstCount").text(n-1),D.addClass("hide"),E.addClass("hide"),e()):1===MOVE_DATA.propertyDetails.photo_count&&$(".js-fsgallery-leadad").length&&(t>1&&n===MOVE_DATA.propertyDetails.photo_count?(E.removeClass("hide"),a()):(E.addClass("hide"),e()))};var s=function(){D.addClass("hide")};MOVE.LDP.Photos.init(n,t,s)}else t=function(t,e){MOVE.DOMHelper.highlightThumbnail(e,g)},MOVE.LDP.Photos.init(n,t)},h=function(){MOVE.DOMHelper.loadCarouselThumbnails(g),g.off("click",".owl-item").on("click",".owl-item",function(){var t=$(this),i=g.data("owl.carousel"),a=i.relative(t.index());v.trigger("to.owl.carousel",[a,200,!0]),g.find("div.highlight").removeClass("highlight"),t.addClass("highlight"),v.hasClass("hide")&&(u(),e=!0),b(!1)}),$("#photoGalleryMap").off("click").on("click",function(){p(!1),b(!0)}),$("#photoGalleryStreet").off("click").on("click",function(){p(!0),b(!0)}),$("#photoVerticalGallery").off("click").on("click",function(){I.find(".owl-item.active").first().click(),document.getElementById("mobile-photo1").scrollIntoView(!0)}),$("#ldp-fullscreen-gallery .jsLdpGalleryLeadCta").off("click").on("click",function(t){i.i(n.b)(t)})},$("#viewOriginal").on("click",function(){if(void 0!==v){var t=v.find(".owl-item.active img").attr("src");t=void 0!==t?t.replace(/xd-(\w+)/,"r"):"",window.open(t,"_blank")}}),c=function(){v.trigger("to.owl.carousel",[m,200,!0]),C.removeClass("hide"),v.hasClass("hide")&&(u(),e=!0)},f=function(){var t=$("#ldpBottomLeadModal");1===t.length&&t.modal("hide")},k=function(){$("#ldp-fullscreen-gallery").on("hide.bs.modal",function(){$("#mapCompControls").find(".active").click(),$(l).is(":visible")&&$(l).click()})},p=function(t){e&&(u(),e=!1);var i=void 0,o=$("#ldp-fullmap-leftcontent").length;if(MOVE.Helper.hasSessionStorage()&&(i="true"===window.sessionStorage.getItem("closeMapLead")),i&&o&&($("#ldp-fullmap-leftcontent").remove(),$("#ldp-map-wrapper").removeClass("offset-mapwrapper")),"bdp"===MOVE_DATA.adobeDTM.pageType)MOVE.LDP.Map.init("photoGalleryLDPMap",!0,t);else if($(l).is(":visible")&&!t)$(l).click(),setTimeout(function(){a.a.showStreetView(!1)},500),$("#ldp-map-container").removeClass("street-view");else if($("#photoGalleryLDPMap").is(":empty")){var n=MOVE_DATA.propertyDetails;n.trackingOptions={trackingOptions:{overlays:{componentType:"gallery"}}},$("#ldp-fullscreen-gallery").show(),$("#ldp-map-container").removeClass("street-view"),a.a.render({propertyData:n,$element:$("#photoGalleryLDPMap")}),t&&(setTimeout(function(){a.a.showStreetView(t)},500),$("#ldp-map-container").addClass("street-view"))}else a.a.showStreetView(t),$("#ldp-map-container")[t?"addClass":"removeClass"]("street-view");D.addClass("hide")},w=function(){$("#ldp-fullmap-lead-toggle").off("click").on("click",function(){$("#ldp-fullmap-leftcontent").remove(),$("#ldp-map-wrapper").removeClass("offset-mapwrapper"),i.i(o.c)()})},u=function(){v.toggleClass("hide"),$("#galleryPhotoCount").toggleClass("hide"),$("#photoGalleryLDPMap").closest(".ldp-map-container").toggleClass("hide")},O=function(){L.scroll(function(){V.each(function(){var t=$(this).offset().top;if(t>0&&t<200&&!$(this).hasClass("active-img")){$(this).addClass("active-img"),$(this).prev().removeClass("active-img"),$(this).next().removeClass("active-img");var e=$(this).find("img").data("photoindex");I.find(".owl-carousel").trigger("to.owl.carousel",[e,0])}})})},b=function(t){C.toggleClass("hide",t)},t.PhotoGallery={init:N,hideLeadForm:f},t.PhotoGallery}(MOVE.LDP||{})},607:function(t,e){MOVE.LDP.TopHeroMap=function(t){"use strict";var e,i=!1,a=!1,o=$("#topLDPMapHero").parent(),n=$("#ldphero3dTours"),s=function(t){var s=function(){i=!1,a=!1,o.addClass("hide"),t&&n.addClass("hide")},r=function(){$("#hero-top-map").removeClass("hide"),$("#hero-top-map-street-view").addClass("hide")},l=function(){s(),r()},d=function(t){s(),o.removeClass("hide"),i?t?(a=!0,MOVE.LDP.Map.showStreetView(a)):a&&(a=!1,MOVE.LDP.Map.showStreetView(a)):(MOVE.LDP.Map.init("topLDPMapHero",!0,t),i=!0,a=t)},h=function(){s(),n.removeClass("hide");var t=$("#3dIframehero");t.attr("src",t.data("src"))},c=function(t){$("#fullScreenBtnhero").toggleClass("hide",t)},p=function(t){$(".label-new").add(".label-pending").add(".label-sold").toggleClass("hide",t)},u=function(t){$("#heromapDirectionsBtn").toggleClass("hide",t)},f=function(){$("#hero-top-map").toggleClass("hide"),$("#hero-top-map-street-view").toggleClass("hide")},m=function(t){l(),c(!1),p(!1),u(!0),e(),t.preventDefault()},g=function(e){d(!1),f(),p(!1),u(!1),t&&c(!0),e.preventDefault()},v=function(e){d(!0),f(),p(!0),u(!0),t&&c(!0),e.preventDefault()};$("#hero-view-photo").click(m),$("#hero-top-map").click(g),$("#hero-top-map-street-view").click(v),$("#map-aside-action-close").click(function(t){l(),c(!1),u(!0),t.preventDefault()}),$("#heroview-3dtours").click(function(t){h(),c(!0),u(!0),t.preventDefault()}),!1===t&&(d(!0),u(!0));var y=function(t){var e=t.find("div.owl-item:not('.cloned')");e.length&&(t.trigger("remove.owl.carousel",e.length-2),t.trigger("prev.owl.carousel"))};$("#photomrect1AdsClose").off("click").click(function(t){t.stopPropagation(),$("#ldp-hero-photo-wrap .fsgallery-ad").remove(),y($("#ldpPhotos"))})};e=function(){var t=parseInt($("#firstPhotoCount").html(),10)-1;$("#ldp-fullscreen-gallery").modal({show:!0});var e={selectedPhotoIndex:t,showAds:!0,galleryContainer:$("#ldpPhotoGallery"),navContainer:$("#ldpPhotoGalleryNavigation"),thumbnailContainer:$("#photoCarousel","#ldp-fullscreen-gallery"),showPhotoCount:!0};MOVE.LDP.PhotoGallery.init(e)};if($(".js-fullgallery-trigger").length>0)for(var r=$(".js-fullgallery-trigger"),l=0;l<r.length;l++)r[l].addEventListener("click",function(){return function(){$("body").on("click","#ldpPhotos .owl-item.active:first",function(){$(this).children().hasClass("ldp-herocarousel-ctawrapper")||e()})}}(),!0);return t.TopHeroMap={init:s,showfullGallery:e},t.TopHeroMap}(MOVE.TopHeroMap||{})},608:function(t,e){MOVE.LDP.TopMap=function(t){"use strict";var e=!1,i=!1,a=$("#ldpPhotos"),o=$("#topLDPMap").parent(),n=$("#ldp3dTours"),s=$("#ldpPhotoMrect"),r=function(t){var r=function(){e=!1,i=!1,a.addClass("hide"),o.addClass("hide"),n.addClass("hide"),s.addClass("hide")},l=function(){$("#top-map").removeClass("hide"),$("#top-map-street-view").addClass("hide")},d=function(){r(),a.removeClass("hide"),l()},h=function(t){r(),o.removeClass("hide"),e?t?(i=!0,MOVE.LDP.Map.showStreetView(i)):i&&(i=!1,MOVE.LDP.Map.showStreetView(i)):(MOVE.LDP.Map.init("topLDPMap",!0,t),e=!0,i=t)},c=function(){r(),n.removeClass("hide");var t=$("#3dIframe");t.attr("src",t.data("src"))},p=function(t){t.parent().find("a.active").removeClass("active"),t.addClass("active")},u=function(t){$("#fullScreenBtn").toggleClass("hide",t)},f=function(t){$("#ldpPhotosNavigation").toggleClass("hide",t)},m=function(t){$(".label-new").add(".label-pending").add(".label-sold").toggleClass("hide",t)},g=function(t){$("#mapDirectionsBtn").toggleClass("hide",t)},v=function(){$("#top-map").toggleClass("hide"),$("#top-map-street-view").toggleClass("hide")};$("#view-photo").click(function(t){d(),p($(this)),1===$("#ldpPhotos .owl-item.active .ldp-photo-cta").length&&$("#ldpPhotoMrect").removeClass("hide"),u(!1),f(!1),m(!1),g(!0),t.preventDefault()}),$("#top-map").click(function(t){h(!1),v(),p($(this)),u(!0),f(!0),m(!1),g(!1),t.preventDefault()}),$("#top-map-street-view").click(function(t){h(!0),v(),p($(this)),u(!0),f(!0),m(!0),g(!0),t.preventDefault()}),$("#view-3dtours").click(function(t){c(),p($(this)),u(!0),f(!0),m(!0),g(!0),t.preventDefault()}),window.location.href.search("ldp-map=1")>-1&&$("#top-map").click(),!1===t&&(h(!0),m(!0),g(!0))};return t.TopMap={init:r},t.TopMap}(MOVE.TopMap||{})},61:function(t,e,i){"use strict";i.d(e,"a",function(){return a}),i.d(e,"b",function(){return o}),i.d(e,"c",function(){return n}),i.d(e,"d",function(){return s});var a=16,o={TOP_LEFT:1,TOP:2,TOP_CENTER:2,TOP_RIGHT:3,LEFT_CENTER:4,LEFT:5,LEFT_TOP:5,LEFT_BOTTOM:6,RIGHT:7,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM:11,BOTTOM_CENTER:11,BOTTOM_RIGHT:12,CENTER:13},n={DEFAULT:0,DROPDOWN_MENU:2,HORIZONTAL_BAR:1,INSET:3,INSET_LARGE:4},s={DEFAULT:0,SMALL:1,LARGE:2,ak:3}},619:function(t,e,i){var a,o;!function(n,s,r){a=[i(44)],void 0!==(o=function(t){return r(t,n,s),t.mobile}.apply(e,a))&&(t.exports=o)}(this,document,function(t,e,i,a){(function(t,e,i,a){function o(t){for(;t&&void 0!==t.originalEvent;)t=t.originalEvent;return t}function n(e,i){var n,s,r,l,d,h,c,p,u,f=e.type;if(e=t.Event(e),e.type=i,n=e.originalEvent,s=t.event.props,f.search(/^(mouse|click)/)>-1&&(s=T),n)for(c=s.length,l;c;)l=s[--c],e[l]=n[l];if(f.search(/mouse(down|up)|click/)>-1&&!e.which&&(e.which=1),-1!==f.search(/^touch/)&&(r=o(n),f=r.touches,d=r.changedTouches,h=f&&f.length?f[0]:d&&d.length?d[0]:a,h))for(p=0,u=E.length;p<u;p++)l=E[p],e[l]=h[l];return e}function s(e){for(var i,a,o={};e;){i=t.data(e,k);for(a in i)i[a]&&(o[a]=o.hasVirtualBinding=!0);e=e.parentNode}return o}function r(e,i){for(var a;e;){if((a=t.data(e,k))&&(!i||a[i]))return e;e=e.parentNode}return null}function l(){H=!1}function d(){H=!0}function h(){R=0,$.length=0,I=!1,d()}function c(){l()}function p(){u(),P=setTimeout(function(){P=0,h()},t.vmouse.resetTimerDuration)}function u(){P&&(clearTimeout(P),P=0)}function f(e,i,a){var o;return(a&&a[e]||!a&&r(i.target,e))&&(o=n(i,e),t(i.target).trigger(o)),o}function m(e){var i,a=t.data(e.target,O);!I&&(!R||R!==a)&&(i=f("v"+e.type,e))&&(i.isDefaultPrevented()&&e.preventDefault(),i.isPropagationStopped()&&e.stopPropagation(),i.isImmediatePropagationStopped()&&e.stopImmediatePropagation())}function g(e){var i,a,n,r=o(e).touches;r&&1===r.length&&(i=e.target,a=s(i),a.hasVirtualBinding&&(R=F++,t.data(i,O,R),u(),c(),V=!1,n=o(e).touches[0],S=n.pageX,L=n.pageY,f("vmouseover",e,a),f("vmousedown",e,a)))}function v(t){H||(V||f("vmousecancel",t,s(t.target)),V=!0,p())}function y(e){if(!H){var i=o(e).touches[0],a=V,n=t.vmouse.moveDistanceThreshold,r=s(e.target);V=V||Math.abs(i.pageX-S)>n||Math.abs(i.pageY-L)>n,V&&!a&&f("vmousecancel",e,r),f("vmousemove",e,r),p()}}function _(t){if(!H){d();var e,i,a=s(t.target);f("vmouseup",t,a),V||(e=f("vclick",t,a))&&e.isDefaultPrevented()&&(i=o(t).changedTouches[0],$.push({touchID:R,x:i.clientX,y:i.clientY}),I=!0),f("vmouseout",t,a),V=!1,p()}}function b(e){var i,a=t.data(e,k);if(a)for(i in a)if(a[i])return!0;return!1}function M(){}var x,w,k="virtualMouseBindings",O="virtualTouchID",C="vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" "),E="clientX clientY pageX pageY screenX screenY".split(" "),D=t.event.mouseHooks?t.event.mouseHooks.props:[],T=t.event.props.concat(D),A={},P=0,S=0,L=0,V=!1,$=[],I=!1,H=!1,N="addEventListener"in i,z=t(i),F=1,R=0;for(t.vmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500},w=0;w<C.length;w++)t.event.special[C[w]]=function(e){var i=e.substr(1);return{setup:function(){b(this)||t.data(this,k,{}),t.data(this,k)[e]=!0,A[e]=(A[e]||0)+1,1===A[e]&&z.bind(i,m),t(this).bind(i,M),N&&(A.touchstart=(A.touchstart||0)+1,1===A.touchstart&&z.bind("touchstart",g).bind("touchend",_).bind("touchmove",y).bind("scroll",v))},teardown:function(){--A[e],A[e]||z.unbind(i,m),N&&(--A.touchstart||z.unbind("touchstart",g).unbind("touchmove",y).unbind("touchend",_).unbind("scroll",v));var a=t(this),o=t.data(this,k);o&&(o[e]=!1),a.unbind(i,M),b(this)||a.removeData(k)}}}(C[w]);N&&i.addEventListener("click",function(e){var i,a,o,n,s,r=$.length,l=e.target;if(r)for(i=e.clientX,a=e.clientY,x=t.vmouse.clickDistanceThreshold,o=l;o;){for(n=0;n<r;n++)if(s=$[n],0,o===l&&Math.abs(s.x-i)<x&&Math.abs(s.y-a)<x||t.data(o,O)===s.touchID)return e.preventDefault(),void e.stopPropagation();o=o.parentNode}},!0)})(t,0,i),function(t){t.mobile={}}(t),function(t,e){var a={touch:"ontouchend"in i};t.mobile.support=t.mobile.support||{},t.extend(t.support,a),t.extend(t.mobile.support,a)}(t),function(t,e,a){function o(e,i,o,n){var s=o.type;o.type=i,n?t.event.trigger(o,a,e):t.event.dispatch.call(e,o),o.type=s}var n=t(i),s=t.mobile.support.touch,r="touchmove scroll",l=s?"touchstart":"mousedown",d=s?"touchend":"mouseup",h=s?"touchmove":"mousemove";t.each("touchstart touchmove touchend tap taphold swipe swipeleft swiperight scrollstart scrollstop".split(" "),function(e,i){t.fn[i]=function(t){return t?this.bind(i,t):this.trigger(i)},t.attrFn&&(t.attrFn[i]=!0)}),t.event.special.scrollstart={enabled:!0,setup:function(){function e(t,e){i=e,o(n,i?"scrollstart":"scrollstop",t)}var i,a,n=this,s=t(n);s.bind(r,function(o){t.event.special.scrollstart.enabled&&(i||e(o,!0),clearTimeout(a),a=setTimeout(function(){e(o,!1)},50))})},teardown:function(){t(this).unbind(r)}},t.event.special.tap={tapholdThreshold:750,emitTapOnTaphold:!0,setup:function(){var e=this,i=t(e),a=!1;i.bind("vmousedown",function(s){function r(){clearTimeout(h)}function l(){r(),i.unbind("vclick",d).unbind("vmouseup",r),n.unbind("vmousecancel",l)}function d(t){l(),a||c!==t.target?a&&t.preventDefault():o(e,"tap",t)}if(a=!1,s.which&&1!==s.which)return!1;var h,c=s.target;i.bind("vmouseup",r).bind("vclick",d),n.bind("vmousecancel",l),h=setTimeout(function(){t.event.special.tap.emitTapOnTaphold||(a=!0),o(e,"taphold",t.Event("taphold",{target:c}))},t.event.special.tap.tapholdThreshold)})},teardown:function(){t(this).unbind("vmousedown").unbind("vclick").unbind("vmouseup"),n.unbind("vmousecancel")}},t.event.special.swipe={scrollSupressionThreshold:30,durationThreshold:1e3,horizontalDistanceThreshold:30,verticalDistanceThreshold:30,getLocation:function(t){var i=e.pageXOffset,a=e.pageYOffset,o=t.clientX,n=t.clientY;return 0===t.pageY&&Math.floor(n)>Math.floor(t.pageY)||0===t.pageX&&Math.floor(o)>Math.floor(t.pageX)?(o-=i,n-=a):(n<t.pageY-a||o<t.pageX-i)&&(o=t.pageX-i,n=t.pageY-a),{x:o,y:n}},start:function(e){var i=e.originalEvent.touches?e.originalEvent.touches[0]:e,a=t.event.special.swipe.getLocation(i);return{time:(new Date).getTime(),coords:[a.x,a.y],origin:t(e.target)}},stop:function(e){var i=e.originalEvent.touches?e.originalEvent.touches[0]:e,a=t.event.special.swipe.getLocation(i);return{time:(new Date).getTime(),coords:[a.x,a.y]}},handleSwipe:function(e,i,a,n){if(i.time-e.time<t.event.special.swipe.durationThreshold&&Math.abs(e.coords[0]-i.coords[0])>t.event.special.swipe.horizontalDistanceThreshold&&Math.abs(e.coords[1]-i.coords[1])<t.event.special.swipe.verticalDistanceThreshold){var s=e.coords[0]>i.coords[0]?"swipeleft":"swiperight";return o(a,"swipe",t.Event("swipe",{target:n,swipestart:e,swipestop:i}),!0),o(a,s,t.Event(s,{target:n,swipestart:e,swipestop:i}),!0),!0}return!1},eventInProgress:!1,setup:function(){var e,i=this,a=t(i),o={};e=t.data(this,"mobile-events"),e||(e={length:0},t.data(this,"mobile-events",e)),e.length++,e.swipe=o,o.start=function(e){if(!t.event.special.swipe.eventInProgress){t.event.special.swipe.eventInProgress=!0;var a,s=t.event.special.swipe.start(e),r=e.target,l=!1;o.move=function(e){s&&!e.isDefaultPrevented()&&(a=t.event.special.swipe.stop(e),l||(l=t.event.special.swipe.handleSwipe(s,a,i,r))&&(t.event.special.swipe.eventInProgress=!1),Math.abs(s.coords[0]-a.coords[0])>t.event.special.swipe.scrollSupressionThreshold&&e.preventDefault())},o.stop=function(){l=!0,t.event.special.swipe.eventInProgress=!1,n.off(h,o.move),o.move=null},n.on(h,o.move).one(d,o.stop)}},a.on(l,o.start)},teardown:function(){var e,i;e=t.data(this,"mobile-events"),e&&(i=e.swipe,delete e.swipe,0===--e.length&&t.removeData(this,"mobile-events")),i&&(i.start&&t(this).off(l,i.start),i.move&&n.off(h,i.move),i.stop&&n.off(d,i.stop))}},t.each({scrollstop:"scrollstart",taphold:"tap",swipeleft:"swipe.left",swiperight:"swipe.right"},function(e,i){t.event.special[e]={setup:function(){t(this).bind(i,t.noop)},teardown:function(){t(this).unbind(i)}}})}(t,this)})},89:function(t,e,i){"use strict";function a(){o=window.location.href}i.d(e,"a",function(){return o}),i.d(e,"b",function(){return n}),e.c=a;var o=void 0,n=function(){return window.history.state&&window.history.state.index||0};a()},91:function(t,e,i){"use strict";i.d(e,"c",function(){return s}),i.d(e,"a",function(){return r}),i.d(e,"b",function(){return l});var a={featureType:"poi",elementType:"labels.icon",stylers:[{visibility:"on"}]},o=[a,{featureType:"poi.park",elementType:"geometry"},{featureType:"transit.station",elementType:"labels.text.fill"}],n={featureType:"poi",elementType:"labels.icon",stylers:[{visibility:"off"}]},s=o,r=n,l=a},919:function(t,e,i){t.exports=i.p+"pin-property@1x-a4fea9dd3452245072d91316c7f55af6.png"},92:function(t,e,i){"use strict";function a(t){s=t}function o(t){r=t}function n(t){l=t}i.d(e,"a",function(){return s}),i.d(e,"b",function(){return r}),i.d(e,"c",function(){return l}),e.d=a,e.f=o,e.e=n;var s=void 0,r=void 0,l=void 0},991:function(t,e,i){"use strict";var a=i(13);MOVE.LDP.AptlistRecommendationsModal=function(t){var e=$("#aptlist-recommendations-modal"),o=function(){var t="";MOVE.CONSTANTS.IS_IPAD&&(t="modal-scroll-fix"),e.on("shown.bs.modal",function(){$("body").addClass("modal-open "+t)}),e.on("hidden.bs.modal",function(){$("body").removeClass("modal-scroll-fix")}),e.modal()},n=function(t,n){MOVE_DATA.adobeDTM.modal={name:"post-lead:aptlist"},i.i(a.a)("post-lead:aptlist",n),e.length?o():MOVE.ModalHelper.fetchModal("#aptlist-recommendations-modal",MOVE.LDP.model.getData(),{recommendations:t})};return t.AptlistRecommendationsModal={show:n},t.AptlistRecommendationsModal}(MOVE.LDP||{})},992:function(t,e,i){"use strict";var a=i(914),o=i.n(a),n=i(302);MOVE.LDP.BrowseModules=function(t){var e,i,a=$(".ldp-connected-listings"),s=$(".js-bm-container"),r=$("#ldp-homes-with-similar-mortgage"),l=$(".js-homes-around-collapse").length,d=function(t){p(t),MOVE.DOMHelper.initPopOver(r)},h=function(){var t=a.filter("[data-is-load-complete='true']"),e=a.filter("[data-is-load-complete='false']"),i=function(t){var e=$(t);if(e.hasClass("hide")||0===e.find(".owl-carousel").children("div").length)return void e.addClass("hide");var i=e.find(".rdc-carousel");if(i.RdcHorizontalCarousel({items:5,loop:!1,showNav:"show",margin:15,moveBy:"set"}),e.find(".browse-module-card").on("tap",function(){$(this).find(".bm-link-overlay").trigger("click")}),MOVE.DOMHelper.unveilLoadImages("img",{},i),MOVE.LocalStorage.isAvailable&&c())if(1===window.performance.navigation.type)window.localStorage.removeItem("browseModulesSavedListings");else if(2===window.performance.navigation.type){var a=MOVE.Common.getSavedListings();a.length&&_.each(a,function(t){var e=t.split(":"),i=e[0],a=e[1],o=$('div[data-listingid="'+i+'"]');o.length&&o.find(".hp-unsave").is(":hidden")&&o.find(".hp-unsave").data("res-id",a).show().end().find(".hp-save").hide()})}};e.on("load-complete",function(t){i(t.target)}),t.each(function(t,e){i(e)})},c=function(){return window.performance&&window.performance.navigation&&window.performance.navigation.type},p=function(t){e=t.bmType,y().done(function(e){b(e,t)})},u=function(){i=MOVE.LDP.model.getData(),_.isEmpty(i.postal_code)?m()&&!l&&d(O("homes_near_street")):$.each(v(),function(t,e){d(O(e))})},f=function(){i=MOVE.LDP.model.getData(),m()&&d(O("homes_near_street"))},m=function(){return!MOVE.FormatHelper.isEmpty(i.lat)&&!MOVE.FormatHelper.isEmpty(i.long)},g=function(){var t=($.cookie()["AMCV_8853394255142B6A0A4C98A4@AdobeOrg"]||"").split("|");return t[t.indexOf("MCMID")+1]},v=function(){var t=MOVE.LDP.model.getData()||{},e=["for_sale","not_for_sale"].indexOf(t.property_type)>-1,i="for_rent"===t.property_type,a=t.features_list||[],o=a.indexOf("Pool and Spa")>-1||a.indexOf("Pool")>-1,n=$("#homes-near-street-wrapper").length&&!l,s=[];return $("#ldp-detail-romance").length&&!o&&(o=$("#ldp-detail-romance").text().toLowerCase().indexOf("swimming pool")>-1),n&&m()&&(s=["homes_near_street"]),e&&o?s=s.concat(["homes_with_pool"]):i&&(s=s.concat(["homes_with_similar_mortgage"]),t.flags.is_aptlist||(s=s.concat(["rental_homes_you_may_like"]))),s},y=function(){var t=$.Deferred();return $.ajax({url:"/browse_modules/"+e,method:"GET",data:w(),dataType:"JSON",success:function(e){t.resolve(e)},error:function(e){t.reject(e)}}),t},b=function(t,e){if(t&&t.properties&&t.properties.length>=3){var i=MOVE.LDP.model.getData()||{};if("homes_near_street"===e.bmType)if(MOVE.Helper.isPhone()&&t.neighborhood_highlights.length<4)e.bmContainerObj.addClass("hide");else if(t.properties.length>=4){var a,s;t.properties=_.filter(t.properties,function(t){return i.property_id!==t.property_id}),_.each(t.properties,function(t){t.saved_resource_id=MOVE.Common.getSavedResourceId(t,i.saved_listings)}),a=$.extend(i,{homes_near_street:t}),s=o()({property:a,is_mobile:MOVE.Helper.isPhone(),homes_around_title:a.homes_around_title,haven_cta_enabled:a.haven_cta_enabled,ldp_collapse_disabled:x(),address_unavailable:a.address_unavailable,haven_myhome_tracking_enabled:a.haven_myhome_tracking_enabled,is_user_claimed_home:a.is_user_claimed_home,haven_property_cta:a.haven_property_cta,map:{recently_built:"ldp:neighborhood-highlights:for-sale:recently-built:card",smallest_size:"ldp:neighborhood-highlights:for-sale:smallest-size:card",largest_size:"ldp:neighborhood-highlights:for-sale:largest-size:card",recently_listed:"ldp:neighborhood-highlights:for-sale:recently-listed:card",hidden_gem:"ldp:neighborhood-highlights:for-sale:hidden-gem:card",most_affordable:"ldp:neighborhood-highlights:for-sale:most-affordable:card",most_expensive:"ldp:neighborhood-highlights:for-sale:most-expensive:card",sold_fastest:"ldp:neighborhood-highlights:recently-sold:sold-fastest:card",recent_sale:"ldp:neighborhood-highlights:recently-sold:recent-sale:card",sold_above_asking:"ldp:neighborhood-highlights:recently-sold:sold-above-asking:card",sold_below_asking:"ldp:neighborhood-highlights:recently-sold:sold-below-asking:card"}}),e.bmContainerObj.html(s);var r=$("body"),d=r.find(".container"),h=d.find("#ldp-accordion-homes-around");h.length>0&&("V1"===MOVE_DATA.full_ldp_modules||"V2"===MOVE_DATA.full_ldp_modules)&&h.on("click",function(){setTimeout(function(){MOVE.LDP.RightRailBC.getAdPosition()},400),n.a.call(this)}),MOVE.LDP.HomesNearStreet.init(),$("#ldp-recently-sold-around").hasClass("hide")||MOVE.LDP.Map.init("recentlySoldAroundMap",!0,!1)}else l&&$("#homes-near-street-wrapper").text("Sorry, homes near street information is currently not available.");else{var c=t.description,p=t.properties,u=e.bmContainerObj.find(".owl-carousel");e.bmObj.find(".js-bm").removeClass("hide"),"homes_with_similar_mortgage"===e.bmType&&e.bmObj.find(".js-bm-disclaimer").removeClass("hide"),p&&$.each(p,function(i,a){var o=MOVE.LDP.model.getData()||{},n=o.saved_listings,s=_.find(n,function(t){return parseInt(t.sub_resource_id)===parseInt(a.listing_id)});s&&(a.saved_resource_id=s.id);var r=JST["templates/browse_modules_card"]({property:a,listing_class:"",listing_index:i,omtag:M(t.omniture_tag,e.omtag),browse_module_count:p.length,show_full_address:"recommended_homes"===e.bmType,is_mobile:MOVE.Helper.isPhone()});u.append(r)}),c&&e.bmContainerObj.after('<p class="font-size-small">'+c+"</p>")}}else l&&"homes_near_street"===e.bmType?$("#homes-near-street-wrapper").text("Sorry, homes near street information is currently not available."):e.bmObj.addClass("hide");e.bmObj.data("is-load-complete",!0),e.bmObj.trigger("load-complete")},M=function(t,e){return void 0!==t?"ldp:browse-more:"+t+":by-user":e},x=function(){return!$("#homes-near-street-wrapper").parent().hasClass("panel-body")},w=function(){var t=MOVE.LDP.model.getData()||{},i=MOVE.DataStore.getData("median_listing_price"),a={id:t.property_id,price:t.price,postal_code:t.postal_code,median_price:i,type:e,vis_id:$.cookie("__vst"),mcm_id:g(),address:t.address_display,user_id:MOVE.DataStore.getData("memberId")};if("homes_with_similar_mortgage"===e&&$.extend(a,{mortgage_min:t.price_min||t.price,mortgage_max:t.price_max,state_code:t.state_code}),"homes_near_street"===e&&$.extend(a,{city:t.city,coordinates:t.lat+","+t.long}),"rental_homes_you_may_like"===e){var o={property_type:"apartments"};$.extend(a,o)}return a},k=function(){a.appear(),a.is(":appeared")&&(a.off("appear"),$(window).scroll())},O=function(t){var e={};switch(t){case"homes_with_pool":e=C();break;case"homes_near_street":e=E();break;case"homes_with_similar_mortgage":e=D();break;case"rental_homes_you_may_like":e=T()}return $(e.bmObj.selector).removeClass("hide"),e.bmType=t,e},C=function(){return{bmObj:s.find("#ldp-homes-with-pool"),bmContainerObj:s.find(".js-ldp-homes-with-pool"),omtag:"ldp:browse-more:features-pools:within-zip"}},E=function(){return{bmObj:$("#homes-near-street"),bmContainerObj:$("#homes-near-street-wrapper")}},D=function(){return{bmObj:s.find("#ldp-homes-with-similar-mortgage"),bmContainerObj:s.find(".js-ldp-homes-with-similar-mortgage"),omtag:"ldp:homes-with-similar-mortgages:card"}},T=function(){return{bmObj:s.find("#ldp-rental-homes-you-may-like"),bmContainerObj:s.find(".js-ldp-rental-homes-you-may-like"),omtag:"ldp:rental-homes-you-may-like:card"}};return t.BrowseModules={init:d,getData:p,loadBrowseModulePhotos:k,lazyLoadBrowseModules:u,initCarousels:h,lazyLoadHomesNearStreet:f},t.BrowseModules}(MOVE.LDP||{})},993:function(t,e,i){"use strict";var a=i(679);MOVE.LDP.CallLeads=function(t){var e,o,n,s=function(){e=MOVE.LDP.model.getData()||{},!MOVE.Helper.isPhone()||"for_rent"==e.status&&e.flags.is_flip_market_enabled||$(".phone-tracking").on("click",function(){n="LPS",o=this,h()})},r=function(){return MOVE_DATA.propertyDetails.status===MOVE.CONSTANTS.PROPERTY_STATUS.forRent?l():d()},l=function(){if(MOVE_DATA.adobeDTM.listing){var t;return"basic"===MOVE_DATA.adobeDTM.listing.leadDelivery&&"mls"===MOVE_DATA.adobeDTM.dataSourceType?(t="basic",n="LCS"):"showcase"===MOVE_DATA.adobeDTM.listing.leadDelivery?t="showcase":"advantage_pro"===MOVE_DATA.adobeDTM.listing.leadDelivery?(t=MOVE_DATA.adobeDTM.listing.leadDelivery,n="LCS"):"unit_rental"===MOVE_DATA.adobeDTM.dataSourceType?t="rental basic unit":"community"===MOVE_DATA.adobeDTM.dataSourceType&&(t="rental basic community"),t}},d=function(){var t;return MOVE_DATA.adobeDTM.listing&&"advantage_pro"===MOVE_DATA.adobeDTM.listing.leadDelivery?(t="advantage_pro",n="LCS"):(t="basic",n="LCS"),t},h=function(){var t="tfn"===$(o).attr("data-phone-number-type"),e=r(),i=$(o).attr("data-phone-click-tracking");t||$.ajax({data:p(e),url:"/leads",type:"POST",success:function(){c(i)}})},c=function(t){var e=MOVE_DATA.adobeDTM,o=e.propertyStatus,n=e.listing&&e.listing.leadDelivery,s=t,r=e.dataSourceType;i.i(a.a)(o,n,s,r)},p=function(t){var i=$(o).attr("data-business-card"),a={lead:{lead_service:n,lead_capture_product:t,guid:"",master_listing_id:e.listing_id,property_id:e.property_id,status:u(e.status,n),phone:$(o).attr("data-phone-number"),business_card:i,advertiser_id:MOVE_DATA.adobeDTM["advertiserID-office"],community_id:MOVE_DATA.propertyDetails.community_id,form_name:MOVE.CONSTANTS.ADVERTISER_FORM_NAME_MAPPING[i],target:MOVE.CONSTANTS.ADVERTISER_TARGET_MAPPING[i],recent_searches:JSON.stringify(MOVE.UserActivity.getRecentSearches()),recent_views:JSON.stringify(MOVE.UserActivity.getRecentViews()),visitor_id:$.cookie("__vst")},call_lead:!0};return $.param(a)},u=function(t,e){return"for_rent"===t&&"LCS"===e?"rental":t};return t.CallLeads={init:s,_TEST_getLeadCaptureProduct:r},t.CallLeads}(MOVE.LDP||{})},994:function(t,e){MOVE.LDP.DetailsKeyFact=function(t){var e=$("#key-fact-carousel"),i=function(){var t={loop:!1,showNav:"show",moveBy:"set",responsive:{0:{items:1,autoWidth:!0},996:{items:6,autoWidth:!1},1280:{items:6,autoWidth:!1}}};e.RdcHorizontalCarousel(t),e.find(".rdc-next-collapsed-set").click(function(){$(this).removeClass("rdc-next-collapsed-set")})};return t.DetailsKeyFact={init:i},t.DetailsKeyFact}(MOVE.LDP||{})},995:function(t,e){MOVE.LDP.FeaturesGallery=function(t){var e=function(){o()},i=function(t){switch(t){case"feature-fullscreen-gallery-bedrooms":return"bed";case"feature-fullscreen-gallery-bathrooms":return"bath";case"feature-fullscreen-gallery-kitchen_and_dining":return"kitch";case"feature-fullscreen-gallery-exterior_and_lot_features":return"extr";default:return""}},a=function(t){var e=i(t);MOVE.Medias.kruxPixel("K5qafkJ2",{category:e})},o=function(){$(".feature-image-tag-modal").on("shown.bs.modal",function(){MOVE.LDP.PhotoGallery.init(n($(this))),a($(this).attr("id"))}),$(".js-image-tag .feature-image-tag-modal").on("hide.bs.modal",function(){var t=$(".js-image-tag .feature-image-tag-modal").index(this);(MOVE.Helper.isMobile()&&1===t||!MOVE.Helper.isMobile()&&_.contains([2,3],t))&&"false"===$(".load-more-features").attr("aria-expanded")&&$(".load-more-features").readmore("toggle")})},n=function(t){var e,i=t.find(".feature-photo-gallery");return e=void 0===t.data("selectedIndex")?0:t.data("selectedIndex"),{selectedPhotoIndex:e,showAds:!1,galleryContainer:i,navContainer:i.closest(".feature-photo-gallery-navigation"),thumbnailContainer:t.find(".feature-thumbnails-photo-carousel"),photosCount:t&&t.find(".owl-lazy").length,showPhotoCount:!1}};return t.FeaturesGallery={init:e},t.FeaturesGallery}(MOVE.LDP||{})},996:function(t,e){MOVE.LDP.HelocCtaTracking=function(t){var e=window.RdcTracking,i=function(){$(".heloc-article-cta-button").on("click",function(){e.trackEvent("click",{linkName:"finance:heloc_ad_placement:pdp:learn_more"})})};return t.HelocCtaTracking={init:i},t.HelocCtaTracking}(MOVE.LDP||{}),MOVE.LDP.HelocCtaTracking.init()},997:function(t,e){MOVE.LDP.HideUnhide=function(t){var e,i,a,o,n,s,r={},l=function(t){d(),h(t),e=$(".js-hide-listing-alert"),i=e.find(".js-already-hidden"),a=e.find(".js-just-hidden"),o=$(".js-close-hid-listing-alert"),n=$(".ldp-unsave:first"),s=$(".insurance-block .quote-dropdown"),o.click(function(){e.fadeOut("slow")}),$("body").on("click",".ldp-hide",p).on("click",".ldp-unhide",u).on("hideOnSavedProperty",p).on("change",s,c).on("click",".js-tracking .ldp-hide-not-logged-in",{is_listings:!0},function(t){$(".modal").is(":visible")&&$(".modal").find(".close").click();var e=$(this),i=function(){location.reload()};return window.raasLogin(function(){var a=e.closest(".js-tracking"),o={property_id:a.data("propertyid"),status:a.data("status")};MOVE.Common.hideListing(t,{listing:o,callBack:i,requireReload:!0})}),MOVE.Common.loginTracking(e),t.preventDefault(),!1})},d=function(){$(".js-recently-sold-listings").is(":visible")&&$(".recently-sold-view-all").css("display","block")},h=function(t){r={property_id:t.property_id,status:t.status}},c=function(t){var e=$(".insurance-block .card:not(.hide-card)"),i=$(".insurance-block .hide-card"),a=$(".flood-data-disclaimer .ins-dis:not(.hide-disclaimer)"),o=$(".flood-data-disclaimer .hide-disclaimer");e.addClass("hide-card"),i.removeClass("hide-card"),a.addClass("hide-disclaimer"),o.removeClass("hide-disclaimer")},p=function(t){if(MOVE.FormatHelper.isEmpty(n.data("res-id"))){var o=function(){$(".ldp-hide").hide().removeAttr("disabled"),$(".ldp-unhide").show(),e.fadeIn("slow"),i.hide(),a.show(),f()};MOVE.Common.hideListing(t,{listing:r,callBack:o,requireReload:!1})}else n.data("triggerHide",!0),n.click()},u=function(t){var i=$(".ldp-hide"),a=$(".ldp-unhide"),o=function(){i.show(),a.hide().removeAttr("disabled"),e.fadeOut("slow")};MOVE.Common.unhideListing(t,{listing:r,callBack:o})},f=function(){var t=MOVE.Helper.getPropertyLinksFromStorage(),e=MOVE_DATA.propertyDetails&&MOVE_DATA.propertyDetails.permalink;if(t&&t.links&&e){var i=t.links,a=_.reject(i,function(t){return 1==t.includes(e)});a.length!==i.length&&MOVE.Helper.setPropertyLinksToStorage(a,t.totalCount,t.pageIndex)}};return t.HideUnhide={init:l},t.HideUnhide}(MOVE.LDP||{})},998:function(t,e,i){"use strict";var a=i(63);MOVE.LDP.HistoricalForecastGraph=function(t){var e=MOVE.LDP.model.getData(),o=MOVE.Helper.isPhone(),n=0,s=!1,r=function(){l()},l=function(){e.avm_trend&&e.avm_trend.history&&e.avm_trend.history.length>=36&&$("#ldp-forecast-graph").length&&(Highcharts.Tooltip.prototype.hide=function(){},new window.Highcharts.chart($("#ldp-forecast-graph")[0],d()),E())},d=function(){var t=k(),i=O(t),a=C(t);return{chart:{events:{load:h},height:o?280:400},title:{text:null},xAxis:{type:"datetime",tickInterval:f(),plotBands:[{from:e.avm_trend.history[e.avm_trend.history.length-1][0],to:u(),color:"rgba(226, 227, 235, .5)"}],labels:{style:{color:"#6f6f6f",fontWeight:"bold",font:"12px Roboto, sans-serif"}}},yAxis:{title:{text:null},opposite:!0,labels:{formatter:y,style:{fontWeight:"bold",font:"12px Roboto, sans-serif"}},min:i,max:a},legend:{enabled:!1},tooltip:{useHTML:!0,positioner:b,formatter:M,borderColor:"#e2e2e2",shape:"square",style:{opacity:o?0:1},shadow:!o,backgroundColor:"rgba(255,255,255,1)",crosshairs:{dashStyle:"solid"}},plotOptions:{series:{point:{events:{mouseOver:c}}}},series:[v({name:"historicalForecast",data:p()})],credits:{enabled:!1}}},h=function(){var t=e.avm_trend.forecast?e.avm_trend.forecast.length:0,i=this.series[0].data;this.tooltip.refresh(t>0?i[i.length-t]:i[i.length-1])},c=function(){n<5&&5===(n+=1)&&i.i(a.f)()},p=function(){return e.avm_trend.forecast&&e.avm_trend.forecast.length?e.avm_trend.history.concat(e.avm_trend.forecast):e.avm_trend.history},u=function(){return e.avm_trend.forecast&&e.avm_trend.forecast.length?e.avm_trend.forecast[e.avm_trend.forecast.length-1][0]:e.avm_trend.history[e.avm_trend.history.length-1][0]},f=function(){return o?94608e6:31536e6},m=function(){return{value:e.avm_trend.history[e.avm_trend.history.length-1][0],dashStyle:"solid",color:"#6473c8"}},g=function(){return e.avm_trend.forecast?{value:e.avm_trend.forecast[e.avm_trend.forecast.length-1][0],dashStyle:"shortdot",color:"#6473c8"}:{}},v=function(t){return{name:t.name||"",type:"area",data:t.data||[],zoneAxis:"x",zones:[m(),g()],fillColor:"rgba(246, 247, 253, .5)",lineColor:"#6473c8",cursor:"pointer",connectNulls:!0,marker:{enabled:!1,symbol:"circle",lineColor:"#5568c3",fillColor:"#5568c3",radius:3},states:{hover:{lineWidthPlus:0}}}},y=function(){return this.value<1e6?"$"+this.value/1e3+"K":"$"+this.value/1e6+"M"},b=function(){return{x:o?0:40,y:o?-40:20}},M=function(){return'<div style="line-height: 22px; font-family: roboto;">'+x(this.x)+'<span style="color:#7cb5ec"></span> This home &emsp;<b>'+w(this.y)+"</b></div>"},x=function(t){var e=new Date(t);return'<div style="color:#9d9d9d">'+e.toLocaleString("en-us",{month:"long"})+" "+e.getFullYear().toString()+"</div>"},w=function(t){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(Math.floor(t))},k=function(){return e.avm_trend.history.concat(e.avm_trend.forecast||[]).map(function(t){return t[1]})},O=function(t){return Math.min.apply(Math,t)},C=function(t){var e=Math.max.apply(Math,t),i=O(t);return _.findIndex(t,function(t){return(t-i)/(e-i)>=.8})/t.length<.3?1.2*e:e},E=function(){o&&($(window).on("touchstart",function(t){"highcharts-tracker"===t.target.className.baseVal&&(s=!0)}),$(window).on("touchend",function(){s=!1}),$(window).on("touchmove",function(t){s&&t.preventDefault()}))};return t.HistoricalForecastGraph={init:r},t.HistoricalForecastGraph}(MOVE.LDP||{})},999:function(t,e,i){"use strict";var a=i(63);MOVE.LDP.HomesNearStreet=function(t){var e,o,n=MOVE.LDP.model.getData()||{},s=[],r=function(){$("body").on("UpdateHomesNearStreetSave",function(t,e,i){x(e,i)}),e=$("#ldp-home-around-hignlight-carousel"),e.on("click",".recently-sold-around-highlight-card",g).on("click",'a[data-disable-crabwalk="true"]',g),1===e.length&&(u(),m(),$(".recently-sold-around-highlight-card").on("tap",function(){$(this).find(".js-triggable").trigger("click")}))},l=function(t){!o&&n&&n.homes_near_street&&n.homes_near_street.properties&&(n.homes_near_street.defaultForSaleProp=n.homes_near_street.properties.filter(function(t){return"for_sale"===t.status})[0],o=n.homes_near_street.defaultForSaleProp?"true":"false"),!t&&n&&n.homes_near_street&&n.homes_near_street.properties&&(t=n.homes_near_street.properties[0]),t&&($("#ldp-recently-sold-card").html(JST["templates/homes_around_card_carousel"]({properties:h(t),showOffMarketCta:o,ctaText:MOVE_DATA.ab_cta_text_submit})),f(),d())},d=function(){i.i(a.c)(MOVE_DATA.adobeDTM)},h=function(t){return t instanceof Array?(t=_.sortBy(t,function(t){return t.status}),$.each(t,function(t,e){c(e)})):c(t),t},c=function(t){var e=p(t);return e&&(t.saved_resource_id=e.resourceId),t},p=function(t){if(s.length&&"for_sale"===t.status)return _.find(s,function(e){return parseInt(e.listingId)===parseInt(t.listing_id)})},u=function(){e.RdcHorizontalCarousel({loop:!1,showNav:"show",moveBy:"set",margin:20,lazyLoad:!0,items:5}),MOVE.DOMHelper.unveilLoadImages("img",{},e)},f=function(){$("#ldp-recently-sold-card").RdcHorizontalCarousel({loop:!1,moveBy:1,items:1,autoWidth:!1})},m=function(){if(MOVE.Helper.hasSessionStorage()){var t=JSON.parse(window.sessionStorage.getItem("homes-near-street-slider"));if(null!==t&&n.property_id===t.id){for(var i=v(t.pos),a=0;a<i.next;a++)e.find(".rdc-next-set").click();for(var o=0;o<i.prev;o++)e.find(".rdc-prev-set").click();window.sessionStorage.removeItem("homes-near-street-slider")}}},g=function(){var t=e.find(".owl-stage").css("transform");MOVE.Helper.hasSessionStorage()&&v(t).next>0&&window.sessionStorage.setItem("homes-near-street-slider",JSON.stringify({id:n.property_id,pos:t})),MOVE.DOMHelper.disableCrabwalk()},v=function(t){var e=t.match(/-?[\d\.]+/g),i=M(),a=b(),o=parseInt(e[4],10),n=Math.abs(o)/i;return o%i==0?{next:n,prev:0}:{next:a,prev:a-Math.ceil(n)}},y=function(){return e.find(".owl-stage").width()},b=function(){return Math.floor(y()/M())},M=function(){return 100*Math.floor(e.width()/100)},x=function(t,e){var i=_.find(s,function(e){return parseInt(e.listingId)===parseInt(t)});i?i.resourceId=e:s.push({listingId:t,resourceId:e})};return t.HomesNearStreet={init:r,homesNearCard:l},t.HomesNearStreet}(MOVE.LDP||{})}},[1659]);
//# sourceMappingURL=ldp_non_critical-2f79d4c8dfaf25170ff9.js.map

}
/*
     FILE ARCHIVED ON 06:50:00 Aug 19, 2020 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 01:40:51 Jun 28, 2023.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
*/
/*
playback timings (ms):
  captures_list: 178.942
  exclusion.robots: 0.071
  exclusion.robots.policy: 0.063
  cdx.remote: 0.054
  esindex: 0.009
  LoadShardBlock: 149.469 (3)
  PetaboxLoader3.datanode: 140.868 (5)
  load_resource: 436.215 (2)
  PetaboxLoader3.resolve: 167.394 (2)
*/